"use strict";(self.webpackChunkICRON_WFM_WEB=self.webpackChunkICRON_WFM_WEB||[]).push([[561],{73561:(A,b,g)=>{g.d(b,{U:()=>j,w:()=>V});var v=g(11481),u=g(94650),c=g(87063),l=g(23500),O=g(83684),M=g(64596),y=g(91553),I=g(96701),R=g(67771),E=g(15239),m=g(56836),G=g(6840),L=g(61146),{states:f}=c.Z,z=c.Z.pieSeriesSpacing,Z=f.normalMark,H=f.hoverMark,N=f.selectedMark,B=[f.resetItem,f.applyHover,f.applySelected,f.applySelected];function D(t){return(0,M.kE)(t)?t>1?t=1:t<0&&(t=0):t=void 0,t}var P=function(){function t(i,r){return i.filter(function(s){return s!==r})}var n=[],e={};return{queue:function(i){var h,r=i.getSizeGroup();n=t(n,h=i).concat(h),clearTimeout(e[r]),e[r]=setTimeout(function(){var o,p,x,T;o=r,p=n.filter(C=>C._isVisible()&&C.getSizeGroup()===o),x=Math.min.apply(null,p.map(C=>C.getSizeGroupLayout().radius)),T=p.filter(C=>C.getSizeGroupLayout().radius===x),p.forEach(C=>C.render({force:!0,sizeGroupLayout:T.length?T[0].getSizeGroupLayout():{}}))})},remove:function(i){(n=t(n,i)).length||(e={})}}}(),S=E.P.inherit({_themeSection:"pie",_layoutManagerOptions:function(){return(0,O.l)(!0,{},this.callBase(),{piePercentage:D(this._themeManager.getOptions("diameter")),minPiePercentage:D(this._themeManager.getOptions("minDiameter"))})},_customChangesOrder:["CENTER_TEMPLATE"],_optionChangesMap:{diameter:"REINIT",minDiameter:"REINIT",sizeGroup:"REINIT",centerTemplate:"CENTER_TEMPLATE"},_change_CENTER_TEMPLATE(){this._renderCenterTemplate()},_disposeCore:function(){P.remove(this),this.callBase(),this._centerTemplateGroup.linkOff().dispose()},_groupSeries:function(){var t=this.series;this._groupsData={groups:[{series:t,valueOptions:{valueType:"numeric"}}],argumentOptions:t[0]&&t[0].getOptions()}},getArgumentAxis:function(){return null},_getValueAxis:function(){var t=(new G.Y).setCodomain(360,0);return{getTranslator:function(){return t},setBusinessRange:function(n){t.setDomain(n.min,n.max)}}},_populateBusinessRange:function(){this.series.map(function(t){var n=new I.e;return n.addRange(t.getRangeData().val),t.getValueAxis().setBusinessRange(n),n})},_specialProcessSeries:function(){(0,y.S6)(this.series,function(t,n){n.arrangePoints()})},_checkPaneName:function(){return!0},_processSingleSeries:function(t){this.callBase(t),t.arrangePoints()},_handleSeriesDataUpdated:function(){var t=0;this.series.forEach(function(n){t=Math.max(n.getPointsCount(),t)}),this.series.forEach(function(n){n.setMaxPointsCount(t)}),this.callBase()},_getLegendOptions:function(t){var n=this.callBase(t),e=n.legendData;return e.argument=t.argument,e.argumentIndex=t.argumentIndex,e.points=[t],n},_getLegendTargets:function(){var t=this,n={};(t.series||[]).forEach(function(i){i.getPoints().forEach(function(r){var s=r.argument.valueOf(),h=i.getPointsByArg(s).indexOf(r),o=s.valueOf().toString()+h;n[o]=n[o]||[];var d=n[o].push(r);r.index=n[o][d-2]?n[o][d-2].index:Object.keys(n).length-1,r.argumentIndex=h})});var e=[];return(0,y.S6)(n,function(i,r){r.forEach(function(s,h){if(0!==h){var o=e[e.length-1];o.legendData.points.push(s),o.visible||(o.visible=s.isVisible())}else e.push(t._getLegendOptions(s))})}),e},_getLayoutTargets:function(){return[{canvas:this._canvas}]},_getLayoutSeries:function(t,n){var e,i=this._canvas,r=!1;return e=this.layoutManager.applyPieChartSeriesLayout(i,t,!0),t.forEach(function(s){s.correctPosition(e,i),r=s.drawLabelsWOPoints()||r}),r&&(e=this.layoutManager.applyPieChartSeriesLayout(i,t,n.hideLayoutLabels)),t.forEach(function(s){s.hideLabels()}),this._sizeGroupLayout={x:e.centerX,y:e.centerY,radius:e.radiusOuter,drawOptions:n},e},_getLayoutSeriesForEqualPies:function(t,n){var e=this._canvas,i=this.layoutManager.applyEqualPieChartLayout(t,n);return t.forEach(function(r){r.correctPosition(i,e),r.drawLabelsWOPoints()}),this.layoutManager.correctPieLabelRadius(t,i,e),i},_updateSeriesDimensions:function(t){var i,r,s,n=this._getVisibleSeries(),e=n.length,h=t.sizeGroupLayout;e&&(s=h?this._getLayoutSeriesForEqualPies(n,h):this._getLayoutSeries(n,t),r=(s.radiusOuter-s.radiusInner-z*(e-1))/e,i=s.radiusInner,this._setGeometry(s),n.forEach(function(o){o.correctRadius({radiusInner:i,radiusOuter:i+r}),i+=r+z}))},_renderSeries:function(t,n,e){if(this._calculateSeriesLayout(t,n),!t.sizeGroupLayout&&this.getSizeGroup())return P.queue(this),void this._clearCanvas();this._renderSeriesElements(t,e)},_createHtmlStructure(){this.callBase(),this._centerTemplateGroup=this._renderer.g().attr({class:"dxc-hole-template"}).linkOn(this._renderer.root,"center-template").css((0,l.FI)(this._themeManager._font)).linkAppend()},_renderExtraElements(){this._requestChange(["CENTER_TEMPLATE"])},_renderCenterTemplate(){var t=this.option("centerTemplate"),n=this._centerTemplateGroup.clear();!t||(n.attr({visibility:"hidden"}),(t=this._getTemplate(t)).render({model:this,container:n.element,onRendered:()=>{var e=n,i=e.getBBox();e.move(this._center.x-(i.x+i.width/2),this._center.y-(i.y+i.height/2)),e.attr({visibility:"visible"})}}))},getInnerRadius(){return this._innerRadius},_getLegendCallBack:function(){var t=this,n=this._legend,e=this._getLegendTargets().map(function(i){return i.legendData});return function(i){e.forEach(function(r){var s=[],h=n.getActionCallback({index:r.id});t.series.forEach(function(o){var d=o.getPointsByKeys(r.argument,r.argumentIndex);s.push.apply(s,d)}),i&&i.argument===r.argument&&i.argumentIndex===r.argumentIndex&&s.push(i),h(function w(t){var n=Z;return t.forEach(e=>{var i,r=null===(i=e.series)||void 0===i?void 0:i.getOptions(),s=e.fullState;"none"===r?.hoverMode&&(s&=~H),"none"===r?.selectionMode&&(s&=~N),n|=s}),B[n]}(s))})}},_locateLabels(t){var e,i,n=0;do{i=this._adjustSeriesLabels("shift"===t),e=this._resolveLabelOverlapping(t)}while((e||i)&&++n<5)},_adjustSeriesLabels:function(t){return this.series.reduce((n,e)=>e.adjustLabels(t)||n,!1)},_applyExtraSettings:m.ZT,_resolveLabelOverlappingShift:function(){var t=this,n="anticlockwise"===t.option("segmentsDirection"),e=t.series.reduce(function(o,d){return(o[d.getOptions().label.position]||o.outside).push(d),o},{inside:[],columns:[],outside:[]}),i=!1;return e.inside.length>0&&(i=s(e.inside.reduce(function(o,d){return d.getVisiblePoints().reduce(function(p,x){return p.left.push(x),p},o)},{left:[],right:[]}),h)||i),i=e.columns.reduce((o,d)=>s(r(d),h)||o,i),e.outside.length>0&&(i=s(e.outside.reduce(function(o,d){return r(d,o)},null),function(o,d){return(0,l.l$)(o,-d,t._center)})||i),i;function r(o,d){return o.getVisiblePoints().reduce(function(p,x){var T=(0,l.LW)(x.middleAngle);return(T<=90||T>=270?p.right:p.left).push(x),p},d||{left:[],right:[]})}function s(o,d){var p;return n&&(o.left.reverse(),o.right.reverse()),p=E.F.resolveLabelOverlappingInOneDirection(o.left,t._canvas,!1,!1,d),E.F.resolveLabelOverlappingInOneDirection(o.right,t._canvas,!1,!1,d)||p}function h(o,d){return{x:o.x,y:o.y-d}}},_setGeometry:function(t){var{centerX:n,centerY:e,radiusInner:i}=t;this._center={x:n,y:e},this._innerRadius=i},_disposeSeries(t){this.callBase.apply(this,arguments),this._abstractSeries=null},_legendDataField:"point",_legendItemTextField:"argument",_applyPointMarkersAutoHiding:m.ZT,_renderTrackers:m.ZT,_trackerType:"PieTracker",_createScrollBar:m.ZT,_updateAxesLayout:m.ZT,_applyClipRects:m.ZT,_appendAdditionalSeriesGroups:m.ZT,_prepareToRender:m.ZT,_isLegendInside:m.ZT,_renderAxes:m.ZT,_shrinkAxes:m.ZT,_isRotated:m.ZT,_seriesPopulatedHandlerCore:m.ZT,_reinitAxes:m.ZT,_correctAxes:m.ZT,_getExtraOptions:function(){return{startAngle:this.option("startAngle"),innerRadius:this.option("innerRadius"),segmentsDirection:this.option("segmentsDirection"),type:this.option("type")}},getSizeGroup:function(){return this._themeManager.getOptions("sizeGroup")},getSizeGroupLayout:function(){return this._sizeGroupLayout||{}}});(0,y.S6)(["startAngle","innerRadius","segmentsDirection","type"],function(t,n){S.prototype._optionChangesMap[n]="REFRESH_SERIES_DATA_INIT"}),S.addPlugin(L.G.core),S.addPlugin(L.G.pieChart),(0,R.Z)("dxPieChart",S);const F=S;var _=g(99106),a=g(84943);let j=(()=>{class t extends _.Ay{constructor(e,i,r,s,h,o,d,p){super(e,i,r,s,d,p),this._watcherHelper=s,this._idh=h,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"done",emit:"onDone"},{subscribe:"drawn",emit:"onDrawn"},{subscribe:"exported",emit:"onExported"},{subscribe:"exporting",emit:"onExporting"},{subscribe:"fileSaving",emit:"onFileSaving"},{subscribe:"incidentOccurred",emit:"onIncidentOccurred"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"legendClick",emit:"onLegendClick"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"pointClick",emit:"onPointClick"},{subscribe:"pointHoverChanged",emit:"onPointHoverChanged"},{subscribe:"pointSelectionChanged",emit:"onPointSelectionChanged"},{subscribe:"tooltipHidden",emit:"onTooltipHidden"},{subscribe:"tooltipShown",emit:"onTooltipShown"},{emit:"adaptiveLayoutChange"},{emit:"animationChange"},{emit:"annotationsChange"},{emit:"centerTemplateChange"},{emit:"commonAnnotationSettingsChange"},{emit:"commonSeriesSettingsChange"},{emit:"customizeAnnotationChange"},{emit:"customizeLabelChange"},{emit:"customizePointChange"},{emit:"dataSourceChange"},{emit:"diameterChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"exportChange"},{emit:"innerRadiusChange"},{emit:"legendChange"},{emit:"loadingIndicatorChange"},{emit:"marginChange"},{emit:"minDiameterChange"},{emit:"paletteChange"},{emit:"paletteExtensionModeChange"},{emit:"pathModifiedChange"},{emit:"pointSelectionModeChange"},{emit:"redrawOnResizeChange"},{emit:"resolveLabelOverlappingChange"},{emit:"rtlEnabledChange"},{emit:"segmentsDirectionChange"},{emit:"seriesChange"},{emit:"seriesTemplateChange"},{emit:"sizeChange"},{emit:"sizeGroupChange"},{emit:"startAngleChange"},{emit:"themeChange"},{emit:"titleChange"},{emit:"tooltipChange"},{emit:"typeChange"}]),this._idh.setHost(this),o.setHost(this)}get adaptiveLayout(){return this._getOption("adaptiveLayout")}set adaptiveLayout(e){this._setOption("adaptiveLayout",e)}get animation(){return this._getOption("animation")}set animation(e){this._setOption("animation",e)}get annotations(){return this._getOption("annotations")}set annotations(e){this._setOption("annotations",e)}get centerTemplate(){return this._getOption("centerTemplate")}set centerTemplate(e){this._setOption("centerTemplate",e)}get commonAnnotationSettings(){return this._getOption("commonAnnotationSettings")}set commonAnnotationSettings(e){this._setOption("commonAnnotationSettings",e)}get commonSeriesSettings(){return this._getOption("commonSeriesSettings")}set commonSeriesSettings(e){this._setOption("commonSeriesSettings",e)}get customizeAnnotation(){return this._getOption("customizeAnnotation")}set customizeAnnotation(e){this._setOption("customizeAnnotation",e)}get customizeLabel(){return this._getOption("customizeLabel")}set customizeLabel(e){this._setOption("customizeLabel",e)}get customizePoint(){return this._getOption("customizePoint")}set customizePoint(e){this._setOption("customizePoint",e)}get dataSource(){return this._getOption("dataSource")}set dataSource(e){this._setOption("dataSource",e)}get diameter(){return this._getOption("diameter")}set diameter(e){this._setOption("diameter",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get export(){return this._getOption("export")}set export(e){this._setOption("export",e)}get innerRadius(){return this._getOption("innerRadius")}set innerRadius(e){this._setOption("innerRadius",e)}get legend(){return this._getOption("legend")}set legend(e){this._setOption("legend",e)}get loadingIndicator(){return this._getOption("loadingIndicator")}set loadingIndicator(e){this._setOption("loadingIndicator",e)}get margin(){return this._getOption("margin")}set margin(e){this._setOption("margin",e)}get minDiameter(){return this._getOption("minDiameter")}set minDiameter(e){this._setOption("minDiameter",e)}get palette(){return this._getOption("palette")}set palette(e){this._setOption("palette",e)}get paletteExtensionMode(){return this._getOption("paletteExtensionMode")}set paletteExtensionMode(e){this._setOption("paletteExtensionMode",e)}get pathModified(){return this._getOption("pathModified")}set pathModified(e){this._setOption("pathModified",e)}get pointSelectionMode(){return this._getOption("pointSelectionMode")}set pointSelectionMode(e){this._setOption("pointSelectionMode",e)}get redrawOnResize(){return this._getOption("redrawOnResize")}set redrawOnResize(e){this._setOption("redrawOnResize",e)}get resolveLabelOverlapping(){return this._getOption("resolveLabelOverlapping")}set resolveLabelOverlapping(e){this._setOption("resolveLabelOverlapping",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get segmentsDirection(){return this._getOption("segmentsDirection")}set segmentsDirection(e){this._setOption("segmentsDirection",e)}get series(){return this._getOption("series")}set series(e){this._setOption("series",e)}get seriesTemplate(){return this._getOption("seriesTemplate")}set seriesTemplate(e){this._setOption("seriesTemplate",e)}get size(){return this._getOption("size")}set size(e){this._setOption("size",e)}get sizeGroup(){return this._getOption("sizeGroup")}set sizeGroup(e){this._setOption("sizeGroup",e)}get startAngle(){return this._getOption("startAngle")}set startAngle(e){this._setOption("startAngle",e)}get theme(){return this._getOption("theme")}set theme(e){this._setOption("theme",e)}get title(){return this._getOption("title")}set title(e){this._setOption("title",e)}get tooltip(){return this._getOption("tooltip")}set tooltip(e){this._setOption("tooltip",e)}get type(){return this._getOption("type")}set type(e){this._setOption("type",e)}get annotationsChildren(){return this._getOption("annotations")}set annotationsChildren(e){this.setChildren("annotations",e)}get seriesChildren(){return this._getOption("series")}set seriesChildren(e){this.setChildren("series",e)}_createInstance(e,i){return new F(e,i)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("annotations",e),this.setupChanges("dataSource",e),this.setupChanges("palette",e),this.setupChanges("series",e)}setupChanges(e,i){e in this._optionsToUpdate||this._idh.setup(e,i)}ngDoCheck(){this._idh.doCheck("annotations"),this._idh.doCheck("dataSource"),this._idh.doCheck("palette"),this._idh.doCheck("series"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,i){let r=this._idh.setupSingle(e,i),s=null!==this._idh.getChanges(e,i);(r||s)&&super._setOption(e,i)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(_._5),u.Y36(_._h),u.Y36(_.i9),u.Y36(_.al),u.Y36(v.ki),u.Y36(u.Lbi))},t.\u0275cmp=u.Xpm({type:t,selectors:[["dx-pie-chart"]],contentQueries:function(e,i,r){if(1&e&&(u.Suo(r,a.ZnP,4),u.Suo(r,a.bcN,4)),2&e){let s;u.iGM(s=u.CRH())&&(i.annotationsChildren=s),u.iGM(s=u.CRH())&&(i.seriesChildren=s)}},inputs:{adaptiveLayout:"adaptiveLayout",animation:"animation",annotations:"annotations",centerTemplate:"centerTemplate",commonAnnotationSettings:"commonAnnotationSettings",commonSeriesSettings:"commonSeriesSettings",customizeAnnotation:"customizeAnnotation",customizeLabel:"customizeLabel",customizePoint:"customizePoint",dataSource:"dataSource",diameter:"diameter",disabled:"disabled",elementAttr:"elementAttr",export:"export",innerRadius:"innerRadius",legend:"legend",loadingIndicator:"loadingIndicator",margin:"margin",minDiameter:"minDiameter",palette:"palette",paletteExtensionMode:"paletteExtensionMode",pathModified:"pathModified",pointSelectionMode:"pointSelectionMode",redrawOnResize:"redrawOnResize",resolveLabelOverlapping:"resolveLabelOverlapping",rtlEnabled:"rtlEnabled",segmentsDirection:"segmentsDirection",series:"series",seriesTemplate:"seriesTemplate",size:"size",sizeGroup:"sizeGroup",startAngle:"startAngle",theme:"theme",title:"title",tooltip:"tooltip",type:"type"},outputs:{onDisposing:"onDisposing",onDone:"onDone",onDrawn:"onDrawn",onExported:"onExported",onExporting:"onExporting",onFileSaving:"onFileSaving",onIncidentOccurred:"onIncidentOccurred",onInitialized:"onInitialized",onLegendClick:"onLegendClick",onOptionChanged:"onOptionChanged",onPointClick:"onPointClick",onPointHoverChanged:"onPointHoverChanged",onPointSelectionChanged:"onPointSelectionChanged",onTooltipHidden:"onTooltipHidden",onTooltipShown:"onTooltipShown",adaptiveLayoutChange:"adaptiveLayoutChange",animationChange:"animationChange",annotationsChange:"annotationsChange",centerTemplateChange:"centerTemplateChange",commonAnnotationSettingsChange:"commonAnnotationSettingsChange",commonSeriesSettingsChange:"commonSeriesSettingsChange",customizeAnnotationChange:"customizeAnnotationChange",customizeLabelChange:"customizeLabelChange",customizePointChange:"customizePointChange",dataSourceChange:"dataSourceChange",diameterChange:"diameterChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",exportChange:"exportChange",innerRadiusChange:"innerRadiusChange",legendChange:"legendChange",loadingIndicatorChange:"loadingIndicatorChange",marginChange:"marginChange",minDiameterChange:"minDiameterChange",paletteChange:"paletteChange",paletteExtensionModeChange:"paletteExtensionModeChange",pathModifiedChange:"pathModifiedChange",pointSelectionModeChange:"pointSelectionModeChange",redrawOnResizeChange:"redrawOnResizeChange",resolveLabelOverlappingChange:"resolveLabelOverlappingChange",rtlEnabledChange:"rtlEnabledChange",segmentsDirectionChange:"segmentsDirectionChange",seriesChange:"seriesChange",seriesTemplateChange:"seriesTemplateChange",sizeChange:"sizeChange",sizeGroupChange:"sizeGroupChange",startAngleChange:"startAngleChange",themeChange:"themeChange",titleChange:"titleChange",tooltipChange:"tooltipChange",typeChange:"typeChange"},features:[u._Bn([_._5,_._h,_.al,_.i9]),u.qOj,u.TTD],decls:0,vars:0,template:function(e,i){},styles:["[_nghost-%COMP%] {  display: block; }"]}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[a.lsC,a.IOm,a.KOH,a.bgw,a.YXG,a.qB1,a.Ois,a.zk3,a._7s,a.Ye1,a.kZH,a.e1H,a.$Tm,a.dwQ,a.FZZ,a.gN6,a.IIk,a.lj9,a.FYN,a.KjY,a.rrz,a.lTN,a.rHV,a.ZLS,a.Rue,a.Kx,a.vZC,_.Lz,_.ie,v.Cu],a.lsC,a.IOm,a.KOH,a.bgw,a.YXG,a.qB1,a.Ois,a.zk3,a._7s,a.Ye1,a.kZH,a.e1H,a.$Tm,a.dwQ,a.FZZ,a.gN6,a.IIk,a.lj9,a.FYN,a.KjY,a.rrz,a.lTN,a.rHV,a.ZLS,a.Rue,a.Kx,a.vZC,_.ie]}),t})()},6840:(A,b,g)=>{g.d(b,{Y:()=>u});var v=Number;function u(){this.setDomain(arguments[0],arguments[1]).setCodomain(arguments[2],arguments[3]).setInverted(!1)}u.prototype={constructor:u,setDomain:function(c,l){return this._domain1=v(c),this._domain2=v(l),this._domainDelta=this._domain2-this._domain1,this},setCodomain:function(c,l){return this._codomain1=v(c),this._codomain2=v(l),this._codomainDelta=this._codomain2-this._codomain1,this},setInverted(c){this.inverted=c},getDomain:function(){return[this._domain1,this._domain2]},getCodomain:function(){return[this._codomain1,this._codomain2]},getDomainStart:function(){return this._domain1},getDomainEnd:function(){return this._domain2},getCodomainStart:function(){return this._codomain1},getCodomainEnd:function(){return this._codomain2},getDomainRange:function(){return this._domainDelta},getCodomainRange:function(){return this._codomainDelta},translate:function(c){var l=(v(c)-this._domain1)/this._domainDelta;return this.inverted&&(l=1-l),0<=l&&l<=1?this._codomain1+l*this._codomainDelta:NaN},adjust:function(c){var l=(v(c)-this._domain1)/this._domainDelta,O=NaN;return l<0?O=this._domain1:l>1?O=this._domain2:0<=l&&l<=1&&(O=v(c)),O}}}}]);