"use strict";(self.webpackChunkICRON_WFM_WEB=self.webpackChunkICRON_WFM_WEB||[]).push([[320],{58320:(ri,Et,W)=>{W.d(Et,{q:()=>na,t:()=>sa});var He=W(11481),de=W(94650),H=W(21374),P=W(56836),U=W(83684),Me=W(34500),Ce=W(91553),Je=W(67771),_e=(W(63266),W(23500)),ce=W(64596),et=W(92657),We=W(15239),je=(W(19107),Math),pe=je.floor,mt=je.max,yt=je.abs,Lt=a=>({transform:function(n,r){return(0,et.zB)((0,_e.RI)(n,r,a.allowNegatives,a.linearThreshold))},getTicks:function(n,r,l){for(var c=[],m=this.transform(r[0],l);c.length<r.length;)c.push(m),m=(0,et.zB)(m+n);return c}}),Zt=a=>({transform:function(n,r){return(0,et.zB)((0,_e.p3)(n,r,a.allowNegatives,a.linearThreshold))},getTicks:function(n,r,l){for(var m,c=[],x=0;x<r.length;x+=1)m=this.transform(r[x],l),c.push(m);return c}});function we(a,n){if(a.isLogarithmic){var r=a.logarithmicBase,l=a.tickValues;a.minValue=n.transform(a.minValue,r),a.oldMinValue=n.transform(a.oldMinValue,r),a.maxValue=n.transform(a.maxValue,r),a.oldMaxValue=n.transform(a.oldMaxValue,r),a.tickInterval=je.round(a.tickInterval),a.tickInterval<1&&(a.tickInterval=1);var c=n.getTicks(a.tickInterval,l,r);c.tickInterval=a.tickInterval,a.tickValues=c}}function s(a){return a.maxValue-a.minValue||1}function v(a){for(var n=0;n<a.length;n++)if(!a[n].stubData)return a[n];return null}const le_synchronize=function(a){(0,Ce.S6)(function vt(a){var n={};return a.forEach(r=>{var l=r.pane;n[l]||(n[l]=[]),n[l].push(r)}),n}(a),function(n,r){var l,c;if(r.length>1){if(l=function Tt(a){return a.reduce(function(n,r){var R,l=r.getTicksValues(),c=l.majorTicksValues,m=r.getOptions(),x=r.getTranslator().getBusinessRange(),O=r.getVisibleArea(),F=r._tickInterval,re=m.synchronizedValue,ue=r.getViewport().action;if(c&&c.length>0&&(0,ce.kE)(c[0])&&"discrete"!==m.type&&!x.isEmpty()&&(!x.breaks||!x.breaks.length)&&"zoom"!==ue&&"pan"!==ue){r.applyMargins();var K=r.getTranslator().from(O[0]),E=r.getTranslator().from(O[1]),X=K<E?K:E,$=K<E?E:K;X===$&&(0,ce.$K)(re)&&(F=yt(c[0]-re)||1,X=c[0]-F,$=c[0]+F),we(R={axis:r,isLogarithmic:"logarithmic"===m.type,logarithmicBase:x.base,tickValues:c,minorValues:l.minorTicksValues,minorTickInterval:r._minorTickInterval,minValue:X,oldMinValue:X,maxValue:$,oldMaxValue:$,inverted:x.invert,tickInterval:F,synchronizedValue:re},Lt(r.getTranslator().getBusinessRange())),n.push(R)}return n},[])}(r),l.length<2||!v(l))return;(function C(a){var n=a.reduce((r,l)=>mt(r,l.tickValues.length),0);a.forEach(r=>{var l,c,m=0,x=r.synchronizedValue,O=r.tickValues,R=r.tickInterval;if((0,ce.$K)(x))r.baseTickValue=r.invertedBaseTickValue=x,r.tickValues=[r.baseTickValue];else{if(O.length>1&&R){for(c=(l=pe((n+1)/O.length))>1?pe((n+1)/l):n,m=pe((c-O.length)/2);m>0&&0!==O[0];)O.unshift((0,et.zB)(O[0]-R)),m--;for(;O.length<c;)O.push((0,et.zB)(O[O.length-1]+R));r.tickInterval=R/l}r.baseTickValue=O[0],r.invertedBaseTickValue=O[O.length-1]}})})(l),function d(a){var n=v(a),r=n.tickInterval;a.forEach(l=>{var c,m,x,O;l!==n&&(r&&l.tickInterval&&(l.stubData&&(0,ce.$K)(l.synchronizedValue)&&(l.oldMinValue=l.minValue=l.baseTickValue-(n.baseTickValue-n.minValue)/r*l.tickInterval,l.oldMaxValue=l.maxValue=l.baseTickValue-(n.baseTickValue-n.maxValue)/r*l.tickInterval),c=r/s(n)/l.tickInterval*s(l),l.maxValue=l.minValue+s(l)/c),x=n.inverted&&!l.inverted||!n.inverted&&l.inverted?n.maxValue-n.invertedBaseTickValue:n.baseTickValue-n.minValue,O=s(l),m=(x/s(n)-(l.baseTickValue-l.minValue)/O)*O,l.minValue-=m,l.maxValue-=m)})}(l),c=function p(a){var n,r,l=0,c=0;return a.forEach(m=>{var x=m.inverted;n=m.minValue>m.oldMinValue?(m.minValue-m.oldMinValue)/s(m):0,r=m.maxValue<m.oldMaxValue?(m.oldMaxValue-m.maxValue)/s(m):0,l=mt(l,x?r:n),c=mt(c,x?n:r)}),{start:l,end:c}}(l),c=function j(a,n){return a.reduce((r,l)=>{var c=l.inverted,{start:m,end:x}=l.axis.getCorrectedValuesToZero(l.minValue,l.maxValue);return(0,ce.$K)(m)||(0,ce.$K)(x)?c?{start:r.start,end:Math.min(r.end,x)}:{start:Math.min(r.start,m),end:r.end}:r},n)}(l,c),function b(a,n){a.forEach(r=>{var l=s(r),c=r.inverted;r.minValue=(0,et.zB)(r.minValue-n[c?"end":"start"]*l),r.maxValue=(0,et.zB)(r.maxValue+n[c?"start":"end"]*l)})}(l,c),function w(a){var r,n=[];a.forEach(l=>{l.oldMaxValue-l.oldMinValue==0?n.push(l):!(0,ce.$K)(r)&&!(0,ce.$K)(l.synchronizedValue)&&(r=yt((l.maxValue-l.minValue)/(l.tickValues[pe(l.tickValues.length/2)]-l.minValue||l.maxValue)))}),(0,ce.$K)(r)&&n.forEach(l=>{var c=l.tickValues[0],m=c*r;c>0?(l.maxValue=m,l.minValue=0):c<0&&(l.minValue=m,l.maxValue=0)})}(l),function S(a){var n=!1;a.forEach(r=>{n=n||(0,ce.$K)(r.synchronizedValue)}),a.forEach(r=>{var O,l=r.tickInterval,c=r.tickValues,m=r.maxValue,x=r.minValue;if(n&&l){for(;(O=(0,et.zB)(c[0]-l))>=x;)c.unshift(O);for(O=c[c.length-1];(O=(0,et.zB)(O+l))<=m;)c.push(O)}for(;c[0]+l/10<x;)c.shift();for(;c[c.length-1]-l/10>m;)c.pop()})}(l),function G(a){a.forEach(function(n){if(n.minorTickInterval){for(var r=[],l=n.minorTickInterval,c=n.tickInterval/l-1,m=1;m<n.tickValues.length;m++)for(var x=n.tickValues[m-1],O=0;O<c;O++)r.push(x+=l);n.minorValues=r}})}(l),l.forEach(m=>{we(m,Zt(m.axis.getTranslator().getBusinessRange()))}),function I(a){a.forEach(n=>{var r=n.axis,l=r.getTranslator().getBusinessRange();l.min===l.minVisible&&(l.min=n.minValue),l.max===l.maxVisible&&(l.max=n.maxValue),l.minVisible=n.minValue,l.maxVisible=n.maxValue,l.min>l.minVisible&&(l.min=l.minVisible),l.max<l.maxVisible&&(l.max=l.maxVisible),r.getTranslator().updateBusinessRange(l),r.setTicks({majorTicks:n.tickValues,minorTicks:n.minorValues})})}(l)}})};var V=W(77608),J=W(24705),oe=W(16129),se=W(30523),Ae=W(63429),Ee=Math.min,Se=Math.max,Be=function(a,n){this._translator=new se.r({},{},{}),this._scroll=a.rect().append(n),this._addEvents()};function Fe(a,n,r,l){var c=0;return"right"===n?c=a.width-a.right+r:"left"===n&&(c=a.left-r-l),c}function Ge(a,n,r,l){var c=0;return"top"===n?c=a.top-r:"bottom"===n&&(c=a.height-a.bottom+l+r),c}Be.prototype={_addEvents:function(){var a=this._scroll.element;J.Z.on(a,Ae.BL,n=>{(0,oe.BX)({type:"dxc-scroll-start",originalEvent:n,target:a})}),J.Z.on(a,Ae.pB,n=>{var r=-n.offset.x*this._scale,l=-n.offset.y*this._scale,c=this._offset-(this._layoutOptions.vertical?l:r)/this._scale;this._applyPosition(c,c+this._translator.canvasLength/this._scale),(0,oe.BX)({type:"dxc-scroll-move",originalEvent:n,target:a,offset:{x:r,y:l}})}),J.Z.on(a,Ae.ut,n=>{(0,oe.BX)({type:"dxc-scroll-end",originalEvent:n,target:a,offset:{x:-n.offset.x*this._scale,y:-n.offset.y*this._scale}})})},update:function(a){var n=a.position,r=a.rotated,l=r?"right":"top";return n!==l&&n!==(r?"left":"bottom")&&(n=l),this._scroll.attr({rotate:a.rotated?0:-90,rotateX:0,rotateY:0,fill:a.color,width:a.width,opacity:a.opacity}),this._layoutOptions={width:a.width,offset:a.offset,vertical:r,position:n},this},init:function(a,n){var r="discrete"===a.axisType;return this._translateWithOffset=r&&!n?1:0,this._translator.update((0,U.l)({},a,{minVisible:null,maxVisible:null,visibleCategories:null},r&&{min:null,max:null}||{}),this._canvas,{isHorizontal:!this._layoutOptions.vertical,stick:n}),this},getOptions:function(){return this._layoutOptions},setPane:function(a){var n=this._layoutOptions.position;return this.pane=("left"===n||"top"===n?a[0]:a[a.length-1]).name,this},updateSize:function(a){this._canvas=(0,U.l)({},a);var n=this._layoutOptions,r=n.position,l=n.offset,c=n.width;this._scroll.attr({translateX:Fe(a,r,l,c),translateY:Ge(a,r,l,c)})},getMultipleAxesSpacing:function(){return 0},estimateMargins:function(){return this.getMargins()},getMargins:function(){var a=this._layoutOptions,n={left:0,top:0,right:0,bottom:0};return n[a.position]=a.width+a.offset,n},shift:function(a){var n,r,l=this._layoutOptions,c=l.position,m=l.vertical,x={translateX:null!==(n=this._scroll.attr("translateX"))&&void 0!==n?n:0,translateY:null!==(r=this._scroll.attr("translateY"))&&void 0!==r?r:0};x[m?"translateX":"translateY"]+=("left"===c||"top"===c?-1:1)*a[c],this._scroll.attr(x)},hideTitle:P.ZT,hideOuterElements:P.ZT,setPosition:function(a,n){var r=this._translator,l=(0,ce.$K)(a)?r.translate(a,-this._translateWithOffset):r.translate("canvas_position_start"),c=(0,ce.$K)(n)?r.translate(n,this._translateWithOffset):r.translate("canvas_position_end");this._offset=Ee(l,c),this._scale=r.getScale(a,n),this._applyPosition(Ee(l,c),Se(l,c))},customPositionIsAvailable:()=>!1,dispose:function(){this._scroll.dispose(),this._scroll=this._translator=null},_applyPosition:function(a,n){var r=this._translator.getCanvasVisibleArea();a=Se(a,r.min),a=Ee(a,r.max),n=Ee(n,r.max),n=Se(n,r.min);var l=Math.abs(n-a);this._scroll.attr({y:a,height:l<2?2:l})}};var Ke=Math,ft=Ke.abs,$e=Ke.min,Ne=Ke.max,dt=Ke.floor;function vi(a){return{x:a.x-8,y:a.y-4,width:a.width+16,height:a.height+8}}function k(a,n,r,l){var c=r?["x","width","y","height",n,0]:["y","height","x","width",a,1];return function(m,x,O){var R={x:O.x,y:O.y},F=vi(m),re=r?O.y-m.y-m.height/2:O.y-m.y;return R.y=r||!r&&"bottom"===x?O.y+re:O.y,F[c[0]]<0?R[c[0]]-=F[c[0]]:F[c[0]]+F[c[1]]+re*c[5]>l[c[1]]&&(R[c[0]]-=F[c[0]]+F[c[1]]+re*c[5]-l[c[1]]),c[4]-F[c[3]]/2<0?R[c[2]]-=c[4]-F[c[3]]/2:c[4]+F[c[3]]/2>l[c[3]]&&(R[c[2]]-=c[4]+F[c[3]]/2-l[c[3]]),R}}function L(a,n,r,l){this._renderer=a,this._crosshairGroup=l,this._options={},this.update(n,r)}L.prototype={constructor:L,update:function(a,n){var r=n.canvas;this._canvas={top:r.top,bottom:r.height-r.bottom,left:r.left,right:r.width-r.right,width:r.width,height:r.height},this._axes=n.axes,this._panes=n.panes,this._prepareOptions(a,"horizontal"),this._prepareOptions(a,"vertical")},dispose:function(){this._renderer=this._crosshairGroup=this._options=this._axes=this._canvas=this._horizontalGroup=this._verticalGroup=this._horizontal=this._vertical=this._circle=this._panes=null},_prepareOptions:function(a,n){var r=a[n+"Line"];this._options[n]={visible:r.visible,line:{stroke:r.color||a.color,"stroke-width":r.width||a.width,dashStyle:r.dashStyle||a.dashStyle,opacity:r.opacity||a.opacity,"stroke-linecap":"butt"},label:(0,U.l)(!0,{},a.label,r.label)}},_createLines:function(a,n,r){for(var l=[],c=this._canvas,m=[c.left,c.top,c.left,c.top],x=0;x<2;x++)l.push(this._renderer.path(m,"line").attr(a).sharp(n).append(r));return l},render:function(){var a=this._renderer,n=this._options,r=n.vertical,l=n.horizontal,c=l.visible?l.line:r.line,m={stroke:c.stroke,"stroke-width":c["stroke-width"],dashStyle:c.dashStyle,opacity:c.opacity},x=this._canvas;this._horizontal={},this._vertical={},this._circle=a.circle(x.left,x.top,0).attr(m).append(this._crosshairGroup),this._horizontalGroup=a.g().append(this._crosshairGroup),this._verticalGroup=a.g().append(this._crosshairGroup),r.visible&&(this._vertical.lines=this._createLines(r.line,"h",this._verticalGroup),this._vertical.labels=this._createLabels(this._axes[0],r,!1,this._verticalGroup)),l.visible&&(this._horizontal.lines=this._createLines(l.line,"v",this._horizontalGroup),this._horizontal.labels=this._createLabels(this._axes[1],l,!0,this._horizontalGroup)),this.hide()},_createLabels:function(a,n,r,l){var x,O,R,re,ue,c=this._canvas,m=this._renderer,F=[],K=n.label;return K.visible&&a.forEach(function(E){var X=E.getOptions().position;if(!E.getTranslator().getBusinessRange().isEmpty()){ue=E.getLabelsPosition(),r?(O=c.top,x=ue):(x=c.left,O=ue);var $="top"===X||"bottom"===X?"center":"right"===X?"left":"right";re=m.rect(0,0,0,0).attr({fill:K.backgroundColor||n.line.stroke}).append(l),R=m.text("0",0,0).css((0,_e.FI)(n.label.font)).attr({align:$,class:K.cssClass}).append(l),F.push({text:R,background:re,axis:E,options:K,pos:{coord:ue,side:X},startXY:{x,y:O}})}}),F},_updateText:function(a,n,r,l,c){var m=this;r.forEach(function(x){var O=x.axis,R=x.startXY,F=x.text,re=x.background,ue="";(!O.name||O.name===n)&&(ue=O.getFormattedValue(a,x.options,l)),ue?(F.attr({text:ue,x:R.x,y:R.y}),F.attr(c(F.getBBox(),x.pos.side,R)),m._updateLinesCanvas(x),re.attr(vi(F.getBBox()))):(F.attr({text:""}),re.attr({x:0,y:0,width:0,height:0}))})},hide:function(){this._crosshairGroup.attr({visibility:"hidden"})},_updateLinesCanvas:function(a){var n=a.pos.side,r=a.pos.coord,l=this._linesCanvas,c=this._canvas;l[n]=l[n]!==c[n]&&ft(l[n]-c[n])<ft(r-c[n])?l[n]:r},_updateLines:function(a,n,r,l,c){for(var m=this._linesCanvas,x=this._canvas,O=c?[[$e(n-l,m.left),x.top,n-l,x.top],[n+l,x.top,Ne(m.right,n+l),x.top]]:[[x.left,$e(m.top,r-l),x.left,r-l],[x.left,r+l,x.left,Ne(m.bottom,r+l)]],R=0;R<2;R++)a[R].attr({points:O[R]}).sharp(c?"v":"h",c?r===x.bottom?-1:1:n===x.right?-1:1)},_resetLinesCanvas:function(){var a=this._canvas;this._linesCanvas={left:a.left,right:a.right,top:a.top,bottom:a.bottom}},_getClipRectForPane:function(a,n){var l,c,r=this._panes;for(l=0;l<r.length;l++)if((c=r[l].coords).left<=a&&c.right>=a&&c.top<=n&&c.bottom>=n)return r[l].clipRect;return{id:null}},show:function(a){var n=a.point,r=n.getCrosshairData(a.x,a.y),l=n.getPointRadius(),c=this._horizontal,m=this._vertical,x=l?l+3:0,O=this._canvas,R=dt(r.x),F=dt(r.y);R>=O.left&&R<=O.right&&F>=O.top&&F<=O.bottom?(this._crosshairGroup.attr({visibility:"visible"}),this._resetLinesCanvas(),this._circle.attr({cx:R,cy:F,r:x,"clip-path":this._getClipRectForPane(R,F).id}),c.lines&&(this._updateText(r.yValue,r.axis,c.labels,n,k(R,F,!0,O)),this._updateLines(c.lines,R,F,x,!0),this._horizontalGroup.attr({translateY:F-O.top})),m.lines&&(this._updateText(r.xValue,r.axis,m.labels,n,k(R,F,!1,O)),this._updateLines(m.lines,R,F,x,!1),this._verticalGroup.attr({translateX:R-O.left}))):this.hide()}};var z=W(95682),B=W(3630),D=W(96701),Y=".shutter-zoom",q=Ae.BL+Y,Pe=Ae.pB+Y,fe=Ae.ut+Y;function ke(a,n,r,l){var c=Math.floor(r?l.pageY-a.top:l.pageX-a.left),m=r?n.y1:n.x1,x=r?n.y2:n.x2;return c<m?c=m:c>x&&(c=x),c}const nt={name:"shutter_zoom",init:function(){var a=this.option("shutterZoom")||{};!a.enabled||(this._shutterZoom=function zt(a){var n=a.chart,r=a.renderer,l=a.rotated,c=r.rect(0,0,0,0).attr(a.shutterOptions),m={rect:c,root:r.root,rotated:l,triggerStart:function(){n._eventTrigger("zoomStart")},triggerEnd:function(){var x=n._argumentAxes[0].getTranslator(),O=Math.min(this.startCoord,this.curCoord),R=Math.max(this.startCoord,this.curCoord);n._eventTrigger("zoomEnd",{rangeStart:x.from(O),rangeEnd:x.from(R)})},dispose:function(){r.root.off(Y),c.dispose()},getRootOffset:function(){return r.getRootOffset()},getCanvas:function(){var x=n._canvas,O=n.panes,R=O[0].canvas,F=O[O.length-1].canvas;return{x1:R.left,y1:R.top,x2:x.width-F.right,y2:x.height-F.bottom,width:x.width-R.left-F.right,height:x.height-R.top-F.bottom}}};return r.root.off(Y).on(q,{direction:l?"vertical":"horizontal",immediate:!0},function Qe(a){return function(n){var r=a.getRootOffset(),l=a.getCanvas();!function ye(a,n,r){var l=r.pageX-a.left,c=r.pageY-a.top;return l>=n.x1&&l<=n.x2&&c>=n.y1&&c<=n.y2}(r,l,n)?n.cancel=!0:(a.rootOffset=r,a.canvas=l,a.startCoord=ke(r,l,a.rotated,n),a.triggerStart(),a.rect.attr({x:l.x1,y:l.y1,width:l.width,height:l.height}).append(a.root))}}(m)).on(Pe,function Ie(a){return function(n){var r=ke(a.rootOffset,a.canvas,a.rotated,n),l={};a.curCoord=r,l[a.rotated?"y":"x"]=Math.min(a.startCoord,r),l[a.rotated?"height":"width"]=Math.abs(a.startCoord-r),a.rect.attr(l)}}(m)).on(fe,function bt(a){return function(n){a.triggerEnd(),a.rect.remove()}}(m)),m}({chart:this,renderer:this._renderer,rotated:this.option("rotated"),shutterOptions:a}))},dispose:function(){this._shutterZoom&&this._shutterZoom.dispose()}};var st=W(87462),qe=W(51144),Ft=W(24155),Ct=W(30297),ct="start",Ht="",Dt="end",at=[],lt=function(a,n){at.push({name:a,args:n})};lt("transform",{scale:!0,deltaScale:!0,rotation:!0,deltaRotation:!0,translation:!0,deltaTranslation:!0}),lt("translate",{translation:!0,deltaTranslation:!0}),lt("pinch",{scale:!0,deltaScale:!0}),lt("rotate",{rotation:!0,deltaRotation:!0});var Ut=function(a){var n=a.pointers;return function(a,n){return{x:n.pageX-a.pageX,y:-n.pageY+a.pageY,centerX:.5*(n.pageX+a.pageX),centerY:.5*(n.pageY+a.pageY)}}(n[0],n[1])},wt=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},di=function(a,n){return wt(a)/wt(n)},Xt=function(a,n){var r=a.x*n.x+a.y*n.y,l=wt(a)*wt(n);return 0===l?0:(0,et.Xx)(a.x*n.y-n.x*a.y)*Math.acos((0,et.n$)(r/l,-1,1))},ei=function(a,n){return{x:a.centerX-n.centerX,y:a.centerY-n.centerY}},Di=Ft.Z.inherit({validatePointers:function(a){return(0,oe.G7)(a)>1},start:function(a){this._accept(a);var n=Ut(a);this._startVector=n,this._prevVector=n,this._fireEventAliases(ct,a)},move:function(a){var n=Ut(a),r=this._getEventArgs(n);this._fireEventAliases(Ht,a,r),this._prevVector=n},end:function(a){var n=this._getEventArgs(this._prevVector);this._fireEventAliases(Dt,a,n)},_getEventArgs:function(a){return{scale:di(a,this._startVector),deltaScale:di(a,this._prevVector),rotation:Xt(a,this._startVector),deltaRotation:Xt(a,this._prevVector),translation:ei(a,this._startVector),deltaTranslation:ei(a,this._prevVector)}},_fireEventAliases:function(a,n,r){r=r||{},Ce.S6(at,function(l,c){var m={};Ce.S6(c.args,function(x){x in r&&(m[x]=r[x])}),this._fireEvent("dx"+c.name+a,n,m)}.bind(this))}}),Vi=at.reduce((a,n)=>([ct,Ht,Dt].forEach(r=>{a.push("dx"+n.name+r)}),a),[]);(0,Ct.Z)({emitter:Di,events:Vi});var Ri={};Ce.S6(Vi,function(a,n){Ri[n.substring("dx".length)]=n});var{pinchstart:Ai,pinch:Bi,pinchend:yi}=Ri,jt=".zoomAndPanNS",Ki=Ae.BL+jt,Ti=Ae.pB+jt,ci=Ae.ut+jt,Ni=Ai+jt,$i=Bi+jt,Oi=yi+jt,e="dxc-scroll-start"+jt,h=Math.min,g=Math.max,_=Math.abs;function f(a){return{x:a.left,y:a.top,width:a.width-a.left-a.right,height:a.height-a.top-a.bottom}}function A(a,n){var r=n.x,l=n.y;return r>=a.x&&r<=a.width+a.x&&l>=a.y&&l<=a.height+a.y}function M(a){return a.filter(n=>!n.getTranslator().getBusinessRange().isEmpty())}function Z(a){return a.some(n=>!n.isExtremePosition(!1)||!n.isExtremePosition(!0))}function N(a,n,r,l,c,m,x){var O=n&&a!==n,R=r(a),{stopInteraction:F,correctedRange:re}=a.checkZoomingLowerLimitOvercome(c,m,R),ue=a.handleZooming(F?null:re,l(O),x,c);return F&&a.handleZoomEnd(),{stopInteraction:F,result:ue}}function ee(a,n,r,l,c,m){n=function T(a,n){return n&&(a=a.sort((r,l)=>r===n?-1:l===n?1:0)),a}(n,m);var x=!1,O=R=>({start:!!R,end:!!R});return M(n).some(R=>{var F=R.getTranslator(),re=F.getMinScale(l),{stopInteraction:ue,result:K}=N(R,m,r((0,st.Z)({scale:re,translator:F,axis:R},c)),O,"zoom",re,a);return x=!ue,m&&K.isPrevented}),x}function Q(a){a.originalEvent&&Q(a.originalEvent),!1!==a.cancelable&&(a.cancel=!0)}const he={name:"zoom_and_pan",init:function(){var a=this,n=this._renderer;function r(E,X){var $=[],ne=E.options,xe=E.actionData;return ne.argumentAxis[X]&&$.push(a.getArgumentAxis()),ne.valueAxis[X]&&($=$.concat(xe.valueAxes)),$}function l(E,X,$){M(r(E,X)).some(xe=>xe.handleZooming(null,{end:!0},$,X).isPrevented)&&Q($)}function c(E,X,$,ne,xe){function Re(Ue,rt,Rt,Bt,$t){var It={zoomed:!1};return rt&&M(Ue).forEach(Wt=>{var Pi=Wt.getOptions(),Wi=Wt.visualRange(),mi=Wt.getTranslator().getEventScale(Bt),xi=-ne(Bt,$t,Rt,mi);It=(0,U.l)(!0,It,Wt.getTranslator().zoom(xi,mi,Wt.getZoomBounds()));var oa=Wt.adjustRange((0,_e.MG)([It.min,It.max])),{stopInteraction:Ui,correctedRange:Xi}=Wt.checkZoomingLowerLimitOvercome(X,mi,oa);if((0,ce.$K)(Wi)&&Wi.startValue.valueOf()===Xi.startValue.valueOf()&&Wi.endValue.valueOf()===Xi.endValue.valueOf()){if("touch"===Bt.pointerType&&"discrete"===Pi.type){var Qi=Wt.isExtremePosition(!1),Ji=Wt.isExtremePosition(!0);It.enabled=mi>1&&!Ui||mi<1&&(!Qi||!Ji)||1===mi&&!(Qi&&(xi<0&&!Pi.inverted||xi>0&&Pi.inverted)||Ji&&(xi>0&&!Pi.inverted||xi<0&&Pi.inverted))}}else Wt.handleZooming(Ui?null:Xi,{start:!0,end:!0},Bt,X),Ui||(It.zoomed=!0,It.deltaTranslate=xi-It.translate)}),It}function Te(Ue,rt,Rt,Bt){Rt.zoomed&&(rt.offset[Bt]=(Ue.offset?Ue.offset[Bt]:rt.offset[Bt])+Rt.deltaTranslate)}function Ze(Ue,rt,Rt,Bt){Rt.zoomed&&(rt.center[Bt]=Ue[Bt]+Rt.deltaTranslate)}var tt=a.option("rotated"),ze=E.actionData,pt=E.options,St={},At={};ze.fallback||(St=Re(a._argumentAxes,pt.argumentAxis[X],tt?"y":"x",$,ze),At=Re(ze.valueAxes,pt.valueAxis[X],tt?"x":"y",$,ze),a._requestChange(["VISUAL_RANGE"]),Te($,ze,St,tt?"y":"x"),Te($,ze,At,tt?"x":"y"));var be=xe($);return Ze(be,ze,St,tt?"y":"x"),Ze(be,ze,At,tt?"x":"y"),!St.zoomed&&!At.zoomed&&(ze.center=be),St.zoomed||At.zoomed||ze.fallback||St.enabled||At.enabled}function m(E,X,$,ne){function xe(pt,St,At,be){var Ue=!1,rt=$.scale||1,Rt=$t=>{var It=$t.getTranslator().zoom(-ne($,At,St,rt),rt,$t.getZoomBounds());return{startValue:It.min,endValue:It.max}},Bt=$t=>({start:!0,end:$t});return M(pt).forEach($t=>{Ue=!N($t,be,Rt,Bt,X,rt,$).stopInteraction}),Ue}var Re=a.option("rotated"),Te=E.actionData,Ze=E.options,tt=!0;if(Te.fallback)tt&=Ze.argumentAxis[X]&&xe(a._argumentAxes,Re?"y":"x",Te,a.getArgumentAxis()),tt|=Ze.valueAxis[X]&&xe(Te.valueAxes,Re?"x":"y",Te);else{var ze=r(E,X);M(ze).forEach(pt=>{pt.handleZooming(null,{start:!0},$,X)}),tt=ze.length}tt&&a._requestChange(["VISUAL_RANGE"])}function x(E,X){var $=a._argumentAxes.filter(ne=>A(f(ne.getCanvas()),E));return{fallback:a._lastRenderingTime>300,cancel:!$.length||!(0,ce.$K)(X),action:X,curAxisRect:$.length&&f($[0].getCanvas()),valueAxes:$.length&&a._valueAxes.filter(ne=>A(f(ne.getCanvas()),E)),offset:{x:0,y:0},center:E,startCenter:E}}function O(E,X){var $=n.getRootOffset();return{x:h(g(X.pageX-$.left,E.x),E.width+E.x),y:h(g(X.pageY-$.top,E.y),E.height+E.y)}}function R(E){var X=n.getRootOffset(),$=E.pointers[0].pageX,ne=E.pointers[1].pageX,xe=E.pointers[0].pageY,Re=E.pointers[1].pageY;return{x:h($,ne)+_(ne-$)/2-X.left,y:h(xe,Re)+_(Re-xe)/2-X.top}}function F(E){var X=n.getRootOffset();return{x:E.pageX-X.left,y:E.pageY-X.top}}function re(E,X,$){return E.offset[$]-X.offset[$]}function ue(E){!1!==E.cancelable&&(E.preventDefault(),E.stopPropagation()),a._stopCurrentHandling()}var K={dragStartHandler:function(E){var Ze,X=K.options,$="touch"===E.pointerType,ne=X.argumentAxis.pan||X.valueAxis.pan,xe=X.argumentAxis.zoom||X.valueAxis.zoom,Re=(0,ce.$K)(X.panKey)&&E[(0,_e.ps)(X.panKey)+"Key"],Te=X.dragToZoom;E._cancelPreventDefault=!0,$?X.allowTouchGestures&&ne&&(Ze=!K.panningVisualRangeEnabled()||K.skipEvent?null:"pan"):Te&&ne&&Re||!Te&&ne?Ze="pan":Te&&xe&&(Ze="zoom");var ze=x(F(E),Ze);if(ze.cancel)return K.skipEvent=!1,void(!1!==E.cancelable&&(E.cancel=!0));K.actionData=ze,"zoom"===Ze?(ze.startCoords=O(ze.curAxisRect,E),ze.rect=n.rect(0,0,0,0).attr(X.dragBoxStyle).append(n.root)):l(K,"pan",E)},dragHandler:function(E){var X=a.option("rotated"),$=K.options,ne=K.actionData,xe="touch"===E.pointerType;if(E._cancelPreventDefault=!0,ne&&(!xe||K.panningVisualRangeEnabled()))if("zoom"===ne.action){ue(E);var Re=ne.curAxisRect,Te=ne.startCoords,Ze=O(Re,E),tt=$.argumentAxis.zoom,ze=$.valueAxis.zoom,pt={x:h(Te.x,Ze.x),y:h(Te.y,Ze.y),width:_(Te.x-Ze.x),height:_(Te.y-Ze.y)};(!tt||!ze)&&(!tt&&!X||!ze&&X?(pt.x=Re.x,pt.width=Re.width):(pt.y=Re.y,pt.height=Re.height)),ne.rect.attr(pt)}else if("pan"===ne.action){c(K,"pan",E,re,be=>be.offset);var St=Math.abs(E.offset.y-ne.offset.y),At=Math.abs(E.offset.x-ne.offset.x);if(xe&&(St>5&&St>Math.abs(ne.offset.x)||At>5&&At>Math.abs(ne.offset.y)))return;ue(E)}},dragEndHandler:function(E){var X=a.option("rotated"),$=K.options,ne=K.actionData,xe="touch"===E.pointerType,Re=Ue=>{var{translator:rt,startCoord:Rt,curCoord:Bt}=Ue;return()=>[rt.from(Rt),rt.from(Bt)]},Te=(Ue,rt,Rt)=>({curCoord:Ue[Rt],startCoord:rt[Rt]}),Ze=(Ue,rt)=>Ue.zoom&&_(rt.curCoord-rt.startCoord)>5,tt=ne&&"pan"===ne.action&&!ne.fallback&&0===ne.offset.x&&0===ne.offset.y;if(ne&&(!xe||K.panningVisualRangeEnabled())&&!tt){if(!xe&&ue(E),"zoom"===ne.action){var ze=O(ne.curAxisRect,E),pt=Te(ze,ne.startCoords,X?"y":"x"),St=Te(ze,ne.startCoords,X?"x":"y"),At=Ze($.argumentAxis,pt)&&ee(E,a._argumentAxes,Re,!0,pt,a.getArgumentAxis());(Ze($.valueAxis,St)&&ee(E,ne.valueAxes,Re,!0,St)||At)&&a._requestChange(["VISUAL_RANGE"]),ne.rect.dispose()}else"pan"===ne.action&&m(K,"pan",E,re);K.actionData=null}},pinchStartHandler:function(E){var X=x(R(E),"zoom");X.cancel?Q(E):(K.actionData=X,l(K,"zoom",E))},pinchHandler:function(E){!K.actionData||(c(K,"zoom",E,(X,$,ne,xe)=>R(X)[ne]-$.center[ne]+($.center[ne]-$.center[ne]*xe),R),ue(E))},pinchEndHandler:function(E){!K.actionData||(m(K,"zoom",E,(X,$,ne,xe)=>$.center[ne]-$.startCenter[ne]+($.startCenter[ne]-$.startCenter[ne]*xe)),K.actionData=null)},mouseWheelHandler:function(E){var Te,X=K.options,$=a.option("rotated"),ne=ze=>{var{translator:pt,coord:St,scale:At,axis:be}=ze;return()=>{var Ue=pt.zoom(-(St-St*At),At,be.getZoomBounds());return{startValue:Ue.min,endValue:Ue.max}}},xe=F(E),Re=!1;if(X.valueAxis.zoom){if(0===(Te=a._valueAxes.filter(ze=>A(f(ze.getCanvas()),xe))).length){var Ze=a._valueAxes.reduce((ze,pt)=>(!ze&&pt.coordsIn(xe.x,xe.y)&&(ze=pt.getCanvas()),ze),null);Ze&&(Te=a._valueAxes.filter(ze=>A(f(ze.getCanvas()),{x:Ze.left,y:Ze.top})))}Re|=ee(E,Te,ne,E.delta>0,{coord:$?xe.x:xe.y})}X.argumentAxis.zoom&&(Re|=a._argumentAxes.some(ze=>!(!A(f(ze.getCanvas()),xe)&&!ze.coordsIn(xe.x,xe.y)))&&ee(E,a._argumentAxes,ne,E.delta>0,{coord:$?xe.y:xe.x},a.getArgumentAxis())),Re&&(a._requestChange(["VISUAL_RANGE"]),(Te&&Z(Te)||!Te&&K.panningVisualRangeEnabled())&&ue(E))},cleanup:function(){n.root.off(jt),K.actionData&&K.actionData.rect&&K.actionData.rect.dispose(),K.actionData=null,n.root.css({"touch-action":"","-ms-touch-action":""})},setup:function(E){K.cleanup(),E.argumentAxis.pan||n.root.on(e,Q),(!E.argumentAxis.none||!E.valueAxis.none)&&(K.options=E,(E.argumentAxis.zoom||E.valueAxis.zoom)&&E.allowMouseWheel&&n.root.on(qe.u+jt,K.mouseWheelHandler),(E.argumentAxis.zoom||E.valueAxis.zoom)&&E.allowTouchGestures&&n.root.on(Ni,{passive:!1},K.pinchStartHandler).on($i,{passive:!1},K.pinchHandler).on(Oi,K.pinchEndHandler),n.root.on(Ki,{immediate:!0,passive:!1},K.dragStartHandler).on(Ti,{immediate:!0,passive:!1},K.dragHandler).on(ci,K.dragEndHandler),n.root.on(e,function(X){K.actionData={valueAxes:[],offset:{x:0,y:0},center:{x:0,y:0}},ue(X),l(K,"pan",X)}).on("dxc-scroll-move.zoomAndPanNS",function(X){ue(X),c(K,"pan",X,re,$=>$.offset)}).on("dxc-scroll-end.zoomAndPanNS",function(X){ue(X),m(K,"pan",X,re),K.actionData=null}))},panningVisualRangeEnabled:function(){return Z(a._valueAxes)||Z(a._argumentAxes)}};this._zoomAndPan=K},members:{_setupZoomAndPan:function(){this._zoomAndPan.setup(this._themeManager.getOptions("zoomAndPan"))}},dispose:function(){this._zoomAndPan.cleanup()},customize:function(a){a.addChange({code:"ZOOM_AND_PAN",handler:function(){this._setupZoomAndPan()},isThemeDependent:!0,isOptionChange:!0,option:"zoomAndPan"})}};var me=W(61146),ve="default",ae=[{name:ve,border:{}}],ie="discrete",De=Array.isArray;function ht(a,n,r){var l=a.getOptions().grid,c=a.getOptions().minorGrid;l.visible=n,c&&(c.visible=r)}function Si(a,n,r){var l,c;for(c=0;c<r.length;c++)if((l=r[c]).name===n&&l.pane===a)return l;if(a)return Si(void 0,n,r)}function Li(a,n){return a.priority-n.priority}function ki(a,n){var r=!1;return(0,Ce.S6)(a,function(l,c){if(c.name===n)return r=!0,!1}),r}function Yt(a,n,r,l){var c=n[a]||0,m=r[a]||0;return c+m+(c&&m?l:0)}function Vt(a,n,r){return zi(n[a],r[a])}function zi(a,n){return Math.max(a||0,n||0)}function oi(a){return a.getMargins()}function ti(a,n){return a.reduce(function(r,l){var c,m=n(l),x=r.panes[l.pane]=r.panes[l.pane]||{},O=l.getMultipleAxesSpacing();x.top=Yt("top",x,m,O),x.bottom=Yt("bottom",x,m,O),x.left=Vt("left",x,m),x.right=Vt("right",x,m),r.top=Vt("top",x,r),r.bottom=Vt("bottom",x,r),r.left=Vt("left",x,r),r.right=Vt("right",x,r);var R=null===(c=l.getOrthogonalAxis)||void 0===c?void 0:c.call(l);return R&&R.customPositionIsAvailable()&&(!l.customPositionIsBoundaryOrthogonalAxis()||!R.customPositionEqualsToPredefined())&&(r[R.getResolvedBoundaryPosition()]=0),r},{panes:{}})}function li(a){return a.reduce(function(n,r){var l=r.getMargins(),c=n.panes[r.pane]=n.panes[r.pane]||{},m=r.getMultipleAxesSpacing();return c.top=Vt("top",c,l),c.bottom=Vt("bottom",c,l),c.left=Yt("left",c,l,m),c.right=Yt("right",c,l,m),n.top=Vt("top",c,n),n.bottom=Vt("bottom",c,n),n.left=Vt("left",c,n),n.right=Vt("right",c,n),n},{panes:{}})}function Gt(a,n,r,l,c){a.forEach(function(m){m[n](r&&r[m.pane],l&&l[m.pane]||l,c)})}function ii(a,n,r,l,c){function m(re,ue,K){return(-1===(a?["left","right"]:["top","bottom"]).indexOf(re)?ue:ue.panes[K]||{})[re]}function x(re,ue,K,E){return zi(m(re,ue,E),m(re,K,E))}var O=re=>"original".concat(re[0].toUpperCase()).concat(re.slice(1));function R(re,ue,K,E,X,$){(ue=ue.sort((Re,Te)=>re[Te][E]-re[Re][E])).forEach(Re=>{var Te=re[Re];$.forEach(Ze=>{Te[Ze]=Te[O(Ze)]+x(Ze,l,c,Re)})});var ne=re[ue[0]],xe=ue.reduce((Re,Te)=>Re-(x(E,l,c,Te)+x(X,l,c,Te)),ne[K]-ne[O(X)]-re[ue[ue.length-1]][O(E)])-_e.gf*(ue.length-1);xe-=Object.keys(r).reduce((Re,Te)=>Re+((0,_e.kh)(r[Te])?0:r[Te].height),0),ue.reduce((Re,Te)=>{var Ze=re[Te],tt=r[Te];return Re-=x(X,l,c,Te),Ze[X]=ne[K]-Re,Re-=(0,_e.kh)(tt)?Math.floor(xe*tt.height):tt.height,Ze[E]=Re,Re-(x(E,l,c,Te)+_e.gf)},ne[K]-ne[O(X)]-(xe<0?xe:0))}var F=Object.keys(n);return a?R(n,F,"width","left","right",["top","bottom"]):R(n,F,"height","top","bottom",["left","right"]),n}function ui(a,n,r,l){n&&(Gt(a,"createTicks",r),le_synchronize(a)),Gt(a,"draw",!n&&r,l)}function ai(a,n){var r={};return function(l){if(!l.customPositionIsAvailable()||l.customPositionEqualsToPredefined()){var c=r[l.pane]=r[l.pane]||{top:0,left:0,bottom:0,right:0},m=l.getMultipleAxesSpacing(),x=l.getMargins();l.shift(c),c[a]=Yt(a,c,x,m),c[n]=Yt(n,c,x,m)}else l.shift({top:0,left:0,bottom:0,right:0})}}function _i(a,n){var l,c,r=0;for(l in n.panes)c=n.panes[l],r+="height"===a?c.top+c.bottom:c.left+c.right;return r}function pi(a,n,r,l){var c=0;a[n]>0&&(c=_i(n,l(r,oi)),Gt(r,"hideTitle"),a[n]-=c-_i(n,l(r,oi))),a[n]>0&&Gt(r,"hideOuterElements")}var fi=V.q.inherit({_themeSection:"chart",_fontFields:["crosshair.label.font"],_initCore:function(){this.paneAxis={},this.callBase()},_init(){this._containerInitialHeight=(0,Me.Ym)()?(0,H.Cr)(this._$element):0,this.callBase()},_correctAxes:function(){this._correctValueAxes(!0)},_getExtraOptions:P.ZT,_createPanes:function(){var r,a=this.option("panes"),n=0;return(!a||De(a)&&!a.length)&&(a=ae),this.callBase(),r=this.option("defaultPane"),a=(0,U.l)(!0,[],De(a)?a:[a]),(0,Ce.S6)(a,function(l,c){c.name=(0,ce.$K)(c.name)?c.name:ve+n++}),(0,ce.$K)(r)?ki(a,r)||(this._incidentOccurred("W2101",[r]),r=a[a.length-1].name):r=a[a.length-1].name,this.defaultPane=r,this._isRotated()?a.reverse():a},_getAxisRenderingOptions:function(){return{axisType:"xyAxes",drawingType:"linear"}},_prepareAxisOptions:function(a,n,r){return{isHorizontal:"argumentAxis"===a!==r,containerColor:this._themeManager.getOptions("containerBackgroundColor")}},_checkPaneName:function(a){var n=(0,_e.UI)(this.panes,function(r){return r.name});return a.pane=a.pane||this.defaultPane,n.includes(a.pane)},_initCustomPositioningAxes(){var a=this,n=a.getArgumentAxis(),r=n.getOptions().customPositionAxis,l=a._valueAxes.filter(c=>c.pane===n.pane&&(!r||r===c.name))[0];a._valueAxes.forEach(c=>{n!==c.getOrthogonalAxis()&&(c.getOrthogonalAxis=()=>n,c.customPositionIsBoundaryOrthogonalAxis=()=>n.customPositionIsBoundary())}),(0,ce.$K)(l)&&l!==n.getOrthogonalAxis()?(n.getOrthogonalAxis=()=>l,n.customPositionIsBoundaryOrthogonalAxis=()=>a._valueAxes.some(c=>c.customPositionIsBoundary())):(0,ce.$K)(n.getOrthogonalAxis())&&!(0,ce.$K)(l)&&(n.getOrthogonalAxis=P.ZT)},_getAllAxes(){return this._argumentAxes.concat(this._valueAxes)},_resetAxesAnimation(a,n){((0,ce.$K)(n)?n^this._isRotated()?this._argumentAxes:this._valueAxes:this._getAllAxes()).forEach(l=>{l.resetApplyingAnimation(a)})},_axesBoundaryPositioning(){var a=this._getAllAxes(),n=!1;return a.forEach(r=>{if(!r.customPositionIsAvailable())return!1;var l=r.customPositionIsBoundary();r._customBoundaryPosition=r.getCustomBoundaryPosition(),n|=l!==r.customPositionIsBoundary()}),n},_getCrosshairMargins:function(){var a=this._getCrosshairOptions()||{},n=a.enabled,r_x=8,r_y=4,l=(0,U.l)(!0,{},a.label,a.horizontalLine.label),c=(0,U.l)(!0,{},a.label,a.verticalLine.label);return{x:n&&a.horizontalLine.visible&&l.visible?r_x:0,y:n&&a.verticalLine.visible&&c.visible?r_y:0}},_getValueAxis:function(a,n){var O,R,r=this._valueAxes,l=this.option("valueAxis")||{},c=De(l)?l:[l],m=this._isRotated(),x=this._getCrosshairMargins();return n=n||function ot(a,n,r){for(var l,c=0;c<a.length;c++)if(a[c].pane===n||void 0===a[c].pane&&n===r){l=a[c].name;break}return l||(l=a[0].name),l}(r,a,this.defaultPane),(R=Si(a,n,r))||(O=function Ei(a,n,r){var l,c;for(c=0;c<n.length;c++)if(n[c].name===r){(l=n[c]).priority=c;break}if(!l)for(c=0;c<a.length;c++)if(a[c].name===r){(l=a[c].getOptions()).priority=a[c].priority;break}return l}(r,c,n),O||(this._incidentOccurred("W2102",[n]),O={name:n,priority:r.length}),(R=this._createAxis(!1,this._populateAxesOptions("valueAxis",O,{pane:a,name:n,optionPath:De(l)?"valueAxis[".concat(O.priority,"]"):"valueAxis",crosshairMargin:m?x.y:x.x},m))).applyVisualRangeSetter(this._getVisualRangeSetter()),r.push(R)),R.setPane(a),R},_correctValueAxes:function(a){var n=this,r=n._themeManager.getOptions("synchronizeMultiAxes"),l=n._valueAxes,c={};n.series.forEach(function(x){var O=x.getValueAxis();c[O.pane]=!0}),n.panes.forEach(function(x){var O=x.name;c[O]||n._getValueAxis(O),a&&r&&function Kt(a){var n=!1,r=[],l=a.some(function(m){var x=m.getOptions().minorGrid;return x&&x.visible}),c=a.some(function(m){var x=m.getOptions().grid;return x&&x.visible});a.length>1&&(a.forEach(function(m){var x=m.getOptions().grid;n?ht(m,!1,!1):x&&x.visible&&(m.getTranslator().getBusinessRange().isEmpty()?(ht(m,!1,!1),r.push(m)):(n=!0,ht(m,c,l)))}),!n&&r.length&&ht(r[0],c,l))}(l.filter(function(R){return R.pane===O}))}),n._valueAxes=l.filter(function(x){x.pane||x.setPane(n.defaultPane);var O=ki(n.panes,x.pane);return O||(x.dispose(),x=null),O}).sort(Li);var m=this.getValueAxis();n._valueAxes.forEach(x=>{var O=x.getOptions().optionPath;if(O){var R=n._valueAxes.filter(F=>F.getOptions().optionPath===O);R.length>1&&(R.some(F=>F===m)?R.forEach(F=>{F!==m&&(F.getOptions().optionPath=null)}):R.forEach((F,re)=>{0!==re&&(F.getOptions().optionPath=null)}))}})},_getSeriesForPane:function(a){var n=[];return(0,Ce.S6)(this.series,function(r,l){l.pane===a&&n.push(l)}),n},_createPanesBorderOptions:function(){var a=this._themeManager.getOptions("commonPaneSettings").border,n={};return this.panes.forEach(r=>n[r.name]=(0,U.l)(!0,{},a,r.border)),n},_createScrollBar:function(){var a=this._themeManager.getOptions("scrollBar")||{},n=this._scrollBarGroup;a.visible?(a.rotated=this._isRotated(),this._scrollBar=(this._scrollBar||new Be(this._renderer,n)).update(a)):(n.linkRemove(),this._scrollBar&&this._scrollBar.dispose(),this._scrollBar=null)},_executeAppendAfterSeries(a){a()},_prepareToRender(a){var n=this._createPanesBorderOptions();return this._createPanesBackground(),this._appendAxesGroups(),this._adjustViewport(),n},_adjustViewport(){!this._themeManager.getOptions("adjustOnZoom")||this._valueAxes.forEach(n=>n.adjust())},_recreateSizeDependentObjects(a){var n=this,r=n._getVisibleSeries(),l=r.some(m=>m.useAggregation()),c=n._isZooming();!l||(n._argumentAxes.forEach(function(m){m.updateCanvas(n._canvas,!0)}),r.forEach(function(m){m.useAggregation()&&(a||c||!m._useAllAggregatedPoints)&&m.createPoints()}),n._processSeriesFamilies())},_isZooming(){var a=this.getArgumentAxis();if(!a||!a.getTranslator())return!1;var n=a.getTranslator().getBusinessRange(),r=a.getViewport(),l=r?r.min:0,c=r?r.max:0;"logarithmic"===n.axisType&&(l=(0,_e.Bd)(l,n.base),c=(0,_e.Bd)(c,n.base));var m=n.axisType===ie?(0,_e.Xc)(n.categories,l,c).categories.length:Math.abs(c-l),x=(0,et.p8)(m);x=x>1?Math.pow(10,x-2):1;var O=Math.round((this._zoomLength-m)*x)/x!=0;return this._zoomLength=m,O},_handleSeriesDataUpdated:function(){var a=this,n=new D.e;a.series.forEach(function(r){n.addRange(r.getArgumentRange())}),a._argumentAxes.forEach(function(r){r.updateCanvas(a._canvas,!0),r.setBusinessRange(n,a._axesReinitialized)}),a.callBase()},_isLegendInside:function(){return this._legend&&"inside"===this._legend.getPosition()},_isRotated:function(){return this._themeManager.getOptions("rotated")},_getLayoutTargets:function(){return this.panes},_applyClipRects:function(a){this._drawPanesBorders(a),this._createClipRectsForPanes(),this._applyClipRectsForAxes(),this._fillPanesBackground()},_updateLegendPosition:function(a,n){if(a.drawLegend&&this._legend&&n){var r=this.panes,l=(0,U.l)({},r[0].canvas),c=new B.n;l.right=r[r.length-1].canvas.right,l.bottom=r[r.length-1].canvas.bottom,c.layoutInsideLegend(this._legend,l)}},_allowLegendInsidePosition:()=>!0,_applyExtraSettings:function(a){var n=this._getPaneIndex(a.pane),r=this._panesClipRects,l=r.wide[n];a.setClippingParams(r.base[n].id,l&&l.id,this._getPaneBorderVisibility(n))},_updatePanesCanvases:function(a){!a.recreateCanvas||(0,_e.Qk)(this.panes,this._canvas,this._isRotated())},_normalizePanesHeight:function(){(0,_e.IZ)(this.panes)},_renderScaleBreaks:function(){this._valueAxes.concat(this._argumentAxes).forEach(function(a){a.drawScaleBreaks()})},_getArgFilter(){return z.Z.getViewPortFilter(this.getArgumentAxis().visualRange()||{})},_applyPointMarkersAutoHiding(){var a=this,n=a.series;a._themeManager.getOptions("autoHidePointMarkers")?a.panes.forEach(r=>{var{borderCoords:l,name:c}=r,m=n.filter(K=>K.pane===c&&K.usePointsToDefineAutoHiding()),x=a.getArgumentAxis(),O=function ea(a,n,r){var l=[],c={},m=r.visualRange(),x=r.getTranslator(),O=z.Z.getViewPortFilter(m||{});return n.forEach(R=>{var F=R.getValueAxis(),re=F.getCanvasRange(),ue=F.getTranslator(),K=a.indexOf(R),E=z.Z.getViewPortFilter(re||{});c[K]={},n.forEach($=>c[K][a.indexOf($)]=0);var X=[];R.getPoints().filter($=>$.getOptions().visible&&O($.argument)&&(E($.getMinValue(!0))||E($.getMaxValue(!0)))).forEach($=>{var ne={seriesIndex:K,argument:$.argument,value:$.getMaxValue(!0),size:$.bubbleSize||$.getOptions().size};if($.getMinValue(!0)!==$.getMaxValue(!0)){var xe=(0,U.l)({},ne);xe.value=$.getMinValue(!0),xe.x=x.to(xe.argument,1),xe.y=ue.to(xe.value,1),X.push(xe)}ne.x=x.to(ne.argument,1),ne.y=ue.to(ne.value,1),X.push(ne)}),c[K].pointsCount=X.length,c[K].total=0,c[K].continuousSeries=0,l.push({name:R.name,index:K,points:X})}),{series:l,overloadedSeries:c}}(n,m,x);if(function ia(a,n,r){for(var l=a.width*a.height,c=n.series,m=function(O){var R=r.filter(E=>E.name===c[O].name)[0],F=c[O].points,re=F.length?F[0].size:0,ue=re*re*F.length;if(R.autoHidePointMarkersEnabled()&&ue>=l/c.length){var K=c[O].index;R.autoHidePointMarkers=!0,c.splice(O,1),r.splice(r.indexOf(R),1),delete n.overloadedSeries[K]}},x=c.length-1;x>=0;x--)m(x)}(l,O,m),O.series.length){var R=x.visualRange(),re=x.getOptions().type===ie?(K,E)=>R.categories.indexOf(K.argument)-R.categories.indexOf(E.argument):(K,E)=>K.argument-E.argument,ue=[];O.series.forEach(K=>ue=ue.concat(K.points)),ue.sort(re),function aa(a,n){for(var r=!1,l=0;l<a.length-1;l++){var c=a[l],m=c.size;if((0,ce.$K)(c.x)&&(0,ce.$K)(c.y))for(var x=l+1;x<a.length;x++){var O=a[x],R=O?.x,F=O?.y;if(!(0,ce.$K)(R)||Math.abs(c.x-R)>=m){r&=x!==l+1;break}var re=(0,ce.$K)(R)&&(0,ce.$K)(F)&&Math.sqrt(Math.pow(c.x-R,2)+Math.pow(c.y-F,2));re&&re<m&&(n[c.seriesIndex][O.seriesIndex]++,n[c.seriesIndex].total++,r||(n[c.seriesIndex].continuousSeries++,r=!0))}}}(ue,O.overloadedSeries),function ta(a,n,r,l){var c=l.getOptions().type;n.forEach(m=>{var x=a.indexOf(m);m.autoHidePointMarkers=!1;var O=l.getTicksValues().majorTicksValues.length;if(m.autoHidePointMarkersEnabled()&&(c===ie||r[x].pointsCount>O))for(var R in r[x]){var F=parseInt(R);if(!(isNaN(F)||r[x].total/r[x].continuousSeries<3))if(F===x){if(2*r[F][F]>=r[F].pointsCount){m.autoHidePointMarkers=!0;break}}else if(r[x].total>=r[x].pointsCount){m.autoHidePointMarkers=!0;break}}})}(n,m,O.overloadedSeries,x)}}):n.forEach(r=>r.autoHidePointMarkers=!1)},_renderAxes:function(a,n){function r(be){return be.map(Ue=>{if(!Ue.getTitle)return 0;var rt=Ue.getTitle();return rt?rt.bBox.width:0})}var l=this,c=l._isRotated(),m=l._themeManager.getOptions("synchronizeMultiAxes"),x=l._scrollBar?[l._scrollBar]:[],O=l._isArgumentAxisBeforeScrollBar()?l._argumentAxes.concat(x):x.concat(l._argumentAxes),R=c?l._argumentAxes:l._valueAxes,F=c?O:l._valueAxes,re=c?l._valueAxes:l._argumentAxes,ue=c?l._valueAxes:O,K=R.concat(re),E=K.concat(x),X=R.some(be=>be.isFirstDrawing());l._normalizePanesHeight(),l._updatePanesCanvases(a);var $=l.panes.reduce(function(be,Ue){return be[Ue.name]=(0,U.l)({},Ue.canvas),be},{}),ne=l.panes.reduce((be,Ue)=>(be[Ue.name]={height:Ue.height,unit:Ue.unit},be),{}),xe=(0,U.l)(!0,{},$);l._initCustomPositioningAxes();var Re=l._axesBoundaryPositioning();if(!a.adjustAxes&&!Re)return ui(R,!c&&m,$,n),ui(re,c&&m,$,n),Gt(K,"prepareAnimation"),l._renderScaleBreaks(),re.forEach(be=>be.resolveOverlappingForCustomPositioning(R)),R.forEach(be=>be.resolveOverlappingForCustomPositioning(re)),!1;Re&&K.forEach(be=>be.customPositionIsAvailable()&&be.shift({top:0,left:0,bottom:0,right:0})),l._scrollBar&&l._scrollBar.setPane(l.panes);var Te={panes:{}},Ze=ti(ue,be=>be.estimateMargins($[be.pane]));$=ii(c,$,ne,Te,Ze);var tt=be=>{ui(be?re:R,(be?c:!c)&&m,$,n),be?Ze=ti(ue,oi):Te=li(F),$=ii(c,$,ne,Te,Ze)};tt(!1),tt(!0),!l._changesApplying&&l._estimateTickIntervals(R,$)&&tt(!1);var ze=r(R),pt=l._getVisibleSeries(),At=function qi(a,n){var r=n.reduce((l,c)=>l+c,0)/n.length;return a.animate&&r<=a.animationPointsLimit}(a,l._getPointsToAnimation(pt));return Gt(E,"updateSize",$,At),ue.forEach(ai("top","bottom")),F.forEach(ai("left","right")),l._renderScaleBreaks(),l.panes.forEach(function(be){(0,U.l)(be.canvas,$[be.name])}),l._valueAxes.forEach(be=>{be.setInitRange()}),R.forEach((be,Ue)=>{var rt;if(null!==(rt=be.hasWrap)&&void 0!==rt&&rt.call(be)){var Rt=be.getTitle(),$t=(Rt?Rt.bBox.width:0)-ze[Ue];"right"===be.getOptions().position?Te.right+=$t:(Te.left+=$t,l.panes.forEach(It=>{var{name:Wt}=It;return Te.panes[Wt].left+=$t})),$=ii(c,$,ne,Te,Ze),Gt(E,"updateSize",$,!1,!1),ze=r(R)}}),R.some(be=>be.customPositionIsAvailable()&&be.getCustomPosition()!==be._axisPosition)&&(At&&l._resetAxesAnimation(X,!1),Gt(R,"updateSize",$,At)),re.forEach(be=>be.resolveOverlappingForCustomPositioning(R)),R.forEach(be=>be.resolveOverlappingForCustomPositioning(re)),xe},_getExtraTemplatesItems(){var a=(this._argumentAxes||[]).concat(this._valueAxes||[]),n=this._collectTemplatesFromItems(a);return{items:n.items,groups:n.groups,launchRequest(){a.forEach(function(r){r.setRenderedState(!0)})},doneRequest(){a.forEach(function(r){r.setRenderedState(!1)})}}},_estimateTickIntervals:(a,n)=>a.some(r=>r.estimateTickInterval(n[r.pane])),checkForMoreSpaceForPanesCanvas(){var a=this._isRotated(),r=!1;if(this.panes.filter(E=>E.unit).length===this.panes.length){var l=0,c=0;if(a){var m=this.getArgumentAxis().getMargins().right,x=Math.min.apply(Math,this.panes.map(E=>E.canvas.right));l=this._canvas.right+m-x}else{var O=this.getArgumentAxis().getMargins().bottom,R=Math.min.apply(Math,this.panes.map(E=>E.canvas.bottom));c=this._canvas.bottom+O-R}if(r=(l>0||c>0)&&{width:l,height:c},0!==c){var F=this.getSize(),re=this.option("size"),K=!!parseInt(this._$element[0].style.height)||0!==this._containerInitialHeight;!a&&(!re||!re.height)&&!K&&(this._forceResize(F.width,F.height+c),r=!1)}}else r=this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(),a,E=>({width:a&&!!E.unit,height:!a&&!!E.unit}));return r},_forceResize(a,n){this._renderer.resize(a,n),this._updateSize(),this._setContentSize(),this._preserveOriginalCanvas(),this._updateCanvasClipRect(this._canvas)},_shrinkAxes(a,n){if(a&&n){this._renderer.stopAllAnimations(!0);var r=this._isRotated(),l=this._scrollBar?[this._scrollBar]:[],c=this._isArgumentAxisBeforeScrollBar()?this._argumentAxes.concat(l):l.concat(this._argumentAxes),m=r?c:this._valueAxes,x=r?this._valueAxes:c,O=m.concat(x);if(a.width||a.height){pi(a,"height",x,ti),pi(a,"width",m,li),Gt(O,"updateSize",n);var R=this.panes.reduce((F,re)=>(F[re.name]={height:re.height,unit:re.unit},F),{});Gt(O,"updateSize",n=ii(r,n,R,li(m),ti(x,oi))),x.forEach(ai("top","bottom")),m.forEach(ai("left","right")),this.panes.forEach(F=>(0,U.l)(F.canvas,n[F.name]))}}},_isArgumentAxisBeforeScrollBar(){var a=this.getArgumentAxis();if(this._scrollBar){var n,r=a.getResolvedBoundaryPosition(),l=null===(n=a.getOptions().label)||void 0===n?void 0:n.position,c=this._scrollBar.getOptions().position;return a.hasNonBoundaryPosition()||c===r&&l!==c}return!1},_getPanesParameters:function(){var n,a=this.panes,r=[];for(n=0;n<a.length;n++)this._getPaneBorderVisibility(n)&&r.push({coords:a[n].borderCoords,clipRect:this._panesClipRects.fixed[n]});return r},_createCrosshairCursor:function(){var a=this._themeManager.getOptions("crosshair")||{},n=this.getArgumentAxis(),r=this._isRotated()?[this._valueAxes,[n]]:[[n],this._valueAxes],l={canvas:this._getCommonCanvas(),panes:this._getPanesParameters(),axes:r};!a||!a.enabled||(this._crosshair?this._crosshair.update(a,l):this._crosshair=new L(this._renderer,a,l,this._crosshairCursorGroup),this._crosshair.render())},_getCommonCanvas:function(){var a,n,r,l=this.panes;for(a=0;a<l.length;a++)n=l[a].canvas,r?(r.right=n.right,r.bottom=n.bottom):r=(0,U.l)({},n);return r},_createPanesBackground:function(){var n,l,c,a=this._themeManager.getOptions("commonPaneSettings").backgroundColor,r=this._renderer,m=[];for(this._panesBackgroundGroup.clear(),c=0;c<this.panes.length;c++)(n=this.panes[c].backgroundColor||a)&&"none"!==n?(l=r.rect(0,0,0,0).attr({fill:n,"stroke-width":0}).append(this._panesBackgroundGroup),m.push(l)):m.push(null);this.panesBackground=m},_fillPanesBackground:function(){var n,a=this;(0,Ce.S6)(a.panes,function(r,l){n=l.borderCoords,null!==a.panesBackground[r]&&a.panesBackground[r].attr({x:n.left,y:n.top,width:n.width,height:n.height})})},_calcPaneBorderCoords:function(a){var n=a.canvas,r=a.borderCoords=a.borderCoords||{};r.left=n.left,r.top=n.top,r.right=n.width-n.right,r.bottom=n.height-n.bottom,r.width=Math.max(r.right-r.left,0),r.height=Math.max(r.bottom-r.top,0)},_drawPanesBorders:function(a){var n=this,r=n._isRotated();n._panesBorderGroup.linkRemove().clear(),(0,Ce.S6)(n.panes,function(l,c){var m=a[c.name],x={fill:"none",stroke:m.color,"stroke-opacity":m.opacity,"stroke-width":m.width,dashStyle:m.dashStyle,"stroke-linecap":"square"};if(n._calcPaneBorderCoords(c,r),m.visible){var O=c.borderCoords,R=function(a,n,r,l,c){var K,m=~~((r<l?r:l)/2),x=c.width||0,O=x<m?x:m,R=(a+=O/2)+(r-=O),F=(n+=O/2)+(l-=O),re=[],ue=[],E=0,X=0,$={top:[[a,n],[R,n]],right:[[R,n],[R,F]],bottom:[[R,F],[a,F]],left:[[a,F],[a,n]]};switch((0,Ce.S6)($,function(ne){E=2*E+~~!!c[ne]}),E){case 13:case 9:K=["left","top","right","bottom"];break;case 11:K=["bottom","left","top","right"];break;default:K=["top","right","bottom","left"]}return(0,Ce.S6)(K,function(ne,xe){var Re=!!c[xe];!X&&ue.length&&(re.push(ue),ue=[]),Re&&(0,Ce.S6)($[xe].slice(X),function(Te,Ze){ue=ue.concat(Ze)}),X=~~Re}),ue.length&&re.push(ue),1===re.length&&(re=re[0]),{points:re,pathType:15===E?"area":"line"}}(O.left,O.top,O.width,O.height,m);n._renderer.path(R.points,R.pathType).attr(x).append(n._panesBorderGroup)}}),n._panesBorderGroup.linkAppend()},_createClipRect:function(a,n,r,l,c,m){var x=a[n];x?x.attr({x:r,y:l,width:c,height:m}):(x=this._renderer.clipRect(r,l,c,m),a[n]=x)},_createClipRectsForPanes:function(){var a=this,n=a._canvas;(0,Ce.S6)(a.panes,function(r,l){var c=!1,m=l.borderCoords,x=m.left,O=m.top,R=m.width,F=m.height,re=a._panesClipRects;a._createClipRect(re.fixed,r,x,O,R,F),a._createClipRect(re.base,r,x,O,R,F),(0,Ce.S6)(a.series,function(ue,K){K.pane===l.name&&(K.isFinancialSeries()||K.areErrorBarsVisible())&&(c=!0)}),c?(a._isRotated()?(O=0,F=n.height):(x=0,R=n.width),a._createClipRect(re.wide,r,x,O,R,F)):re.wide[r]=null})},_applyClipRectsForAxes(){for(var a=this._getAllAxes(),n=this._getCanvasClipRectID(),r=0;r<a.length;r++){var l=this._getElementsClipRectID(a[r].pane);a[r].applyClipRects(l,n)}},_getPaneBorderVisibility:function(a){var n=this._themeManager.getOptions("commonPaneSettings").border.visible,l=(this.panes[a]||{}).border||{};return"visible"in l?l.visible:n},_getCanvasForPane:function(a){var l,n=this.panes,r=n.length;for(l=0;l<r;l++)if(n[l].name===a)return n[l].canvas},_getTrackerSettings:function(){var a=this._themeManager;return(0,U.l)(this.callBase(),{chart:this,rotated:this._isRotated(),crosshair:this._getCrosshairOptions().enabled?this._crosshair:null,stickyHovering:a.getOptions("stickyHovering")})},_resolveLabelOverlappingStack:function(){var a=this,n=a._isRotated(),r=n?function(l,c){return{x:l.x-c,y:l.y}}:function(l,c){return{x:l.x,y:l.y-c}};(0,Ce.S6)(a._getStackPoints(),function(l,c){(0,Ce.S6)(c,function(m,x){var O=x[0].series.getValueAxis().getOptions().inverted;We.F.resolveLabelOverlappingInOneDirection(x,a._getCommonCanvas(),n,O,r,(R,F)=>{var re=n?1:0;return R.labels[0].getFigureCenter()[re]-F.labels[0].getFigureCenter()[re]==0?(R.value()-F.value())*(R.labels[0].getPoint().series.getValueAxis().getTranslator().isInverted()?-1:1):0})})})},_getStackPoints:function(){var a={},n=this._getVisibleSeries();return(0,Ce.S6)(n,function(r,l){var c=l.getPoints(),m=l.getStackName()||null;(0,Ce.S6)(c,function(x,O){var R=O.argument;a[R]||(a[R]={}),a[R][m]||(a[R][m]=[]),a[R][m].push(O)})}),a},_getCrosshairOptions:function(){return this._getOption("crosshair")},zoomArgument(a,n){!this._initialized||!(0,ce.$K)(a)&&!(0,ce.$K)(n)||this.getArgumentAxis().visualRange([a,n])},resetVisualRange(){var a=this,n=a._argumentAxes,r=a.getArgumentAxis();n.forEach(l=>{l.resetVisualRange(r!==l),a._applyCustomVisualRangeOption(l)}),a.callBase()},getVisibleArgumentBounds:function(){var n=this._argumentAxes[0].getTranslator().getBusinessRange(),r=n.axisType===ie,l=n.categories;return{minVisible:r?n.minVisible||l[0]:n.minVisible,maxVisible:r?n.maxVisible||l[l.length-1]:n.maxVisible}},_change_FULL_RENDER(){this.callBase(),this._changes.has("VISUAL_RANGE")&&this._raiseZoomEndHandlers()},_getAxesForScaling(){return[this.getArgumentAxis()].concat(this._valueAxes)},_applyVisualRangeByVirtualAxes(a,n){if(a.isArgumentAxis){if(a!==this.getArgumentAxis())return!0;this._argumentAxes.filter(r=>r!==a).forEach(r=>r.visualRange(n,{start:!0,end:!0}))}return!1},_raiseZoomEndHandlers(){this._argumentAxes.forEach(a=>a.handleZoomEnd()),this.callBase()},_setOptionsByReference(){this.callBase(),(0,U.l)(this._optionsByReference,{"argumentAxis.visualRange":!0})},option(){var a=this.callBase.apply(this,arguments),n=this._options.silent("valueAxis");if("array"===(0,ce.dt)(n))for(var r=0;r<n.length;r++){var l="valueAxis[".concat(r,"].visualRange");this._optionsByReference[l]=!0}return a},_notifyVisualRange(){var a=this._argumentAxes[0],n=(0,_e.n4)(a.visualRange(),!De(this.option("argumentAxis.visualRange")));a.skipEventRising&&(0,_e.db)(n,this.option("argumentAxis.visualRange"))?a.skipEventRising=null:this.option("argumentAxis.visualRange",n),this.callBase()}});fi.addPlugin(nt),fi.addPlugin(he),fi.addPlugin(me.G.core),fi.addPlugin(me.G.chart),(0,Je.Z)("dxChart",fi);const ra=fi;var Nt=W(99106),y=W(84943);let na=(()=>{class a extends Nt.Ay{constructor(r,l,c,m,x,O,R,F){super(r,l,c,m,R,F),this._watcherHelper=m,this._idh=x,this._createEventEmitters([{subscribe:"argumentAxisClick",emit:"onArgumentAxisClick"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"done",emit:"onDone"},{subscribe:"drawn",emit:"onDrawn"},{subscribe:"exported",emit:"onExported"},{subscribe:"exporting",emit:"onExporting"},{subscribe:"fileSaving",emit:"onFileSaving"},{subscribe:"incidentOccurred",emit:"onIncidentOccurred"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"legendClick",emit:"onLegendClick"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"pointClick",emit:"onPointClick"},{subscribe:"pointHoverChanged",emit:"onPointHoverChanged"},{subscribe:"pointSelectionChanged",emit:"onPointSelectionChanged"},{subscribe:"seriesClick",emit:"onSeriesClick"},{subscribe:"seriesHoverChanged",emit:"onSeriesHoverChanged"},{subscribe:"seriesSelectionChanged",emit:"onSeriesSelectionChanged"},{subscribe:"tooltipHidden",emit:"onTooltipHidden"},{subscribe:"tooltipShown",emit:"onTooltipShown"},{subscribe:"zoomEnd",emit:"onZoomEnd"},{subscribe:"zoomStart",emit:"onZoomStart"},{emit:"adaptiveLayoutChange"},{emit:"adjustOnZoomChange"},{emit:"animationChange"},{emit:"annotationsChange"},{emit:"argumentAxisChange"},{emit:"autoHidePointMarkersChange"},{emit:"barGroupPaddingChange"},{emit:"barGroupWidthChange"},{emit:"commonAnnotationSettingsChange"},{emit:"commonAxisSettingsChange"},{emit:"commonPaneSettingsChange"},{emit:"commonSeriesSettingsChange"},{emit:"containerBackgroundColorChange"},{emit:"crosshairChange"},{emit:"customizeAnnotationChange"},{emit:"customizeLabelChange"},{emit:"customizePointChange"},{emit:"dataPrepareSettingsChange"},{emit:"dataSourceChange"},{emit:"defaultPaneChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"exportChange"},{emit:"legendChange"},{emit:"loadingIndicatorChange"},{emit:"marginChange"},{emit:"maxBubbleSizeChange"},{emit:"minBubbleSizeChange"},{emit:"negativesAsZeroesChange"},{emit:"paletteChange"},{emit:"paletteExtensionModeChange"},{emit:"panesChange"},{emit:"pathModifiedChange"},{emit:"pointSelectionModeChange"},{emit:"redrawOnResizeChange"},{emit:"resizePanesOnZoomChange"},{emit:"resolveLabelOverlappingChange"},{emit:"rotatedChange"},{emit:"rtlEnabledChange"},{emit:"scrollBarChange"},{emit:"seriesChange"},{emit:"seriesSelectionModeChange"},{emit:"seriesTemplateChange"},{emit:"sizeChange"},{emit:"stickyHoveringChange"},{emit:"synchronizeMultiAxesChange"},{emit:"themeChange"},{emit:"titleChange"},{emit:"tooltipChange"},{emit:"valueAxisChange"},{emit:"zoomAndPanChange"}]),this._idh.setHost(this),O.setHost(this)}get adaptiveLayout(){return this._getOption("adaptiveLayout")}set adaptiveLayout(r){this._setOption("adaptiveLayout",r)}get adjustOnZoom(){return this._getOption("adjustOnZoom")}set adjustOnZoom(r){this._setOption("adjustOnZoom",r)}get animation(){return this._getOption("animation")}set animation(r){this._setOption("animation",r)}get annotations(){return this._getOption("annotations")}set annotations(r){this._setOption("annotations",r)}get argumentAxis(){return this._getOption("argumentAxis")}set argumentAxis(r){this._setOption("argumentAxis",r)}get autoHidePointMarkers(){return this._getOption("autoHidePointMarkers")}set autoHidePointMarkers(r){this._setOption("autoHidePointMarkers",r)}get barGroupPadding(){return this._getOption("barGroupPadding")}set barGroupPadding(r){this._setOption("barGroupPadding",r)}get barGroupWidth(){return this._getOption("barGroupWidth")}set barGroupWidth(r){this._setOption("barGroupWidth",r)}get commonAnnotationSettings(){return this._getOption("commonAnnotationSettings")}set commonAnnotationSettings(r){this._setOption("commonAnnotationSettings",r)}get commonAxisSettings(){return this._getOption("commonAxisSettings")}set commonAxisSettings(r){this._setOption("commonAxisSettings",r)}get commonPaneSettings(){return this._getOption("commonPaneSettings")}set commonPaneSettings(r){this._setOption("commonPaneSettings",r)}get commonSeriesSettings(){return this._getOption("commonSeriesSettings")}set commonSeriesSettings(r){this._setOption("commonSeriesSettings",r)}get containerBackgroundColor(){return this._getOption("containerBackgroundColor")}set containerBackgroundColor(r){this._setOption("containerBackgroundColor",r)}get crosshair(){return this._getOption("crosshair")}set crosshair(r){this._setOption("crosshair",r)}get customizeAnnotation(){return this._getOption("customizeAnnotation")}set customizeAnnotation(r){this._setOption("customizeAnnotation",r)}get customizeLabel(){return this._getOption("customizeLabel")}set customizeLabel(r){this._setOption("customizeLabel",r)}get customizePoint(){return this._getOption("customizePoint")}set customizePoint(r){this._setOption("customizePoint",r)}get dataPrepareSettings(){return this._getOption("dataPrepareSettings")}set dataPrepareSettings(r){this._setOption("dataPrepareSettings",r)}get dataSource(){return this._getOption("dataSource")}set dataSource(r){this._setOption("dataSource",r)}get defaultPane(){return this._getOption("defaultPane")}set defaultPane(r){this._setOption("defaultPane",r)}get disabled(){return this._getOption("disabled")}set disabled(r){this._setOption("disabled",r)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(r){this._setOption("elementAttr",r)}get export(){return this._getOption("export")}set export(r){this._setOption("export",r)}get legend(){return this._getOption("legend")}set legend(r){this._setOption("legend",r)}get loadingIndicator(){return this._getOption("loadingIndicator")}set loadingIndicator(r){this._setOption("loadingIndicator",r)}get margin(){return this._getOption("margin")}set margin(r){this._setOption("margin",r)}get maxBubbleSize(){return this._getOption("maxBubbleSize")}set maxBubbleSize(r){this._setOption("maxBubbleSize",r)}get minBubbleSize(){return this._getOption("minBubbleSize")}set minBubbleSize(r){this._setOption("minBubbleSize",r)}get negativesAsZeroes(){return this._getOption("negativesAsZeroes")}set negativesAsZeroes(r){this._setOption("negativesAsZeroes",r)}get palette(){return this._getOption("palette")}set palette(r){this._setOption("palette",r)}get paletteExtensionMode(){return this._getOption("paletteExtensionMode")}set paletteExtensionMode(r){this._setOption("paletteExtensionMode",r)}get panes(){return this._getOption("panes")}set panes(r){this._setOption("panes",r)}get pathModified(){return this._getOption("pathModified")}set pathModified(r){this._setOption("pathModified",r)}get pointSelectionMode(){return this._getOption("pointSelectionMode")}set pointSelectionMode(r){this._setOption("pointSelectionMode",r)}get redrawOnResize(){return this._getOption("redrawOnResize")}set redrawOnResize(r){this._setOption("redrawOnResize",r)}get resizePanesOnZoom(){return this._getOption("resizePanesOnZoom")}set resizePanesOnZoom(r){this._setOption("resizePanesOnZoom",r)}get resolveLabelOverlapping(){return this._getOption("resolveLabelOverlapping")}set resolveLabelOverlapping(r){this._setOption("resolveLabelOverlapping",r)}get rotated(){return this._getOption("rotated")}set rotated(r){this._setOption("rotated",r)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(r){this._setOption("rtlEnabled",r)}get scrollBar(){return this._getOption("scrollBar")}set scrollBar(r){this._setOption("scrollBar",r)}get series(){return this._getOption("series")}set series(r){this._setOption("series",r)}get seriesSelectionMode(){return this._getOption("seriesSelectionMode")}set seriesSelectionMode(r){this._setOption("seriesSelectionMode",r)}get seriesTemplate(){return this._getOption("seriesTemplate")}set seriesTemplate(r){this._setOption("seriesTemplate",r)}get size(){return this._getOption("size")}set size(r){this._setOption("size",r)}get stickyHovering(){return this._getOption("stickyHovering")}set stickyHovering(r){this._setOption("stickyHovering",r)}get synchronizeMultiAxes(){return this._getOption("synchronizeMultiAxes")}set synchronizeMultiAxes(r){this._setOption("synchronizeMultiAxes",r)}get theme(){return this._getOption("theme")}set theme(r){this._setOption("theme",r)}get title(){return this._getOption("title")}set title(r){this._setOption("title",r)}get tooltip(){return this._getOption("tooltip")}set tooltip(r){this._setOption("tooltip",r)}get valueAxis(){return this._getOption("valueAxis")}set valueAxis(r){this._setOption("valueAxis",r)}get zoomAndPan(){return this._getOption("zoomAndPan")}set zoomAndPan(r){this._setOption("zoomAndPan",r)}get annotationsChildren(){return this._getOption("annotations")}set annotationsChildren(r){this.setChildren("annotations",r)}get panesChildren(){return this._getOption("panes")}set panesChildren(r){this.setChildren("panes",r)}get seriesChildren(){return this._getOption("series")}set seriesChildren(r){this.setChildren("series",r)}get valueAxisChildren(){return this._getOption("valueAxis")}set valueAxisChildren(r){this.setChildren("valueAxis",r)}_createInstance(r,l){return new ra(r,l)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(r){super.ngOnChanges(r),this.setupChanges("annotations",r),this.setupChanges("dataSource",r),this.setupChanges("palette",r),this.setupChanges("panes",r),this.setupChanges("series",r),this.setupChanges("valueAxis",r)}setupChanges(r,l){r in this._optionsToUpdate||this._idh.setup(r,l)}ngDoCheck(){this._idh.doCheck("annotations"),this._idh.doCheck("dataSource"),this._idh.doCheck("palette"),this._idh.doCheck("panes"),this._idh.doCheck("series"),this._idh.doCheck("valueAxis"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(r,l){let c=this._idh.setupSingle(r,l),m=null!==this._idh.getChanges(r,l);(c||m)&&super._setOption(r,l)}}return a.\u0275fac=function(r){return new(r||a)(de.Y36(de.SBq),de.Y36(de.R0b),de.Y36(Nt._5),de.Y36(Nt._h),de.Y36(Nt.i9),de.Y36(Nt.al),de.Y36(He.ki),de.Y36(de.Lbi))},a.\u0275cmp=de.Xpm({type:a,selectors:[["dx-chart"]],contentQueries:function(r,l,c){if(1&r&&(de.Suo(c,y.ZnP,4),de.Suo(c,y.XDP,4),de.Suo(c,y.bcN,4),de.Suo(c,y.UQn,4)),2&r){let m;de.iGM(m=de.CRH())&&(l.annotationsChildren=m),de.iGM(m=de.CRH())&&(l.panesChildren=m),de.iGM(m=de.CRH())&&(l.seriesChildren=m),de.iGM(m=de.CRH())&&(l.valueAxisChildren=m)}},inputs:{adaptiveLayout:"adaptiveLayout",adjustOnZoom:"adjustOnZoom",animation:"animation",annotations:"annotations",argumentAxis:"argumentAxis",autoHidePointMarkers:"autoHidePointMarkers",barGroupPadding:"barGroupPadding",barGroupWidth:"barGroupWidth",commonAnnotationSettings:"commonAnnotationSettings",commonAxisSettings:"commonAxisSettings",commonPaneSettings:"commonPaneSettings",commonSeriesSettings:"commonSeriesSettings",containerBackgroundColor:"containerBackgroundColor",crosshair:"crosshair",customizeAnnotation:"customizeAnnotation",customizeLabel:"customizeLabel",customizePoint:"customizePoint",dataPrepareSettings:"dataPrepareSettings",dataSource:"dataSource",defaultPane:"defaultPane",disabled:"disabled",elementAttr:"elementAttr",export:"export",legend:"legend",loadingIndicator:"loadingIndicator",margin:"margin",maxBubbleSize:"maxBubbleSize",minBubbleSize:"minBubbleSize",negativesAsZeroes:"negativesAsZeroes",palette:"palette",paletteExtensionMode:"paletteExtensionMode",panes:"panes",pathModified:"pathModified",pointSelectionMode:"pointSelectionMode",redrawOnResize:"redrawOnResize",resizePanesOnZoom:"resizePanesOnZoom",resolveLabelOverlapping:"resolveLabelOverlapping",rotated:"rotated",rtlEnabled:"rtlEnabled",scrollBar:"scrollBar",series:"series",seriesSelectionMode:"seriesSelectionMode",seriesTemplate:"seriesTemplate",size:"size",stickyHovering:"stickyHovering",synchronizeMultiAxes:"synchronizeMultiAxes",theme:"theme",title:"title",tooltip:"tooltip",valueAxis:"valueAxis",zoomAndPan:"zoomAndPan"},outputs:{onArgumentAxisClick:"onArgumentAxisClick",onDisposing:"onDisposing",onDone:"onDone",onDrawn:"onDrawn",onExported:"onExported",onExporting:"onExporting",onFileSaving:"onFileSaving",onIncidentOccurred:"onIncidentOccurred",onInitialized:"onInitialized",onLegendClick:"onLegendClick",onOptionChanged:"onOptionChanged",onPointClick:"onPointClick",onPointHoverChanged:"onPointHoverChanged",onPointSelectionChanged:"onPointSelectionChanged",onSeriesClick:"onSeriesClick",onSeriesHoverChanged:"onSeriesHoverChanged",onSeriesSelectionChanged:"onSeriesSelectionChanged",onTooltipHidden:"onTooltipHidden",onTooltipShown:"onTooltipShown",onZoomEnd:"onZoomEnd",onZoomStart:"onZoomStart",adaptiveLayoutChange:"adaptiveLayoutChange",adjustOnZoomChange:"adjustOnZoomChange",animationChange:"animationChange",annotationsChange:"annotationsChange",argumentAxisChange:"argumentAxisChange",autoHidePointMarkersChange:"autoHidePointMarkersChange",barGroupPaddingChange:"barGroupPaddingChange",barGroupWidthChange:"barGroupWidthChange",commonAnnotationSettingsChange:"commonAnnotationSettingsChange",commonAxisSettingsChange:"commonAxisSettingsChange",commonPaneSettingsChange:"commonPaneSettingsChange",commonSeriesSettingsChange:"commonSeriesSettingsChange",containerBackgroundColorChange:"containerBackgroundColorChange",crosshairChange:"crosshairChange",customizeAnnotationChange:"customizeAnnotationChange",customizeLabelChange:"customizeLabelChange",customizePointChange:"customizePointChange",dataPrepareSettingsChange:"dataPrepareSettingsChange",dataSourceChange:"dataSourceChange",defaultPaneChange:"defaultPaneChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",exportChange:"exportChange",legendChange:"legendChange",loadingIndicatorChange:"loadingIndicatorChange",marginChange:"marginChange",maxBubbleSizeChange:"maxBubbleSizeChange",minBubbleSizeChange:"minBubbleSizeChange",negativesAsZeroesChange:"negativesAsZeroesChange",paletteChange:"paletteChange",paletteExtensionModeChange:"paletteExtensionModeChange",panesChange:"panesChange",pathModifiedChange:"pathModifiedChange",pointSelectionModeChange:"pointSelectionModeChange",redrawOnResizeChange:"redrawOnResizeChange",resizePanesOnZoomChange:"resizePanesOnZoomChange",resolveLabelOverlappingChange:"resolveLabelOverlappingChange",rotatedChange:"rotatedChange",rtlEnabledChange:"rtlEnabledChange",scrollBarChange:"scrollBarChange",seriesChange:"seriesChange",seriesSelectionModeChange:"seriesSelectionModeChange",seriesTemplateChange:"seriesTemplateChange",sizeChange:"sizeChange",stickyHoveringChange:"stickyHoveringChange",synchronizeMultiAxesChange:"synchronizeMultiAxesChange",themeChange:"themeChange",titleChange:"titleChange",tooltipChange:"tooltipChange",valueAxisChange:"valueAxisChange",zoomAndPanChange:"zoomAndPanChange"},features:[de._Bn([Nt._5,Nt._h,Nt.al,Nt.i9]),de.qOj,de.TTD],decls:0,vars:0,template:function(r,l){},styles:["[_nghost-%COMP%] {  display: block; }"]}),a})(),sa=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=de.oAB({type:a}),a.\u0275inj=de.cJS({imports:[[y.lsC,y.IOm,y.KOH,y.bgw,y.YXG,y.qB1,y.Ois,y.wMw,y.M2g,y.Zt4,y.xNt,y.qlz,y.e1H,y.Tq8,y.z8p,y.FZZ,y.Afe,y.HC7,y.Irw,y.irQ,y.Llc,y.tis,y.ji7,y.ZmN,y.rrz,y.zk3,y.Wj0,y.DHG,y._7s,y.MHt,y.DQr,y.Ye1,y.kZH,y.dwQ,y.$a2,y.nah,y.Re4,y.PR8,y.gN6,y.Lxh,y.kWr,y.XfX,y.DB7,y.cdq,y.Mel,y.ngB,y.xOr,y.K5R,y.zvd,y.$Tm,y.IqU,y.l95,y.NsS,y.cp7,y.Ezz,y.Rvn,y.jri,y.Wi7,y.d_Q,y.P5j,y.kln,y.c6p,y.tAX,y.y6c,y._ZT,y.jtD,y.Az0,y.p7n,y.lj9,y.FYN,y.KjY,y.lTN,y.rHV,y.Bpy,y.R5e,y.ZLS,y.Rue,y.Kx,y.vZC,y.GTS,y.Y25,y.UV$,Nt.Lz,Nt.ie,He.Cu],y.lsC,y.IOm,y.KOH,y.bgw,y.YXG,y.qB1,y.Ois,y.wMw,y.M2g,y.Zt4,y.xNt,y.qlz,y.e1H,y.Tq8,y.z8p,y.FZZ,y.Afe,y.HC7,y.Irw,y.irQ,y.Llc,y.tis,y.ji7,y.ZmN,y.rrz,y.zk3,y.Wj0,y.DHG,y._7s,y.MHt,y.DQr,y.Ye1,y.kZH,y.dwQ,y.$a2,y.nah,y.Re4,y.PR8,y.gN6,y.Lxh,y.kWr,y.XfX,y.DB7,y.cdq,y.Mel,y.ngB,y.xOr,y.K5R,y.zvd,y.$Tm,y.IqU,y.l95,y.NsS,y.cp7,y.Ezz,y.Rvn,y.jri,y.Wi7,y.d_Q,y.P5j,y.kln,y.c6p,y.tAX,y.y6c,y._ZT,y.jtD,y.Az0,y.p7n,y.lj9,y.FYN,y.KjY,y.lTN,y.rHV,y.Bpy,y.R5e,y.ZLS,y.Rue,y.Kx,y.vZC,y.GTS,y.Y25,y.UV$,Nt.ie]}),a})()},99351:(ri,Et,W)=>{W.d(Et,{Z:()=>de});var He=W(23500);const de={logarithmic:"logarithmic",discrete:"discrete",numeric:"numeric",left:"left",right:"right",top:"top",bottom:"bottom",center:"center",horizontal:"horizontal",vertical:"vertical",convertTicksToValues:function(H){return(0,He.UI)(H||[],function(P){return P.value})},validateOverlappingMode:function(H){return"ignore"===H||"none"===H?H:"hide"},getTicksCountInRange:function(H,P,U){var Me=1;if(H.length>1)for(;Me<H.length&&!(Math.abs(H[Me].coords[P]-H[0].coords[P])>=U);Me++);return Me},areLabelsOverlap:function(H,P,U,Me){var Oe=H.x,Xe=P.x,_e=H.width,ce=P.width;return"left"===Me?(Oe+=_e/2,Xe+=ce/2):"right"===Me&&(Oe-=_e/2,Xe-=ce/2),(H.x>P.x?Xe+ce+U>Oe:Oe+_e+U>Xe)&&(H.y>P.y?P.y+P.height>H.y:H.y+H.height>P.y)}}},40557:(ri,Et,W)=>{W.d(Et,{R:()=>Oi});var He={};W.r(He),W.d(He,{circular:()=>bt,circularSpider:()=>zt,linear:()=>nt,linearSpider:()=>st});var de=W(209),H=W(23500),P=W(64596),U=W(99351),Me=W(83684),Ce=W(26372),Je=W(50089),Oe=W(3241),Xe=W(30523),_e=W(96701),ce=W(80316);function et(e){return{stroke:e.color,"stroke-width":e.width,"stroke-opacity":e.opacity,opacity:1}}function We(e,t,i,o,u,h,g){var _=g||e._tickOffset,f=e._axisLineGroup,A=e._axisElementsGroup,T=et(i),M=et(o),Z=/^\s+$/,ee=e.getOptions().label,Q=e._textOptions;function he(ve){var ge=e._textFontStyles,ae=ee.customizeColor;return ae&&ae.call&&(ge=(0,Me.l)({},e._textFontStyles,{fill:ae.call(ve,ve)})),ge}function me(ve,ge){var ae=e.formatHint(ve.value,ee,ge);(0,P.$K)(ae)&&""!==ae&&ve.getContentContainer().setTitle(ae)}return function(ve){var ge={value:ve,updateValue(ae){this.value=ve=ae},initCoords:function(){this.coords=e._getTranslatedValue(ve,_),this.labelCoords=e._getTranslatedValue(ve)},saveCoords(){this._lastStoredCoordinates={coords:this._storedCoords,labelCoords:this._storedLabelsCoords},this._storedCoords=this.coords,this._storedLabelsCoords=this.templateContainer?this._getTemplateCoords():this.labelCoords},resetCoordinates(){this._lastStoredCoordinates&&(this._storedCoords=this._lastStoredCoordinates.coords,this._storedLabelsCoords=this._lastStoredCoordinates.labelCoords)},drawMark(ae){!i.visible||u===ve||e.areCoordsOutsideAxis(this.coords)||(this.mark?(this.mark.append(f),e.sharp(this.mark,e.getSharpDirectionByCoords(this.coords)),this.updateTickPosition(ae)):(this.mark=e._createPathElement([],T,e.getSharpDirectionByCoords(this.coords)).append(f),this.updateTickPosition(ae)))},setSkippedCategory(ae){u=ae},_updateLine(ae,ie,De,ot,ht){if(ae){if(null===ie.points||null===ie.r)return void ae.remove();ot&&De&&null!==De.points?(ie.opacity=1,ae.attr(De),ae.animate(ie)):(ie.opacity=ot?0:1,ae.attr(ie),ot&&ae.animate({opacity:1},{delay:.5,partitionDuration:.5})),this.coords.angle&&e._rotateTick(ae,this.coords,ht)}},updateTickPosition:function(ae,ie){this._updateLine(this.mark,{points:e._getTickMarkPoints(ge.coords,i.length,ae)},this._storedCoords&&{points:e._getTickMarkPoints(ge._storedCoords,i.length,ae)},ie,!1)},drawLabel:function(ae,ie){if(this.templateContainer&&e.isRendered())this.updateLabelPosition();else if(!ee.visible||h||e.getTranslator().getBusinessRange().isEmpty()||e.areCoordsOutsideAxis(this.labelCoords))this.label&&this.removeLabel();else{var ot=ee.template,ht=e.formatLabel(ve,ee,ae);if(this.label)return this.label.attr({text:ht,rotate:0}).append(A),me(this,ae),void this.updateLabelPosition();ot?(this.templateContainer=t.g().append(A),this._templateDef&&this._templateDef.reject(),this._templateDef=new ce.BH,ie.render({model:{valueText:ht,value:this.value,labelFontStyle:he(this),labelStyle:Q},container:this.templateContainer.element,onRendered:()=>{this.updateLabelPosition(),this._templateDef&&this._templateDef.resolve()}})):(0,P.$K)(ht)&&""!==ht&&!Z.test(ht)&&(this.label=t.text(ht).css(he(this)).attr(Q).append(A),this.updateLabelPosition(),me(this,ae));var Kt=this.getContentContainer();Kt&&Kt.data("chart-data-argument",this.value),this.templateContainer&&me(this,ae)}},getTemplateDeferred(){return this._templateDef},getContentContainer(){return this.templateContainer||this.label},fadeOutElements(){var ae={opacity:1},ie={opacity:0},De={partitionDuration:.5};this.getContentContainer()&&this._fadeOutLabel(),this.grid&&this.grid.append(e._axisGridGroup).attr(ae).animate(ie,De),this.mark&&this.mark.append(e._axisLineGroup).attr(ae).animate(ie,De)},_fadeInLabel(){var ae=e._renderer.g().attr({opacity:0}).append(e._axisElementsGroup).animate({opacity:1},{delay:.5,partitionDuration:.5});this.getContentContainer().append(ae)},_fadeOutLabel(){var ae=e._renderer.g().attr({opacity:1}).animate({opacity:0},{partitionDuration:.5}).append(e._axisElementsGroup).toBackground();this.getContentContainer().append(ae)},_getTemplateCoords(){return e._getLabelAdjustedCoord(this,(e._constantLabelOffset||0)+(ge.labelOffset||0))},updateLabelPosition:function(ae){var ie=this.templateContainer;if(this.getContentContainer())if(ae&&this._storedLabelsCoords)if(ie){ie.attr(this._storedLabelsCoords);var De=this._getTemplateCoords();ie.animate(De)}else this.label.attr({x:this._storedLabelsCoords.x,y:this._storedLabelsCoords.y}),this.label.animate({x:this.labelCoords.x,y:this.labelCoords.y});else{if(ie){var ot=this._getTemplateCoords();ie.attr(ot)}else this.label.attr({x:this.labelCoords.x,y:this.labelCoords.y});ae&&this._fadeInLabel()}},updateMultilineTextAlignment(){ee.template||!this.label||this.label.attr({textsAlignment:this.labelAlignment||e.getOptions().label.alignment})},drawGrid:function(ae){o.visible&&u!==this.value&&(this.grid?(this.grid.append(e._axisGridGroup),e.sharp(this.grid,e.getSharpDirectionByCoords(this.coords)),this.updateGridPosition()):(this.grid=ae(this,M),this.grid&&this.grid.append(e._axisGridGroup)))},updateGridPosition:function(ae){this._updateLine(this.grid,e._getGridPoints(ge.coords),this._storedCoords&&e._getGridPoints(this._storedCoords),ae,!0)},removeLabel(){var ae=this.getContentContainer();ae&&ae.remove(),this._templateDef&&this._templateDef.reject(),this._templateDef=this.templateContainer=this.label=null}};return ge}}var Mt=W(92657),je=W(61072),pe=W(56836),mt=[0,1,2,3,4,5,6];function vt(e){return(e+1)%7}function Lt(e,t){for(var i=e.start,o=e.end;i!==o;){if(i===t)return!0;i=vt(i)}return!1}function Zt(e,t){for(var i=0;e!==t;)e=vt(e),i++;return i}function p(e,t,i,o,u){var h=function Tt(e){var t=function yt(e){return mt.filter(function(t){return!e.some(function(i){return i===t})})}(e);if(t.length<7)for(;vt(t[t.length-1])===t[0];)t.unshift(t.pop());return t}(i),g=function C(e,t,i){var o=e.getDate(),u=[];return i.reduce(function(g,_){var f=g[1];return void 0===f.start?(f={start:_,end:vt(_)},g[0].push(f),[g[0],f]):f.end===_?(f.end=vt(_),g):(f={start:_,end:vt(_)},g[0].push(f),[g[0],f])},[[],{}])[0].forEach(function(g){var _=new Date(e);for(_=je.Z.trimTime(_);_<t;){o=_.getDay();var f=_.getDate();if(Lt(g,o)){var A=new Date(_);_.setDate(f+Zt(o,g.end));var T=new Date(_);u.push({from:A,to:T})}_.setDate(_.getDate()+1)}}),u}(e,t,h);return g.push.apply(g,function v(e,t,i,o){var u,h=function(f){return f===u},g=je.Z.trimTime(e),_=je.Z.trimTime(t);return _.setDate(t.getDate()+1),i.reduce(function(f,A){var T,M;return A=new Date(A),u=A.getDay(),!o.some(h)&&A>=g&&A<=_&&(T=je.Z.trimTime(A),(M=new Date(T)).setDate(T.getDate()+1),f.push({from:T,to:M})),f},[])}(e,t,u||[],h)),function d(e){return e.map(function(t){return{from:t.from,to:t.to,gapSize:je.Z.convertMillisecondsToDateUnits(t.to-t.from)}})}(function s(e,t){var o,i=e.slice(),u=function(h){if(h=je.Z.trimTime(new Date(h)),i[o].from<=h&&i[o].to>h){var g=function we(e,t){var i=[],o=new Date(t);return o.setDate(t.getDate()+1),t>e.from&&i.push({from:e.from,to:t}),o<e.to&&i.push({from:o,to:e.to}),i}(i[o],h);2===g.length?i.splice(o,1,g[0],g[1]):1===g.length?i.splice(o,1,g[0]):i.splice(o,1)}};for(o=0;o<i.length;o++)t.forEach(u);return i}(g,o||[]))}var b=je.Z.getNextDateUnit,S=je.Z.correctDateWithUnitBeginning,I=Math,w=I.max,G=U.Z.top,j=U.Z.bottom,te=U.Z.left,le=U.Z.right,V=U.Z.center,Le={left:-1,top:-1,right:0,bottom:0,center:-.5};function Fe(e){return e.sort(function(t,i){return t.from-i.from})}function Ne(e,t,i,o){var u=o,h=t&&je.Z.getDatesDifferences(t,e);return t&&"year"!==i&&(function Be(e,t){var i,o;if("week"===t&&(t="day"),"quarter"===t&&(t="month"),e[t])for(o=0;o<je.Z.dateUnitIntervals.length&&(e[i=je.Z.dateUnitIntervals[o]]&&(e[i]=!1,e.count--),i!==t);o++);}(h,i),u=Ce.Z.getDateFormatByDifferences(h)),u}function dt(e,t){return t.reduce(function(i,o){return w(i,e(o))},0)}function Ye(e,t,i){return e.some(function(o){return o.label.verticalAlignment===t})&&i||0}function xt(e){return I.abs(e.x)||0}function Qt(e){return I.abs(e.width-I.abs(e.x))||0}const ni={linear:{_getStep:function(e,t){var i=this._options.label.minSpacing,u=dt(this._isHorizontal?function(h){return h.width+i}:function(h){return h.height},e);return t&&(u=function it(e,t){var i=(t=(t=I.abs(t))%180>=90?90-t%90:t%90)*(I.PI/180);return i>=I.atan(e.height/e.width)?e.height/I.abs(I.sin(i)):e.width}({width:u,height:this._getMaxLabelHeight(e,0)},t)),U.Z.getTicksCountInRange(this._majorTicks,this._isHorizontal?"x":"y",u)},_getMaxLabelHeight:function(e,t){return dt(function(i){return i.height},e)+t},_validateOverlappingMode:function(e,t){return this._isHorizontal&&("rotate"===t||"stagger"===t)||!this._isHorizontal?U.Z.validateOverlappingMode(e):e},_validateDisplayMode:function(e){return this._isHorizontal?e:"standard"},getMarkerTrackers:function(){return this._markerTrackers},_getSharpParam:function(e){return this._isHorizontal^e?"h":"v"},_createAxisElement:function(){return this._renderer.path([],"line")},_updateAxisElementPosition:function(){var e=this._axisPosition,t=this._getCanvasStartEnd();this._axisElement.attr({points:this._isHorizontal?[t.start,e,t.end,e]:[e,t.start,e,t.end]})},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)},_initAxisPositions(){this.customPositionIsAvailable()&&(this._customBoundaryPosition=this.getCustomBoundaryPosition()),this._axisPosition=!this.customPositionIsAvailable()||this.customPositionIsBoundary()?this.getPredefinedPosition(this.getResolvedBoundaryPosition()):this.getCustomPosition()},_getTickMarkPoints(e,t,i){var g,o=this._isHorizontal,u=this._options.tickOrientation,h=this._options.label.position;if((0,P.$K)(u))g=Le[u]*t;else{var _=i.shift||0;(!o&&h===te||o&&h!==j)&&(_=-_),g=_+this.getTickStartPositionShift(t)}return[e.x+(o?0:g),e.y+(o?g:0),e.x+(o?0:g+t),e.y+(o?g+t:0)]},getTickStartPositionShift(e){var t=this._options.width,i=this.getResolvedBoundaryPosition();return e%2==1?(t%2!=0||i!==te&&i!==G)&&(t%2!=1||i!==le&&i!==j||this.hasNonBoundaryPosition())?-Math.floor(e/2):Math.floor(-e/2):-e/2+(t%2==0?0:i===j||i===le?-1:1)},_getTitleCoords:function(){var e=this._isHorizontal,t=this._axisPosition,i=this._axisPosition,o=this._options.title.alignment,u=this._getCanvasStartEnd(),h=e||this._options.position===te,f=o===te?h?u.start:u.end:o===le?h?u.end:u.start:u.start+(u.end-u.start)/2;return e?t=f:i=f,{x:t,y:i}},_drawTitleText:function(e,t){var i=this._options,o=i.title,u={opacity:o.opacity,align:o.alignment,class:o.cssClass};if(o.text&&e){t=t||this._getTitleCoords(),this._isHorizontal||(u.rotate=i.position===te?270:90);var h=this._renderer.text(o.text,t.x,t.y).css((0,H.FI)(o.font)).attr(u).append(e);return this._checkTitleOverflow(h),h}},_updateTitleCoords:function(){this._title&&this._title.element.attr(this._getTitleCoords())},_drawTitle:function(){var e=this._drawTitleText(this._axisTitleGroup);e&&(this._title={element:e})},_measureTitle:function(){this._title&&(this._title.bBox&&!this._title.originalSize&&(this._title.originalSize=this._title.bBox),this._title.bBox=this._title.element.getBBox())},_drawDateMarker:function(e,t,i){var g,o=this._options.marker,u=this._translator.getBusinessRange().invert,h=o.width+o.textLeftIndent;if(null!==t.x){t.withoutStick||(g=this._renderer.path([t.x,t.y,t.x,t.y+o.separatorHeight],"line").attr({"stroke-width":o.width,stroke:o.color,"stroke-opacity":o.opacity,sharp:"h"}).append(this._axisElementsGroup));var _=String(this.formatLabel(e,t.labelOptions,i));return{date:e,x:t.x,y:t.y,cropped:t.withoutStick,label:this._renderer.text(_,t.x,t.y).css((0,H.FI)(o.label.font)).append(this._axisElementsGroup),line:g,getContentContainer(){return this.label},getEnd:function(){return this.x+(u?-1:1)*(h+this.labelBBox.width)},setTitle:function(){this.title=_},hideLabel:function(){this.label.dispose(),this.label=null,this.title=_},hide:function(){g&&(g.dispose(),g=null),this.label.dispose(),this.label=null,this.hidden=!0}}}},_drawDateMarkers:function(){var g,e=this,t=e._options,i=e._translator,o=e._getViewportRange(),u=o.minVisible,h=[];function _(Z,N,ee){return e._drawDateMarker(Z,{x:i.translate(Z),y:f,labelOptions:e._getLabelFormatOptions(N),withoutStick:ee},o)}if(o.isEmpty()||!t.marker.visible||"datetime"!==t.argumentType||"discrete"===t.type||e._majorTicks.length<=1)return[];var f=e._axisPosition+t.marker.topIndent,A=je.Z.getDateUnitInterval(this._tickInterval),T=function $e(e){var t=b(e);return"quarter"===t&&(t=b(t)),t}(A),M=function Ge(e,t,i){var u,o=e;return e=S(e,i),t=S(t,i),(u=je.Z.getSequenceByInterval(e,t,i)).length&&o>u[0]&&(u=u.slice(1)),u}(u,o.maxVisible,T);return(M.length>1||1===M.length&&u<M[0])&&(h=M.reduce(function(Z,N,ee,Q){var he=_(N,Ne(N,Q[ee-1]||u<N&&u,A,T));return he&&Z.push(he),Z},[]),u<M[0]&&(g=_(u,Ne(u,M[0],A,T),!0))&&h.unshift(g)),h},_adjustDateMarkers:function(e){e=e||0;var _,t=this,i=this._options.marker,o=i.width+i.textLeftIndent,u=this._translator.getBusinessRange().invert,h=t._getCanvasStartEnd(),g=this._dateMarkers;return g.length?(g[0].cropped&&(this._checkMarkersPosition(u,g[1],g[0])||g[0].hideLabel()),g.forEach(function(f,A,T){f.cropped||((u?f.getEnd()<h.end:f.getEnd()>h.end)?f.hideLabel():t._checkMarkersPosition(u,f,_)?_=f:f.hide())}),this._dateMarkers.forEach(function(f){if(f.label){var A=f.labelBBox;f.label.attr({translateX:u?f.x-o-A.x-A.width:f.x+o-A.x,translateY:f.y+i.textTopIndent-A.y+e})}f.line&&f.line.attr({translateY:e})}),t._initializeMarkersTrackers(e),e+i.topIndent+i.separatorHeight):e},_checkMarkersPosition:function(e,t,i){return void 0===i||(e?t.x<i.getEnd():t.x>i.getEnd())},_initializeMarkersTrackers:function(e){var t=this._options.marker.separatorHeight,i=this._renderer,o=this._translator.getBusinessRange(),u=this._getCanvasStartEnd(),h=this._axisElementsGroup;this._markerTrackers=this._dateMarkers.filter(function(g){return!g.hidden}).map(function(g,_,f){var A=f[_+1]||{x:u.end,date:o.max},T=g.x,M=g.y+e,Z=i.path([T,M,T,M+t,A.x,M+t,A.x,M,T,M],"area").attr({"stroke-width":1,stroke:"grey",fill:"grey",opacity:1e-4}).append(h);return Z.data("range",{startValue:g.date,endValue:A.date}),g.title&&Z.setTitle(g.title),Z})},_getLabelFormatOptions:function(e){var t=this._markerLabelOptions;return t||(this._markerLabelOptions=t=(0,Me.l)(!0,{},this._options.marker.label)),(0,P.$K)(this._options.marker.label.format)||(t.format=e),t},_adjustConstantLineLabels:function(e){var t=this,i=t._options.position,o=t.getCanvas(),u=o.left,h=o.width-o.right,g=o.top,_=o.height-o.bottom,f=g+(_-g)/2,A=u+(h-u)/2,T=0;return e.forEach(function(M){var De,ot,N=M.options,ee=N.paddingTopBottom,Q=N.paddingLeftRight,he=N.label,me=he.verticalAlignment,ve=he.horizontalAlignment,ge="inside"===he.position,ae=M.label,ie=M.labelBBox;if(null!==ae&&!ie.isEmpty){if(t._isHorizontal)if(ge)switch(De=ve===te?M.coord-Q-ie.x-ie.width:M.coord+Q-ie.x,me){case V:ot=f-ie.y-ie.height/2;break;case j:ot=_-ee-ie.y-ie.height;break;default:ot=g+ee-ie.y}else i===me&&(T=w(T,ie.height+ee)),De=M.coord-ie.x-ie.width/2,ot=me===j?_+ee-ie.y:g-ee-ie.y-ie.height;else if(ge)switch(ot=me===j?M.coord+ee-ie.y:M.coord-ee-ie.y-ie.height,ve){case V:De=A-ie.x-ie.width/2;break;case le:De=h-Q-ie.x-ie.width;break;default:De=u+Q-ie.x}else i===ve&&(T=w(T,ie.width+Q)),ot=M.coord-ie.y-ie.height/2,De=ve===le?h+Q-ie.x:u-Q-ie.x-ie.width;ae.attr({translateX:De,translateY:ot})}}),T},_drawConstantLinesForEstimating:function(e){var t=this,i=this._renderer,o=i.g();return e.forEach(function(u){t._drawConstantLineLabelText(u.label.text,0,0,u.label,o).attr({align:"center"})}),o.append(i.root)},_estimateLabelHeight:function(e,t){var i=e.height,o=t.drawingType;if(("stagger"===this._validateDisplayMode(o)||"stagger"===this._validateOverlappingMode(t.overlappingBehavior,o))&&(i=2*i+t.staggeringSpacing),"rotate"===this._validateDisplayMode(o)||"rotate"===this._validateOverlappingMode(t.overlappingBehavior,o)){var u=(0,H.AS)(t.rotationAngle);i=i*u.cos+e.width*u.sin}return i&&(i+t.indentFromAxis||0)||0},estimateMargins:function(e){this.updateCanvas(e);var t=this._getViewportRange(),i=this._createTicksAndLabelFormat(t),o=i.ticks,u=i.tickInterval,h=this._options,g=this._outsideConstantLines.filter(ie=>ie.labelOptions.visible).map(ie=>ie.options),_=this._renderer.root,f=h.label.visible&&!t.isEmpty()&&o.length,A=f&&this.formatLabel(o[o.length-1],h.label,void 0,void 0,u,o),T=f&&this._renderer.text(A,0,0).css(this._textFontStyles).attr(this._textOptions).append(_),M=this._drawTitleText(_,{x:0,y:0}),Z=this._drawConstantLinesForEstimating(g),N=!h.label.template&&T&&T.getBBox()||{x:0,y:0,width:0,height:0},ee=M&&M.getBBox()||{x:0,y:0,width:0,height:0},Q=Z.getBBox(),he=ee.height?ee.height+h.title.margin:0,me=this._estimateLabelHeight(N,h.label),ve=Q.height?Q.height+function kt(e){return e.reduce(function(t,i){return w(t,i.paddingTopBottom)},0)}(g):0,ge=me+he,ae={left:w(xt(N),xt(Q)),right:w(Qt(N),Qt(Q)),top:("top"===h.position?ge:0)+Ye(g,"top",ve),bottom:("top"!==h.position?ge:0)+Ye(g,"bottom",ve)};return T&&T.remove(),M&&M.remove(),Z&&Z.remove(),ae},_checkAlignmentConstantLineLabels:function(e){var t=e.position,i=(e.verticalAlignment||"").toLowerCase(),o=(e.horizontalAlignment||"").toLowerCase();this._isHorizontal?"outside"===t?(i=i===j?j:G,o=V):(i=i===V?V:i===j?j:G,o=o===te?te:le):"outside"===t?(i=V,o=o===te?te:le):(i=i===j?j:G,o=o===le?le:o===V?V:te),e.verticalAlignment=i,e.horizontalAlignment=o},_getConstantLineLabelsCoords:function(e,t){var i=e,o=e;return this._isHorizontal?o=this._orthogonalPositions["top"===t.verticalAlignment?"start":"end"]:i=this._orthogonalPositions["right"===t.horizontalAlignment?"end":"start"],{x:i,y:o}},_getAdjustedStripLabelCoords:function(e){var t=e.options,i=t.paddingTopBottom,o=t.paddingLeftRight,u=t.label.horizontalAlignment,h=t.label.verticalAlignment,g=e.labelBBox,_=g.height,f=g.width,A=e.labelCoords,T=A.y-g.y,M=A.x-g.x;return h===G?T+=i:h===V?T-=_/2:h===j&&(T-=i+_),u===te?M+=o:u===V?M-=f/2:u===le&&(M-=o+f),{translateX:M,translateY:T}},_adjustTitle:function(e){if(e=e||0,this._title){var t=this._options,i=t.position,o=t.title.margin,u=this._title,h=u.bBox,g=h.x,_=h.y,f=h.width,T=this._axisPosition,M=T-o-e,Z=T+o+e,N={};this._isHorizontal?N.translateY=i===G?M-(_+h.height):Z-_:N.translateX=i===te?M-(g+f):Z-g,u.element.attr(N)}},_checkTitleOverflow:function(e){if(this._title||e){var t=this._getScreenDelta(),i=e?{bBox:e.getBBox(),element:e}:this._title,o=this._options.title,u=i.bBox;(this._isHorizontal?u.width:u.height)>t?(i.element.setMaxSize(t,void 0,{wordWrap:o.wordWrap||"none",textOverflow:o.textOverflow||"ellipsis"}),this._wrapped=o.wordWrap&&"none"!==o.wordWrap):!this._wrapped&&i.originalSize&&t>(this._isHorizontal?i.originalSize.width:i.originalSize.height)&&i.element.restoreText()}},coordsIn:function(e,t){var i=this.getCanvas(),o=this._options.isHorizontal,u=this._options.position,h=o?t:e;return!(o&&(e<i.left||e>i.width-i.right)||!o&&(t<i.top||t>i.height-i.bottom))&&(o&&u===U.Z.top||!o&&u===U.Z.left?h<i[u]:h>i[o?"height":"width"]-i[u])},_boundaryTicksVisibility:{min:!0,max:!0},adjust(){var e=this._seriesData,t=this._series.filter(i=>i.isVisible()).reduce((i,o)=>{var u=o.getViewport();return i.min=(0,P.$K)(u.min)?i.min<u.min?i.min:u.min:i.min,i.max=(0,P.$K)(u.max)?i.max>u.max?i.max:u.max:i.max,o.showZero&&(i=new _e.e(i)).correctValueZeroLevel(),i},{});(0,P.$K)(t.min)&&(0,P.$K)(t.max)&&(e.minVisible=t.min,e.maxVisible=t.max),e.userBreaks=this._getScaleBreaks(this._options,{minVisible:e.minVisible,maxVisible:e.maxVisible},this._series,this.isArgumentAxis),this._translator.updateBusinessRange(this._getViewportRange())},hasWrap(){return this._wrapped},getAxisPosition(){return this._axisPosition},_getStick:function(){return!this._options.valueMarginsEnabled},_getStripLabelCoords:function(e,t,i){var _,f,o=this._orthogonalPositions,h=i.horizontalAlignment,g=i.verticalAlignment;return this._isHorizontal?(h===V?_=e+(t-e)/2:h===te?_=e:h===le&&(_=t),f=o[function ft(e){var t="start";return"center"===e&&(t="center"),"bottom"===e&&(t="end"),t}(g)]):(_=o[function Ke(e){var t="start";return"center"===e&&(t="center"),"right"===e&&(t="end"),t}(h)],g===G?f=e:g===V?f=t+(e-t)/2:g===j&&(f=t)),{x:_,y:f}},_getTranslatedValue:function(e,t){var i=this._translator.translate(e,t,"semidiscrete"===this._options.type&&this._options.tickInterval),o=this._axisPosition,u=this._isHorizontal;return{x:u?i:o,y:u?o:i}},areCoordsOutsideAxis:function(e){var t=this._isHorizontal?e.x:e.y,i=this.getVisibleArea();return t<i[0]||t>i[1]},_getSkippedCategory:function(e){var t;return this._options.type===U.Z.discrete&&this._tickOffset&&0!==e.length&&(t=e[e.length-1]),t},_filterBreaks:function(e,t,i){var o=t.minVisible,u=t.maxVisible,h=i?i.width:0;return e.reduce(function(g,_){var M,f=_.from,A=_.to,T=g[g.length-1];if(!(0,P.$K)(f)||!(0,P.$K)(A))return g;if(f>A&&(A=[f,f=A][0]),g.length&&f<T.to)A>T.to&&(T.to=A>u?u:A,T.gapSize&&(T.gapSize=void 0,T.cumulativeWidth+=h));else if((f>=o&&f<u||A<=u&&A>o)&&(A=A<=u?A:u)-(f=f>=o?f:o)<u-o){var Z,N;M={from:f,to:A,cumulativeWidth:(null!==(Z=T?.cumulativeWidth)&&void 0!==Z?Z:0)+h},_.gapSize&&(M.gapSize=je.Z.convertMillisecondsToDateUnits(A-f),M.cumulativeWidth=null!==(N=T?.cumulativeWidth)&&void 0!==N?N:0),g.push(M)}return g},[])},_getScaleBreaks:function(e,t,i,o){var u=this,h=(e.breaks||[]).map(function(g){return{from:u.parser(g.startValue),to:u.parser(g.endValue)}});return"discrete"!==e.type&&"datetime"===e.dataType&&e.workdaysOnly&&(h=h.concat(p(t.minVisible,t.maxVisible,e.workWeek,e.singleWorkdays,e.holidays))),!o&&"discrete"!==e.type&&"datetime"!==e.dataType&&e.autoBreaksEnabled&&0!==e.maxAutoBreakCount&&(h=h.concat(function bi(e,t,i){for(var{logarithmBase:o,type:u,maxAutoBreakCount:h}=e,{minVisible:g,maxVisible:_}=i,f=[],A="logarithmic"===u?(ge,ae)=>(0,H.Bd)(ae/ge,o):(ge,ae)=>ae-ge,T=A(g,_),M=t.reduce((ge,ae)=>{var ie=ae.getPointsInViewPort();return ge[0]=ge[0].concat(ie[0]),ge[1]=ge[1].concat(ie[1]),ge},[[],[]]),ee=.3*T,Q=function qt(e,t,i){var o,u,_,f,A,h=null,g=[];for(o=1,u=e.length;o<u;o++)A=i(_=e[o],f=e[o-1]),t.indexOf(_)>=0?(!h||A>h.length)&&(h={start:_,end:f,length:A}):(g.push(h&&A<h.length?h:{start:_,end:f,length:A}),h=null);return h&&g.push(h),g}(M[0].concat(M[1]).sort((ge,ae)=>ae-ge),M[1].filter(ge=>M[0].indexOf(ge)<0),A).sort((ge,ae)=>ae.length-ge.length),he=I.min.apply(null,Q.map(ge=>ge.length))/1e3,me=(0,P.$K)(h)?I.min(h,Q.length):Q.length,ve=0;ve<me&&Q[ve].length>=ee&&!(T<=Q[ve].length);ve++)((T-=Q[ve].length)>he||T<-he)&&(f.push({from:Q[ve].start,to:Q[ve].end}),ee=.3*T);return Fe(f),f}(e,i,t))),Fe(h)},_drawBreak:function(e,t,i,o,u,h){var g=e-(this._translator.isInverted()?0:o+1),_={"stroke-width":1,stroke:u.borderColor,sharp:u.isWaved?void 0:u.isHorizontal?"h":"v"},f={stroke:u.color,"stroke-width":o},T=function hi(e,t,i,o,u,h,g){var _=g?"bezier":"line",f=e.g().append(t);return function(A,T){e.path(i(function Ci(e,t,i,o,u){if(!u)return[e,t+o,i,t+o];var h,g=(t+=o)+0,_=t+2,f=t+4,A=[[e,_]];for(h=e;h<i+24;h+=24)A.push([h+6,g,h+6,g,h+12,_,h+18,f,h+18,f,h+24,_]);return[].concat.apply([],A)}(o,u,h,A,g)),_).attr(T).append(f)}}(this._renderer,h,this._isHorizontal?vi:function(M){return M},t,g,i,u.isWaved);T(o/2,f),T(0,_),T(o,_)},_createBreakClipRect:function(e,t){var u,i=this._canvas,o=t-e;return u=this._isHorizontal?this._renderer.clipRect(i.left,e,i.width,o):this._renderer.clipRect(e,i.top,o,i.height),this._breaksElements=this._breaksElements||[],this._breaksElements.push(u),u.id},_createBreaksGroup:function(e,t){var i=this._renderer.g().attr({class:this._axisCssPrefix+"breaks","clip-path":this._createBreakClipRect(e,t)}).append(this._scaleBreaksGroup);return this._breaksElements=this._breaksElements||[],this._breaksElements.push(i),i},_disposeBreaksGroup:function(){(this._breaksElements||[]).forEach(function(e){e.dispose()}),this._breaksElements=null},drawScaleBreaks:function(e){var h,g,f,A,T,t=this,i=t._options,o=i.breakStyle,u=i.position,_=t._translator.getBusinessRange().breaks||[];if(t._disposeBreaksGroup(),_&&_.length){var M={color:t._options.containerColor,borderColor:o.color,isHorizontal:t._isHorizontal,isWaved:"straight"!==o.line.toLowerCase()};e?(h=e.start,g=e.end):(h=t._orthogonalPositions.start-(!i.visible||t._axisShift||u!==te&&u!==G?0:3),g=t._orthogonalPositions.end+(!i.visible||u!==le&&u!==j?0:3));var Z=t._createBreaksGroup(h,g);t._axisShift&&i.visible&&(f=t._createBreaksGroup(A=t._axisPosition-t._axisShift-3,T=A+6)),_.forEach(function(N){if(!N.gapSize){var ee=t._getTranslatedCoord(N.to);t._drawBreak(ee,h,g,o.width,M,Z),t._axisShift&&i.visible&&t._drawBreak(ee,A,T,o.width,M,f)}})}},_getSpiderCategoryOption:pe.ZT,shift:function(e){var t=this._options,i=t.isHorizontal,o=this.getMultipleAxesSpacing(),u=this._axisConstantLineGroups;function h(g,_){var f={translateX:0,translateY:0},A=e[g]?e[g]+o:0;return f[i?"translateY":"translateX"]=(g===te||g===G?-1:1)*A,(_[g]||_).attr(f),A}this._axisShift=h(t.position,this._axisGroup),h(t.position,this._axisElementsGroup),(i?[G,j]:[te,le]).forEach(g=>{h(g,u.above),h(g,u.under)})},getCustomPosition(e){var _,t=this.getOrthogonalAxis(),i=e??this.getResolvedPositionOption(),o=this.getOptions().offset,u=t.getTranslator(),h=t.getOptions().type,g=t.validateUnit(i);return"discrete"===h&&(!u._categories||u._categories.indexOf(g)<0)&&(g=void 0),_=this.positionIsBoundary(i)?this.getPredefinedPosition(i):(0,P.$K)(g)?u.to(g,-1):this.getPredefinedPosition(this.getOptions().position),isFinite(_)&&isFinite(o)&&(_+=o),_},getCustomBoundaryPosition(e){var{customPosition:t,offset:i}=this.getOptions(),o=e??this.getResolvedPositionOption(),u=this.getOrthogonalAxis(),h=u.getTranslator(),g=h.getCanvasVisibleArea();if((0,P.$K)(u._orthogonalPositions)&&0!==h.canvasLength){var _=this.getCustomPosition(o);if(!(0,P.$K)(_))return this.getResolvedBoundaryPosition();if((0,P.$K)(t)){if(_<=g.min)return this._isHorizontal?G:te;if(_>=g.max)return this._isHorizontal?j:le}else if((0,P.$K)(i)){if(_<=this._orthogonalPositions.start)return this._isHorizontal?G:te;if(_>=this._orthogonalPositions.end)return this._isHorizontal?j:le}return _}},getResolvedPositionOption(){var e,t=this.getOptions();return null!==(e=t.customPosition)&&void 0!==e?e:t.position},customPositionIsAvailable(){var e=this.getOptions();return(0,P.$K)(this.getOrthogonalAxis())&&((0,P.$K)(e.customPosition)||isFinite(e.offset))},hasNonBoundaryPosition(){return this.customPositionIsAvailable()&&!this.customPositionIsBoundary()},getResolvedBoundaryPosition(){return this.customPositionIsBoundary()?this._customBoundaryPosition:this.getOptions().position},customPositionEqualsToPredefined(){return this.customPositionIsBoundary()&&this._customBoundaryPosition===this.getOptions().position},customPositionIsBoundary(){return this.positionIsBoundary(this._customBoundaryPosition)},positionIsBoundary:e=>[G,te,j,le].indexOf(e)>=0,getPredefinedPosition(e){var t;return null===(t=this._orthogonalPositions)||void 0===t?void 0:t[e===G||e===te?"start":"end"]},resolveOverlappingForCustomPositioning(e){var t=this;if(t.hasNonBoundaryPosition()||t.customPositionIsBoundary()||e.some(o=>o.hasNonBoundaryPosition())){var i={axes:[],ticks:[]};e.filter(o=>o.pane===t.pane).forEach(o=>{for(var u=0;u<t._majorTicks.length;u++){var h=t._majorTicks[u],g=h.label;if(g){i.axes.indexOf(o)<0&&t._detectElementsOverlapping(g,o._axisElement)&&(i.axes.push(o),t._shiftThroughOrthogonalAxisOverlappedTick(g,o));for(var _=0;_<o._majorTicks.length;_++){var A=o._majorTicks[_].label;if(A&&t._detectElementsOverlapping(g,A)){i.ticks.push(h),t._shiftThroughAxisOverlappedTick(h),u=t._majorTicks.length;break}}}h.mark&&i.ticks.indexOf(h)<0&&(t._isHorizontal&&h.mark.attr("translateY")?h.mark.attr({translateY:0}):!t._isHorizontal&&h.mark.attr("translateX")&&h.mark.attr({translateX:0}))}})}},_shiftThroughOrthogonalAxisOverlappedTick(e,t){var i=e.getBBox(),o=t.getAxisPosition(),u=t.getOptions().label,h=u.position,g=u.indentFromAxis/2,_=this._isHorizontal?"translateX":"translateY",f=this._isHorizontal?te:G,A=e.attr(_),T=(this._isHorizontal?i.x:i.y)+A,Z=o-T,N=T+(this._isHorizontal?i.width:i.height)-o,ee={};ee[_]=A,Z>0&&N>0&&(N-Z>1?ee[_]+=Z+g:Z-N>1?ee[_]-=N+g:ee[_]+=h===f?Z+g:-(N+g),e.attr(ee))},_shiftThroughAxisOverlappedTick(e){var t,i=e.label;if(i){var o=i.getBBox(),u=null===(t=e.mark)||void 0===t?void 0:t.getBBox(),h=this.getAxisPosition(),g=this.getOptions().label,_=g.indentFromAxis,f=g.position,A=this._isHorizontal?G:te,T=this._isHorizontal?"translateY":"translateX",M=i.attr(T),Z=(this._isHorizontal?o.y:o.x)+M,ee={};ee[T]=M+(f===A?h-Z+_:-(Z-h+(this._isHorizontal?o.height:o.width)+_)),i.attr(ee),e.mark&&(ee[T]=(f===A?1:-1)*((this._isHorizontal?u.height:u.width)-1),e.mark.attr(ee))}},_detectElementsOverlapping(e,t){if(!e||!t)return!1;var i=e.getBBox(),o=i.x+e.attr("translateX"),u=i.y+e.attr("translateY"),h=t.getBBox(),g=h.x+t.attr("translateX"),_=h.y+t.attr("translateY");return(g>=o&&g<=o+i.width||o>=g&&o<=g+h.width)&&(_>=u&&_<=u+i.height||u>=_&&u<=_+h.height)}}};function vi(e){var i,t=[];for(i=0;i<e.length;i+=2)t.push(e[i+1]),t.push(e[i]);return t}var k=Math.max,L=function(e,t){var i=t.left,o=t.top,u=t.width-t.right,h=t.height-t.bottom;return e.reduce(function(g,_){return!_||_.isEmpty?g:{left:k(g.left,i-_.x),top:k(g.top,o-_.y),right:k(g.right,_.x+_.width-u),bottom:k(g.bottom,_.y+_.height-h)}},{left:0,right:0,top:0,bottom:0})},z=function(e){e.forEach(function(t){var i=t.getContentContainer();t.labelBBox=i?i.getBBox():{x:0,y:0,width:0,height:0}})},{PI:B,abs:D,atan:Y,round:q}=Math,Pe=Math.min,fe=Math.max,ke=ni.linear;function Qe(e){var t;return(e=(0,H.LW)(e))>=315&&e<=360||e<45&&e>=0?t=1:e>=45&&e<135?t=2:e>=135&&e<225?t=3:e>=225&&e<315&&(t=4),t}var Ie={_calculateValueMargins(e){var{minVisible:t,maxVisible:i}=this._getViewportRange();return e&&e.length>1&&(i=(t=t<e[0].value?t:e[0].value)>e[e.length-1].value?i:e[e.length-1].value),{minValue:t,maxValue:i}},applyMargins(){var e=this._calculateValueMargins(this._majorTicks),t=this._translator.getBusinessRange();t.addRange({minVisible:e.minValue,maxVisible:e.maxValue,interval:this._calculateRangeInterval(t.interval)}),this._translator.updateBusinessRange(t)},_getTranslatorOptions:function(){return{isHorizontal:!0,conversionValue:!0,addSpiderCategory:this._getSpiderCategoryOption(),stick:this._getStick()}},getCenter:function(){return this._center},getRadius:function(){return this._radius},getAngles:function(){var e=this._options;return[e.startAngle,e.endAngle]},_updateRadius(e){var t=Pe(e.width-e.left-e.right,e.height-e.top-e.bottom)/2;this._radius=t<0?0:t},_updateCenter:function(e){this._center={x:e.left+(e.width-e.right-e.left)/2,y:e.top+(e.height-e.top-e.bottom)/2}},_processCanvas:function(e){return this._updateRadius(e),this._updateCenter(e),{left:0,right:0,width:this._getScreenDelta()}},_createAxisElement:function(){return this._renderer.circle()},_updateAxisElementPosition:function(){var e=this.getCenter();this._axisElement.attr({cx:e.x,cy:e.y,r:this.getRadius()})},_boundaryTicksVisibility:{min:!0},_getSpiderCategoryOption:function(){return this._options.firstPointOnStartAngle},_validateOptions(e){var t=e.originValue,i=e.wholeRange={},o=e.period;(0,P.$K)(t)&&(t=this.validateUnit(t)),o>0&&e.argumentType===U.Z.numeric&&(i.endValue=(t=t||0)+o,this._viewport=(0,H.MG)([t,i.endValue])),(0,P.$K)(t)&&(i.startValue=t)},getMargins(){var e=this._options.tick,t=fe(e.visible?e.length/2+e.shift:0,0),i=this.getRadius(),{x:o,y:u}=this._center,h=this._majorTicks.map(f=>f.label&&f.label.getBBox()).filter(f=>f),g=(0,Me.l)({},this._canvas,{left:o-i,top:u-i,right:this._canvas.width-(o+i),bottom:this._canvas.height-(u+i)}),_=L(h,g);return Object.keys(_).forEach(f=>_[f]=_[f]<t?t:_[f]),_},_updateLabelsPosition(){z(this._majorTicks),this._adjustLabelsCoord(0,0,!0),this._checkBoundedLabelsOverlapping(this._majorTicks,this._majorTicks.map(e=>e.labelBBox))},_setVisualRange:pe.ZT,applyVisualRangeSetter:pe.ZT,_getStick:function(){return this._options.firstPointOnStartAngle||this._options.type!==U.Z.discrete},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)-90},_getCanvasStartEnd:function(){return{start:-90,end:270}},_getStripGraphicAttributes:function(e,t){var i=this.getCenter(),o=this.getAngles()[0],u=this.getRadius();return{x:i.x,y:i.y,innerRadius:0,outerRadius:u,startAngle:-t-o,endAngle:-e-o}},_createStrip:function(e){return this._renderer.arc(e.x,e.y,e.innerRadius,e.outerRadius,e.startAngle,e.endAngle)},_getStripLabelCoords:function(e,t){var i=this._getStripGraphicAttributes(e,t),u=(0,H.AS)(i.startAngle+(i.endAngle-i.startAngle)/2),h=this.getRadius()/2,g=this.getCenter();return{x:q(g.x+h*u.cos),y:q(g.y-h*u.sin),align:U.Z.center}},_getConstantLineGraphicAttributes:function(e){var t=this.getCenter(),i=this.getRadius();return{points:[t.x,t.y,t.x+i,t.y]}},_createConstantLine:function(e,t){return this._createPathElement(this._getConstantLineGraphicAttributes(e).points,t)},_rotateConstantLine(e,t){var{x:i,y:o}=this.getCenter();e.rotate(t+this.getAngles()[0],i,o)},_getConstantLineLabelsCoords:function(e){var t=(0,H.AS)(-e-this.getAngles()[0]),i=this.getRadius()/2,o=this.getCenter();return{x:q(o.x+i*t.cos),y:q(o.y-i*t.sin)}},_checkAlignmentConstantLineLabels:pe.ZT,_adjustDivisionFactor:function(e){return 180*e/(this.getRadius()*B)},_getScreenDelta:function(){var e=this.getAngles();return D(e[0]-e[1])},_getTickMarkPoints:function(e,t,i){var{shift:o=0}=i,u=this.getCenter(),h=this.getRadius()+t*{inside:-1,center:-.5,outside:0}[this._options.tickOrientation||"center"];return[u.x+h+o,u.y,u.x+h+t+o,u.y]},_getLabelAdjustedCoord:function(e,t,i,o){var u=e.labelCoords,h=u.y,g=u.angle,_=(0,H.AS)(g),f=_.cos,A=_.sin,T=e.labelBBox,M=T.width/2,Z=T.height/2,N=this._options.label.indentFromAxis||0,ee=u.x+N*f,Q=h+(h-T.y-Z)+N*A,he=0,me=0;switch(Qe(g)){case 1:he=M,me=Z*A;break;case 2:he=M*f,me=Z;break;case 3:he=-M,me=Z*A;break;case 4:he=M*f,me=-Z}if(o){var ve=this._canvas,ge=ee-u.x+he,ae=Q-u.y+me;T.x+ge<ve.originalLeft&&(he-=T.x+ge-ve.originalLeft),T.x+T.width+ge>ve.width-ve.originalRight&&(he-=T.x+T.width+ge-(ve.width-ve.originalRight)),T.y+ae<ve.originalTop&&(me-=T.y+ae-ve.originalTop),T.y+T.height+ae>ve.height-ve.originalBottom&&(me-=T.y+T.height+ae-(ve.height-ve.originalBottom))}return{x:ee+he,y:Q+me}},_getGridLineDrawer:function(){var e=this;return function(t,i){var o=e.getCenter();return e._createPathElement(e._getGridPoints().points,i).rotate(t.coords.angle,o.x,o.y)}},_getGridPoints:function(){var e=this.getRadius(),t=this.getCenter();return{points:[t.x,t.y,t.x+e,t.y]}},_getTranslatedValue:function(e,t){var i=this.getAngles()[0],o=this._translator.translate(e,-t),u=(0,H.N9)(this.getCenter(),i,o,this.getRadius());return{x:u.x,y:u.y,angle:this.getTranslatedAngle(o)}},_getAdjustedStripLabelCoords:function(e){var t=e.labelBBox;return{translateY:e.label.attr("y")-t.y-t.height/2}},coordsIn:function(e,t){return(0,H.Fs)(this.getCenter(),e,t).r>this.getRadius()},_rotateTick:function(e,t){var i=this.getCenter();e.rotate(t.angle,i.x,i.y)},_validateOverlappingMode:function(e){return U.Z.validateOverlappingMode(e)},_validateDisplayMode:function(){return"standard"},_getStep:function(e){var t=this.getRadius()+(this._options.label.indentFromAxis||0),i=e.reduce(function(h,g){var _=h;return h.width<g.width&&(_.width=g.width),h.height<g.height&&(_.height=g.height),_},{width:0,height:0}),o=D(2*Y(i.height/(2*t-i.width))*180/B),u=D(2*Y(i.width/(2*t-i.height))*180/B);return U.Z.getTicksCountInRange(this._majorTicks,"angle",fe(o,u))},_checkBoundedLabelsOverlapping:function(e,t,i){var o=this._options.label;if("hide"===(i=i||this._validateOverlappingMode(o.overlappingBehavior))){var u=e.reduce((h,g,_)=>g.label?_:h,null);!u||U.Z.areLabelsOverlap(t[0],t[u],o.minSpacing,U.Z.center)&&("first"===o.hideFirstOrLast?e[0].removeLabel():e[u].removeLabel())}},shift:function(e){this._axisGroup.attr({translateX:e.right,translateY:e.bottom}),this._axisElementsGroup.attr({translateX:e.right,translateY:e.bottom})},getTranslatedAngle(e){return e+this.getAngles()[0]-90}},bt=Ie,zt=(0,Me.l)({},Ie,{_createAxisElement:function(){return this._renderer.path([],"area")},_updateAxisElementPosition:function(){this._axisElement.attr({points:(0,H.UI)(this.getSpiderTicks(),function(e){return{x:e.coords.x,y:e.coords.y}})})},_getStick:function(){return!0},_getSpiderCategoryOption:function(){return!0},getSpiderTicks:function(){var e=this.getFullTicks();return this._spiderTicks=e.map(We(this,this.renderer,{},{},this._getSkippedCategory(e),!0)),this._spiderTicks.forEach(function(t){t.initCoords()}),this._spiderTicks},_getStripGraphicAttributes:function(e,t){for(var u,h,g,_,i=this.getCenter(),o=this.getSpiderTicks(),f=[],A=0,T=o.length;A<T;)(_=o[A].coords).angle>=e&&_.angle<=t&&(u||f.push((_.x+(u=(o[A-1]||o[o.length-1]).coords).x)/2,(_.y+u.y)/2),f.push(_.x,_.y),h={x:(_.x+(g=(o[A+1]||o[0]).coords).x)/2,y:(_.y+g.y)/2}),A++;return f.push(h.x,h.y),f.push(i.x,i.y),{points:f}},_createStrip:function(e){var{points:t}=e;return this._renderer.path(t,"area")},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)-90},_setTickOffset:function(){this._tickOffset=!1}}),nt={_resetMargins(){this._reinitTranslator(this._getViewportRange())},_getStick:ke._getStick,_getSpiderCategoryOption:pe.ZT,_getTranslatorOptions:function(){return{isHorizontal:!0,stick:this._getStick()}},getRadius:Ie.getRadius,getCenter:Ie.getCenter,getAngles:Ie.getAngles,_updateRadius:Ie._updateRadius,_updateCenter:Ie._updateCenter,_processCanvas(e){return this._updateRadius(e),this._updateCenter(e),{left:0,right:0,startPadding:e.startPadding,endPadding:e.endPadding,width:this.getRadius()}},_createAxisElement:ke._createAxisElement,_updateAxisElementPosition:function(){var e=this.getCenter();this._axisElement.attr({points:[e.x,e.y,e.x+this.getRadius(),e.y]}).rotate(this.getAngles()[0]-90,e.x,e.y)},_getScreenDelta:function(){return this.getRadius()},_getTickMarkPoints:function(e,t){return[e.x-t/2,e.y,e.x+t/2,e.y]},_getLabelAdjustedCoord:function(e){var t=e.labelCoords,i=t.y,o=(0,H.AS)(t.angle),u=this._options.label.indentFromAxis||0,h=e.labelBBox;return{x:t.x-D(u*o.sin)+D(h.width/2*o.cos)-h.width/2,y:i+(i-h.y)-D(h.height/2*o.sin)+D(u*o.cos)}},_getGridLineDrawer:function(){var e=this;return function(t,i){var o=e._getGridPoints(t.coords);return e._renderer.circle(o.cx,o.cy,o.r).attr(i).sharp()}},_getGridPoints:function(e){var t=this.getCenter(),i=(0,H.Sp)(t.x,t.y,e.x,e.y);return i>this.getRadius()?{cx:null,cy:null,r:null}:{cx:t.x,cy:t.y,r:i}},_getTranslatedValue:function(e,t){var i=this.getAngles()[0],o=(0,H.N9)(this.getCenter(),i,0,this._translator.translate(e,t));return{x:o.x,y:o.y,angle:i-90}},_getTranslatedCoord:function(e,t){return this._translator.translate(e,t)},_getCanvasStartEnd(){var e=this.getTranslator().getBusinessRange().invert,t=[0,this.getRadius()];return e&&t.reverse(),{start:t[0],end:t[1]}},_getStripGraphicAttributes:function(e,t){var i=this.getCenter();return{x:i.x,y:i.y,innerRadius:e,outerRadius:t}},_createStrip:function(e){return this._renderer.arc(e.x,e.y,e.innerRadius,e.outerRadius,0,360)},_getAdjustedStripLabelCoords:Ie._getAdjustedStripLabelCoords,_getStripLabelCoords:function(e,t){var i=e+(t-e)/2,o=this.getCenter(),u=q(o.y-i);return{x:o.x,y:u,align:U.Z.center}},_getConstantLineGraphicAttributes:function(e){var t=this.getCenter();return{cx:t.x,cy:t.y,r:e}},_createConstantLine:function(e,t){var i=this._getConstantLineGraphicAttributes(e);return this._renderer.circle(i.cx,i.cy,i.r).attr(t).sharp()},_getConstantLineLabelsCoords:function(e){var t=this.getCenter(),i=q(t.y-e);return{x:t.x,y:i}},_checkAlignmentConstantLineLabels:pe.ZT,_rotateTick:function(e,t,i){!i&&e.rotate(t.angle+90,t.x,t.y)},_validateOverlappingMode:Ie._validateOverlappingMode,_validateDisplayMode:Ie._validateDisplayMode,_getStep:function(e){var t=Qe(this.getAngles()[0]),i=this._options.label.minSpacing,o=2===t||4===t?function(h){return h.width+i}:function(h){return h.height},u=e.reduce((h,g)=>fe(h,o(g)),0);return U.Z.getTicksCountInRange(this._majorTicks,2===t||4===t?"x":"y",u)}},st=(0,Me.l)({},nt,{_createPathElement:function(e,t){return this._renderer.path(e,"area").attr(t).sharp()},setSpiderTicks:function(e){this._spiderTicks=e},_getGridLineDrawer:function(){var e=this;return function(t,i){return e._createPathElement(e._getGridPoints(t.coords).points,i)}},_getGridPoints:function(e){var t=this.getCenter(),i=(0,H.Sp)(t.x,t.y,e.x,e.y);return this._getGridPointsByRadius(i)},_getGridPointsByRadius:function(e){var t=this.getCenter();return e>this.getRadius()?{points:null}:{points:(0,H.UI)(this._spiderTicks,function(i){var o=(0,H.AS)(i.coords.angle);return{x:q(t.x+e*o.cos),y:q(t.y+e*o.sin)}})}},_getStripGraphicAttributes:function(e,t){var i=this._getGridPointsByRadius(t).points;return{points:[this._getGridPointsByRadius(e).points,i.reverse()]}},_createStrip:zt._createStrip,_getConstantLineGraphicAttributes:function(e){return this._getGridPointsByRadius(e)},_createConstantLine:function(e,t){return this._createPathElement(this._getConstantLineGraphicAttributes(e).points,t)}}),Ct=U.Z.convertTicksToValues,Ot=Math,Ve=Ot.abs,gt=Ot.max,Pt=Ot.min,Jt=Array.isArray,Dt=U.Z.top,at=U.Z.bottom,lt=U.Z.left,_t=U.Z.right,Ut=U.Z.center,wt="keep",di="shift",Xt="reset",ei="rotate";function Gi(e,t,i,o,u,h){var g,{allowNegatives:_,linearThreshold:f}=h;return(0,Oe.T)({axisType:e.type,dataType:e.dataType,logBase:e.logarithmBase,allowNegatives:_,linearThreshold:f,axisDivisionFactor:u(e.axisDivisionFactor||50),minorAxisDivisionFactor:u(e.minorAxisDivisionFactor||15),numberMultipliers:e.numberMultipliers,calculateMinors:e.minorTick.visible||e.minorGrid.visible||e.calculateMinors,allowDecimals:e.allowDecimals,endOnTick:e.endOnTick,incidentOccurred:t,firstDayOfWeek:null===(g=e.workWeek)||void 0===g?void 0:g[0],skipTickGeneration:i,skipCalculationLimits:e.skipCalculationLimits,generateExtraTick:e.generateExtraTick,minTickInterval:e.minTickInterval,rangeIsEmpty:o})}function Ii(e,t,i){var o=e.getOptions();return We(e,t,o.tick,o.grid,i,!1)}function Zi(e,t){var i=e.getOptions();return We(e,t,i.minorTick,i.minorGrid)}function Hi(e,t,i){var o=e.getOptions();return We(e,t,(0,Me.l)({},o.tick,{visible:o.showCustomBoundaryTicks}),o.grid,void 0,!1,i?-1:1)}function ut(e,t,i,o){(e||[]).forEach(u=>u[t](i,o))}function si(e){ut(e,"initCoords")}function Ai(e,t){ut(e,"drawMark",t)}function Bi(e,t){ut(e,"drawGrid",t)}function yi(e,t,i){ut(e,"updateTickPosition",t,i)}function ji(e,t){ut(e,"updateGridPosition",t)}function Mi(e){for(var t=e.length-1;t>=0&&Fi(e,t);t--);for(t=0;t<e.length&&Fi(e,t);t++)t--}function Fi(e,t){return(null===e[t].coords.x||null===e[t].coords.y)&&(e.splice(t,1),!0)}function Ki(e,t){return 180*Ot.asin((e[0].height+t.minSpacing)/(e[1].x-e[0].x))/Ot.PI<45?-45:-90}function Ti(e,t,i){e.forEach(function(o,u){o.getContentContainer()&&(u%t!=0?o.removeLabel():i&&i(o,u))})}function ci(e,t){return void 0===e?t:null===e?void 0:e}var Oi=function(e){this._renderer=e.renderer,this._incidentOccurred=e.incidentOccurred,this._eventTrigger=e.eventTrigger,this._stripsGroup=e.stripsGroup,this._stripLabelAxesGroup=e.stripLabelAxesGroup,this._labelsAxesGroup=e.labelsAxesGroup,this._constantLinesGroup=e.constantLinesGroup,this._scaleBreaksGroup=e.scaleBreaksGroup,this._axesContainerGroup=e.axesContainerGroup,this._gridContainerGroup=e.gridGroup,this._axisCssPrefix=e.widgetClass+"-"+(e.axisClass?e.axisClass+"-":""),this._setType(e.axisType,e.drawingType),this._createAxisGroups(),this._translator=this._createTranslator(),this.isArgumentAxis=e.isArgumentAxis,this._viewport={},this._prevDataInfo={},this._firstDrawing=!0,this._initRange={},this._getTemplate=e.getTemplate};Oi.prototype={constructor:Oi,_drawAxis(){var e=this._options;!e.visible||(this._axisElement=this._createAxisElement(),this._updateAxisElementPosition(),this._axisElement.attr({"stroke-width":e.width,stroke:e.color,"stroke-opacity":e.opacity}).sharp(this._getSharpParam(!0),this.getAxisSharpDirection()).append(this._axisLineGroup))},_createPathElement(e,t,i){return this.sharp(this._renderer.path(e,"line").attr(t),i)},sharp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.sharp(this._getSharpParam(),t)},customPositionIsAvailable:()=>!1,getOrthogonalAxis:pe.ZT,getCustomPosition:pe.ZT,getCustomBoundaryPosition:pe.ZT,resolveOverlappingForCustomPositioning:pe.ZT,hasNonBoundaryPosition:()=>!1,customPositionIsBoundaryOrthogonalAxis:()=>!1,getResolvedBoundaryPosition(){return this.getOptions().position},getAxisSharpDirection(){var e=this.getResolvedBoundaryPosition();return this.hasNonBoundaryPosition()||e!==at&&e!==_t?1:-1},getSharpDirectionByCoords(e){var t=this._getCanvasStartEnd(),i=Math.max(t.start,t.end);return this.getRadius?0:i!==e[this._isHorizontal?"x":"y"]?1:-1},_getGridLineDrawer:function(){var e=this;return function(t,i){var o=e._getGridPoints(t.coords);return o.points?e._createPathElement(o.points,i,e.getSharpDirectionByCoords(t.coords)):null}},_getGridPoints:function(e){var t=this._isHorizontal,i=t?"x":"y",o=this._orthogonalPositions,u=o.start,h=o.end,g=this.borderOptions,_=t?lt:Dt,f=t?_t:at,A=this.getCanvas(),T={left:A.left,right:A.width-A.right,top:A.top,bottom:A.height-A.bottom},N=4+(g.visible&&g[_]?T[_]:void 0),ee=(g.visible&&g[f]?T[f]:void 0)-4;return this.areCoordsOutsideAxis(e)||void 0===e[i]||e[i]<N||e[i]>ee?{points:null}:{points:t?null!==e[i]?[e[i],u,e[i],h]:null:null!==e[i]?[u,e[i],h,e[i]]:null}},_getConstantLinePos:function(e,t,i){var o=this._getTranslatedCoord(e);if(!(!(0,P.$K)(o)||o<Pt(t,i)||o>gt(t,i)))return o},_getConstantLineGraphicAttributes:function(e){var t=this._orthogonalPositions.start,i=this._orthogonalPositions.end;return{points:this._isHorizontal?[e,t,e,i]:[t,e,i,e]}},_createConstantLine:function(e,t){return this._createPathElement(this._getConstantLineGraphicAttributes(e).points,t,function $i(e,t){return Math.max(t.start,t.end)!==e?1:-1}(e,this._getCanvasStartEnd()))},_drawConstantLineLabelText:function(e,t,i,o,u){var{font:h,cssClass:g}=o;return this._renderer.text(e,t,i).css((0,H.FI)((0,Me.l)({},this._options.label.font,h))).attr({align:"center",class:g}).append(u)},_drawConstantLineLabels:function(e,t,i,o){var u,h=t.text,_=this._options.label;this._checkAlignmentConstantLineLabels(t),h=null!==(u=h)&&void 0!==u?u:this.formatLabel(e,_);var f=this._getConstantLineLabelsCoords(i,t);return this._drawConstantLineLabelText(h,f.x,f.y,t,o)},_getStripPos:function(e,t,i,o,u){var _,f,A,T,M,h=!(!u.minVisible&&!u.maxVisible),g=(u.categories||[]).reduce(function(ve,ge){return ve.push(ge.valueOf()),ve},[]);if(!h&&(0,P.$K)(e)&&(0,P.$K)(t)){var Z,N,ee=this.parser(e),Q=this.parser(t);if(T=g.indexOf(null!==(Z=ee?.valueOf())&&void 0!==Z?Z:void 0),M=g.indexOf(null!==(N=Q?.valueOf())&&void 0!==N?N:void 0),-1===T||-1===M)return{from:0,to:0,outOfCanvas:!0};T>M&&(A=t,t=e,e=A)}(0,P.$K)(e)?(e=this.validateUnit(e,"E2105","strip"),_=this._getTranslatedCoord(e,-1)):_=i,(0,P.$K)(t)?(t=this.validateUnit(t,"E2105","strip"),f=this._getTranslatedCoord(t,1)):f=o;var he=_<f?{from:_,to:f}:{from:f,to:_},me=this.getVisibleArea();return(he.from<=me[0]&&he.to<=me[0]||he.from>=me[1]&&he.to>=me[1])&&(he.outOfCanvas=!0),he},_getStripGraphicAttributes:function(e,t){var i,o,u,h,g=this._orthogonalPositions,_=g.start,f=g.end;return this._isHorizontal?(i=e,o=Pt(_,f),u=t-e,h=Ve(_-f)):(i=Pt(_,f),o=e,u=Ve(_-f),h=Ve(e-t)),{x:i,y:o,width:u,height:h}},_createStrip:function(e){return this._renderer.rect(e.x,e.y,e.width,e.height)},_adjustStripLabels:function(){var e=this;this._strips.forEach(function(t){t.label&&t.label.attr(e._getAdjustedStripLabelCoords(t))})},_adjustLabelsCoord(e,t,i){var o=u=>this._getLabelAdjustedCoord(u,e+(u.labelOffset||0),t,i);this._majorTicks.forEach(function(u){u.label?(u.updateMultilineTextAlignment(),u.label.attr(o(u))):u.templateContainer&&u.templateContainer.attr(o(u))})},_adjustLabels:function(e){var t=this.getOptions(),i=t.position===t.label.position,o=this._majorTicks.reduce(function(h,g){if(!g.getContentContainer())return h;var _=g.labelRotationAngle?(0,H.vy)(g.labelBBox,[g.labelCoords.x,g.labelCoords.y],-g.labelRotationAngle):g.labelBBox;return{width:gt(h.width||0,_.width),height:gt(h.height||0,_.height),offset:gt(h.offset||0,g.labelOffset||0)}},{}),u=i?this._isHorizontal?o.height:o.width:0;return this._adjustLabelsCoord(e,o.width),e+u+(u&&this._options.label.indentFromAxis)+(i?o.offset:0)},_getLabelAdjustedCoord:function(e,t,i){t=t||0;var ee,Q,o=this._options,h=e.templateContainer&&e.templateContainer.getBBox()||(0,H.vy)(e.labelBBox,[e.labelCoords.x,e.labelCoords.y],-e.labelRotationAngle||0),g=e.labelAlignment||o.label.alignment,_="discrete"===this._options.type,f=e.labelRotationAngle%90==0,A=o.label.indentFromAxis,T=o.label.position,M=this._axisPosition,Z=e.labelCoords,N=Z.x;return this._isHorizontal?(Q=T===at?M+A-h.y+t:M-A-(h.y+h.height)-t,ee=g===_t?_&&f?e.coords.x-(h.x+h.width):N-h.x-h.width:g===lt?_&&f?N-h.x-(e.coords.x-N):N-h.x:N-h.x-h.width/2):(Q=Z.y-h.y-h.height/2,T===lt?(ee=g===lt?M-A-i-h.x:g===Ut?M-A-i/2-h.x-h.width/2:M-A-h.x-h.width,ee-=t):(ee=g===_t?M+A+i-h.x-h.width:g===Ut?M+A+i/2-h.x-h.width/2:M+A-h.x,ee+=t)),{translateX:ee,translateY:Q}},_createAxisConstantLineGroups:function(){var e=this._renderer,i=this._axisCssPrefix+"constant-lines",o=e.g().attr({class:i}),u=e.g().attr({class:i}),h=e.g().attr({class:i});return{inside:o,outside1:u,left:u,top:u,outside2:h,right:h,bottom:h,remove:function(){this.inside.remove(),this.outside1.remove(),this.outside2.remove()},clear:function(){this.inside.clear(),this.outside1.clear(),this.outside2.clear()}}},_createAxisGroups:function(){var e=this._renderer,t=this._axisCssPrefix;this._axisGroup=e.g().attr({class:t+"axis"}).enableLinks(),this._axisStripGroup=e.g().attr({class:t+"strips"}),this._axisGridGroup=e.g().attr({class:t+"grid"}),this._axisElementsGroup=e.g().attr({class:t+"elements"}),this._axisLineGroup=e.g().attr({class:t+"line"}).linkOn(this._axisGroup,"axisLine").linkAppend(),this._axisTitleGroup=e.g().attr({class:t+"title"}).append(this._axisGroup),this._axisConstantLineGroups={above:this._createAxisConstantLineGroups(),under:this._createAxisConstantLineGroups()},this._axisStripLabelGroup=e.g().attr({class:t+"axis-labels"})},_clearAxisGroups:function(){this._axisGroup.remove(),this._axisStripGroup.remove(),this._axisStripLabelGroup.remove(),this._axisConstantLineGroups.above.remove(),this._axisConstantLineGroups.under.remove(),this._axisGridGroup.remove(),this._axisTitleGroup.clear(),(!this._options.label.template||!this.isRendered())&&(this._axisElementsGroup.remove(),this._axisElementsGroup.clear()),this._axisLineGroup&&this._axisLineGroup.clear(),this._axisStripGroup&&this._axisStripGroup.clear(),this._axisGridGroup&&this._axisGridGroup.clear(),this._axisConstantLineGroups.above.clear(),this._axisConstantLineGroups.under.clear(),this._axisStripLabelGroup&&this._axisStripLabelGroup.clear()},_getLabelFormatObject:function(e,t,i,o,u,h){i=i||this._getViewportRange();var g={value:e,valueText:(0,de.j)(e,{labelOptions:t,ticks:h||Ct(this._majorTicks),tickInterval:u??this._tickInterval,dataType:this._options.dataType,logarithmBase:this._options.logarithmBase,type:this._options.type,showTransition:!this._options.marker.visible,point:o})||"",min:i.minVisible,max:i.maxVisible};return o&&(g.point=o),g},formatLabel:function(e,t,i,o,u,h){var g=this._getLabelFormatObject(e,t,i,o,u,h);return(0,P.mf)(t.customizeText)?t.customizeText.call(g,g):g.valueText},formatHint:function(e,t,i){var o=this._getLabelFormatObject(e,t,i);return(0,P.mf)(t.customizeHint)?t.customizeHint.call(o,o):void 0},formatRange(e,t,i,o){return(0,de.n)({startValue:e,endValue:t,tickInterval:i,argumentFormat:o,axisOptions:this.getOptions()})},_setTickOffset:function(){var t=this._options.discreteAxisDivisionMode;this._tickOffset=+("crossLabels"!==t||!t)},aggregatedPointBetweenTicks(){return"crossTicks"===this._options.aggregatedPointsPosition},resetApplyingAnimation:function(e){this._resetApplyingAnimation=!0,e&&(this._firstDrawing=!0)},isFirstDrawing(){return this._firstDrawing},getMargins:function(){var ie,De,e=this,{position:t,offset:i,customPosition:o,placeholderSize:u,grid:h,tick:g,crosshairMargin:_}=e._options,f=(0,P.$K)(o),A=e.getResolvedBoundaryPosition(),T=e.getCanvas(),M=T.left,Z=T.top,N=T.width-T.right,ee=T.height-T.bottom,Q=gt(h.visible&&h.width||0,g.visible&&g.width||0),he=e._axisConstantLineGroups.above,me=e._axisConstantLineGroups.under,ve=[e._axisElementsGroup,he.outside1,he.outside2,me.outside1,me.outside2,e._axisLineGroup].map(ie=>ie&&ie.getBBox()).concat((!(De=(ie=e._axisTitleGroup)&&ie.getBBox())||De.isEmpty||(e._isHorizontal?(De.x=M,De.width=N-M):(De.y=Z,De.height=ee-Z)),De)),ge=L(ve,T);if(ge[t]+=_,e.hasNonBoundaryPosition()&&f&&(ge[A]=0),u&&(ge[t]=u),Q&&(e._isHorizontal&&T.right<Q&&ge.right<Q&&(ge.right=Q),!e._isHorizontal&&T.bottom<Q&&ge.bottom<Q&&(ge.bottom=Q)),!f&&(0,P.$K)(i)){var ae=e.customPositionIsBoundary()&&(i>0&&(A===lt||A===Dt)||i<0&&(A===_t||A===at));ge[A]-=ae?i:0}return ge},validateUnit:function(e,t,i){return void 0===(e=this.parser(e))&&t&&this._incidentOccurred(t,[i]),e},_setType:function(e,t){var i;switch(e){case"xyAxes":i=ni;break;case"polarAxes":i=He}(0,Me.l)(this,i[t])},_getSharpParam:function(){return!0},_disposeBreaksGroup:pe.ZT,dispose:function(){[this._axisElementsGroup,this._axisStripGroup,this._axisGroup].forEach(function(e){e.dispose()}),this._strips=this._title=null,this._axisStripGroup=this._axisConstantLineGroups=this._axisStripLabelGroup=this._axisBreaksGroup=null,this._axisLineGroup=this._axisElementsGroup=this._axisGridGroup=null,this._axisGroup=this._axisTitleGroup=null,this._axesContainerGroup=this._stripsGroup=this._constantLinesGroup=this._labelsAxesGroup=null,this._renderer=this._options=this._textOptions=this._textFontStyles=null,this._translator=null,this._majorTicks=this._minorTicks=null,this._disposeBreaksGroup(),this._templatesRendered&&this._templatesRendered.reject()},getOptions:function(){return this._options},setPane:function(e){this.pane=e,this._options.pane=e},setTypes:function(e,t,i){this._options.type=e||this._options.type,this._options[i]=t||this._options[i],this._updateTranslator()},resetTypes:function(e){this._options.type=this._initTypes.type,this._options[e]=this._initTypes[e]},getTranslator:function(){return this._translator},updateOptions:function(e){var t=this,i=e.label;(function jt(e){var t,i=e.label,o=e.position,u=e.isHorizontal?at:lt,h=e.isHorizontal?Dt:_t,g=i.position;o!==u&&o!==h&&(o=u),g&&"outside"!==g?"inside"===g&&(g={[Dt]:at,[at]:Dt,[lt]:_t,[_t]:lt}[o]):g=o,g!==u&&g!==h&&(g=o),i.alignment!==Ut&&!i.userAlignment&&(i.alignment={[Dt]:Ut,[at]:Ut,[lt]:_t,[_t]:lt}[g]),e.position=o,i.position=g,e.hoverMode=e.hoverMode?e.hoverMode.toLowerCase():"none",i.minSpacing=null!==(t=i.minSpacing)&&void 0!==t?t:5,e.type&&(e.type=e.type.toLowerCase()),e.argumentType&&(e.argumentType=e.argumentType.toLowerCase()),e.valueType&&(e.valueType=e.valueType.toLowerCase())})(e),t._options=e,e.tick=e.tick||{},e.minorTick=e.minorTick||{},e.grid=e.grid||{},e.minorGrid=e.minorGrid||{},e.title=e.title||{},e.marker=e.marker||{},t._initTypes={type:e.type,argumentType:e.argumentType,valueType:e.valueType},t._setTickOffset(),t._isHorizontal=e.isHorizontal,t.pane=e.pane,t.name=e.name,t.priority=e.priority,t._hasLabelFormat=""!==i.format&&(0,P.$K)(i.format),t._textOptions={opacity:i.opacity,align:"center",class:i.cssClass},t._textFontStyles=(0,H.FI)(i.font),e.type===U.Z.logarithmic&&e.logarithmBaseError&&(t._incidentOccurred("E2104"),delete e.logarithmBaseError),t._updateTranslator(),t._createConstantLines(),t._strips=(e.strips||[]).map(o=>function Ft(e,t){var i,o,u=t.label||{};return{options:t,label:null,rect:null,_getCoord(){var h=e._getCanvasStartEnd(),g=e._translator.getBusinessRange();return e._getStripPos(t.startValue,t.endValue,h.start,h.end,g)},_drawLabel:h=>e._renderer.text(u.text,h.x,h.y).css((0,H.FI)((0,Me.l)({},e.getOptions().label.font,u.font))).attr({align:"center",class:u.cssClass}).append(e._axisStripLabelGroup),draw(){if(!e._translator.getBusinessRange().isEmpty()&&((0,P.$K)(t.startValue)||(0,P.$K)(t.endValue))&&(0,P.$K)(t.color)){var h=this._getCoord();if(this.labelCoords=u.text?e._getStripLabelCoords(h.from,h.to,u):null,h.outOfCanvas||!(0,P.$K)(h.to)||!(0,P.$K)(h.from))return;this.rect=e._createStrip(e._getStripGraphicAttributes(h.from,h.to)).attr({fill:t.color}).append(e._axisStripGroup),this.label=u.text?this._drawLabel(this.labelCoords):null}},getContentContainer(){return this.label},removeLabel(){},updatePosition(h){var g=this._getCoord();h&&i?(this.label&&this.label.attr(e._getStripLabelCoords(i.from,i.to,t.label)),this.rect&&this.rect.attr(e._getStripGraphicAttributes(i.from,i.to)),this.label&&this.label.animate(e._getStripLabelCoords(g.from,g.to,t.label)),this.rect&&this.rect.animate(e._getStripGraphicAttributes(g.from,g.to))):(this.label&&this.label.attr(e._getStripLabelCoords(g.from,g.to,t.label)),this.rect&&this.rect.attr(e._getStripGraphicAttributes(g.from,g.to)))},saveCoords(){o=i,i=this._getCoord()},resetCoordinates(){i=o}}}(t,o)),t._majorTicks=t._minorTicks=null,t._firstDrawing=!0},calculateInterval:function(e,t){var i=this._options;if(!i||i.type!==U.Z.logarithmic)return Ve(e-t);var{allowNegatives:o,linearThreshold:u}=new _e.e(this.getTranslator().getBusinessRange());return Ve((0,H.RI)(e,i.logarithmBase,o,u)-(0,H.RI)(t,i.logarithmBase,o,u))},getCanvasRange(){var e=this._translator;return{startValue:e.from(e.translate("canvas_position_start")),endValue:e.from(e.translate("canvas_position_end"))}},_processCanvas:function(e){return e},updateCanvas:function(e,t){if(t)this._orthogonalPositions=null;else{var i=this._orthogonalPositions={start:this._isHorizontal?e.top:e.left,end:this._isHorizontal?e.height-e.bottom:e.width-e.right};i.center=i.start+(i.end-i.start)/2}this._canvas=e,this._translator.updateCanvas(this._processCanvas(e)),this._initAxisPositions()},getCanvas:function(){return this._canvas},getAxisShift(){return this._axisShift||0},hideTitle:function(){this._options.title.text&&(this._incidentOccurred("W2105",[this._isHorizontal?"horizontal":"vertical"]),this._axisTitleGroup.clear())},getTitle:function(){return this._title},hideOuterElements:function(){(this._options.label.visible||this._outsideConstantLines.length)&&!this._translator.getBusinessRange().isEmpty()&&(this._incidentOccurred("W2106",[this._isHorizontal?"horizontal":"vertical"]),this._axisElementsGroup.clear(),ut(this._outsideConstantLines,"removeLabel"))},_resolveLogarithmicOptionsForRange(e){var t=this._options;t.type===U.Z.logarithmic&&(e.addRange({allowNegatives:void 0!==t.allowNegatives?t.allowNegatives:e.min<=0}),isNaN(t.linearThreshold)||(e.linearThreshold=t.linearThreshold))},adjustViewport(e){var t=this._options,i=t.type===U.Z.discrete,o=this._seriesData&&this._seriesData.categories||[],u=this.adjustRange((0,H.MG)(t.wholeRange)),h=this.getViewport()||{},g=new _e.e(e);this._addConstantLinesToRange(g,"minVisible","maxVisible");var _=(0,P.$K)(h.startValue),f=(0,P.$K)(h.endValue);i||(_=_&&(!(0,P.$K)(u.endValue)||h.startValue<u.endValue),f=f&&(!(0,P.$K)(u.startValue)||h.endValue>u.startValue));var A=_?h.startValue:g.minVisible,T=f?h.endValue:g.maxVisible;if(i){var N=(0,H.Xc)(o,u.startValue,u.endValue);g.categories=o=N.categories}else{var M,Z;g.min=null!==(M=u.startValue)&&void 0!==M?M:g.min,g.max=null!==(Z=u.endValue)&&void 0!==Z?Z:g.max}var ee=(0,H.cx)({axisType:t.type,dataType:t.dataType,base:t.logarithmBase},{startValue:_?h.startValue:void 0,endValue:f?h.endValue:void 0,length:h.length},{categories:o,min:u.startValue,max:u.endValue},{categories:o,min:A,max:T});return g.minVisible=ee.startValue,g.maxVisible=ee.endValue,!(0,P.$K)(g.min)&&(g.min=g.minVisible),!(0,P.$K)(g.max)&&(g.max=g.maxVisible),g.addRange({}),this._resolveLogarithmicOptionsForRange(g),g},adjustRange(e){e=e||{};var t=this._options.type===U.Z.discrete,o=!1===this._options.allowNegatives;if(this._options.type===U.Z.logarithmic&&(e.startValue=o&&e.startValue<=0?null:e.startValue,e.endValue=o&&e.endValue<=0?null:e.endValue),!t&&(0,P.$K)(e.startValue)&&(0,P.$K)(e.endValue)&&e.startValue>e.endValue){var u=e.endValue;e.endValue=e.startValue,e.startValue=u}return e},_getVisualRangeUpdateMode(e,t,i){var o=this._options.visualRangeUpdateMode,u=this._translator,h=this._seriesData,g=this._prevDataInfo;if(g.isEmpty&&!g.containsConstantLine)return wt;if(!this.isArgumentAxis){var _=this.getViewport();if(!(0,P.$K)(_.startValue)&&!(0,P.$K)(_.endValue)&&!(0,P.$K)(_.length))return Xt}if(this.isArgumentAxis){if(-1===[di,wt,Xt].indexOf(o)){if(h.axisType===U.Z.discrete){var f=h.categories,A=t.categories,T=this.visualRange();o=f&&A&&f.length&&-1!==A.map(Q=>Q.valueOf()).join(",").indexOf(f.map(Q=>Q.valueOf()).join(","))&&(T.startValue.valueOf()!==f[0].valueOf()||T.endValue.valueOf()!==f[f.length-1].valueOf())?wt:Xt}else{var M=u.translate(h.min),Z=u.translate(e.startValue),N=u.translate(h.max),ee=u.translate(e.endValue);o=M===Z&&N===ee?Xt:M!==Z&&N===ee?di:wt}o===wt&&g.isEmpty&&g.containsConstantLine&&(o=Xt)}}else-1===[wt,Xt].indexOf(o)&&(o=i===wt?wt:Xt);return o},_handleBusinessRangeChanged(e,t,i){var o=this.visualRange();if(!t&&!this._translator.getBusinessRange().isEmpty()){var u=this._lastVisualRangeUpdateMode=this._getVisualRangeUpdateMode(o,i,e);u===wt?this._setVisualRange([o.startValue,o.endValue]):u===Xt?this._setVisualRange([null,null]):u===di&&this._setVisualRange({length:this.getVisualRangeLength()})}},getVisualRangeLength(e){var t=e||this._translator.getBusinessRange(),{type:i}=this._options;return i===U.Z.logarithmic?(0,Mt.zB)(this.calculateInterval(t.maxVisible,t.minVisible)):i===U.Z.discrete?(0,H.Xc)(t.categories,t.minVisible,t.maxVisible).categories.length:t.maxVisible-t.minVisible},getVisualRangeCenter(e,t){var _,i=this.getTranslator(),o=i.getBusinessRange(),u=t?(0,Me.l)(!0,{},o,e||{}):e||o,{type:h,logarithmBase:g}=this._options;if((0,P.$K)(u.minVisible)&&(0,P.$K)(u.maxVisible)){if(h===U.Z.logarithmic){var{allowNegatives:f,linearThreshold:A,minVisible:T,maxVisible:M}=u;_=(0,H.p3)((0,Mt.zB)((0,H.RI)(M,g,f,A)+(0,H.RI)(T,g,f,A))/2,g,f,A)}else if(h===U.Z.discrete){var Z=(0,H.Xc)(u.categories,u.minVisible,u.maxVisible),N=Math.ceil(Z.categories.length/2)-1;_=o.categories.indexOf(Z.categories[N])}else _=i.toValue((u.maxVisible.valueOf()+u.minVisible.valueOf())/2);return _}},setBusinessRange(e,t,i,o){var u,h,g=this._options,_=g.type===U.Z.discrete;this._handleBusinessRangeChanged(i,t,e),this._seriesData=new _e.e(e);var f=this._seriesData.isEmpty(),A=new _e.e(this._seriesData);if(this._addConstantLinesToRange(A,"minVisible","maxVisible"),this._prevDataInfo={isEmpty:f,containsConstantLine:A.containsConstantLine},this._seriesData.addRange({categories:g.categories,dataType:g.dataType,axisType:g.type,base:g.logarithmBase,invert:g.inverted}),this._resolveLogarithmicOptionsForRange(this._seriesData),!_){if(!(0,P.$K)(this._seriesData.min)&&!(0,P.$K)(this._seriesData.max)){var T=this.getViewport();T&&this._seriesData.addRange({min:T.startValue,max:T.endValue})}var M=g.synchronizedValue;(0,P.$K)(M)&&this._seriesData.addRange({min:M,max:M})}this._seriesData.minVisible=null!==(u=this._seriesData.minVisible)&&void 0!==u?u:this._seriesData.min,this._seriesData.maxVisible=null!==(h=this._seriesData.maxVisible)&&void 0!==h?h:this._seriesData.max,!this.isArgumentAxis&&g.showZero&&this._seriesData.correctValueZeroLevel(),this._seriesData.sortCategories(this.getCategoriesSorter(o)),this._seriesData.userBreaks=this._seriesData.isEmpty()?[]:this._getScaleBreaks(g,this._seriesData,this._series,this.isArgumentAxis),this._translator.updateBusinessRange(this._getViewportRange())},_addConstantLinesToRange(e,t,i){this._outsideConstantLines.concat(this._insideConstantLines||[]).forEach(o=>{if(o.options.extendAxis){var u=o.getParsedValue();e.addRange({containsConstantLine:!0,[t]:u,[i]:u})}})},setGroupSeries:function(e){this._series=e},getLabelsPosition:function(){var e=this._options,t=e.position,i=e.label.indentFromAxis+(this._axisShift||0)+this._constantLabelOffset,o=this._axisPosition;return t===Dt||t===lt?o-i:o+i},getFormattedValue:function(e,t,i){var o=this._options.label;return(0,P.$K)(e)?this.formatLabel(e,(0,Me.l)(!0,{},o,t),void 0,i):null},_getBoundaryTicks:function(e,t){var i=e.length,o=this._options,u=o.customBoundTicks,h=t.minVisible,g=t.maxVisible,_=o.showCustomBoundaryTicks?this._boundaryTicksVisibility:{},f=[];return o.type===U.Z.discrete?this._tickOffset&&0!==e.length&&(f=[e[0],e[e.length-1]]):u?(_.min&&(0,P.$K)(u[0])&&f.push(u[0]),_.max&&(0,P.$K)(u[1])&&f.push(u[1])):(_.min&&(0===i||e[0]>h)&&f.push(h),_.max&&(0===i||e[i-1]<g)&&f.push(g)),f},setPercentLabelFormat:function(){this._hasLabelFormat||(this._options.label.format="percent")},resetAutoLabelFormat:function(){this._hasLabelFormat||delete this._options.label.format},getMultipleAxesSpacing:function(){return this._options.multipleAxesSpacing||0},getTicksValues:function(){return{majorTicksValues:Ct(this._majorTicks),minorTicksValues:Ct(this._minorTicks)}},estimateTickInterval:function(e){return this.updateCanvas(e),this._tickInterval!==this._getTicks(this._getViewportRange(),pe.ZT,!0).tickInterval},setTicks:function(e){var t=e.majorTicks||[];this._majorTicks=t.map(Ii(this,this._renderer,this._getSkippedCategory(t))),this._minorTicks=(e.minorTicks||[]).map(Zi(this,this._renderer)),this._isSynchronized=!0},_adjustDivisionFactor:function(e){return e},_getTicks:function(e,t,i){var o=this._options,u=o.customTicks,h=o.customMinorTicks;return Gi(o,t||this._incidentOccurred,i,this._translator.getBusinessRange().isEmpty(),this._adjustDivisionFactor.bind(this),e)({min:e.minVisible,max:e.maxVisible,categories:e.categories,isSpacedMargin:e.isSpacedMargin},this._getScreenDelta(),o.tickInterval,"ignore"===o.label.overlappingBehavior||o.forceUserTickInterval,{majors:u,minors:h},o.minorTickInterval,o.minorTickCount,this._initialBreaks)},_createTicksAndLabelFormat:function(e,t){var i=this._options,o=this._getTicks(e,t,!1);return!e.isEmpty()&&i.type===U.Z.discrete&&"datetime"===i.dataType&&!this._hasLabelFormat&&o.ticks.length&&(i.label.format=Ce.Z.getDateFormatByTicks(o.ticks)),o},getAggregationInfo(e,t){var i,o,u,h=this._options,g=this._marginOptions,_=new _e.e(this.getTranslator().getBusinessRange()).addRange(t),f=this.getViewport(),A=null!==(i=f?.startValue)&&void 0!==i?i:_.minVisible,T=null!==(o=f?.endValue)&&void 0!==o?o:_.maxVisible,M=[];if(h.type===U.Z.discrete&&h.aggregateByCategory)return{aggregateByCategory:!0};var Z=h.aggregationInterval,N=h.aggregationGroupWidth;!N&&g&&(g.checkInterval&&(N=h.axisDivisionFactor),g.sizePointNormalState&&(N=Math.min(g.sizePointNormalState,h.axisDivisionFactor)));var ee=!h.aggregationGroupWidth&&!Z&&t.interval,Q=function Ni(e,t,i,o,u){var h=(0,Me.l)({},e,{endOnTick:!0,axisDivisionFactor:t,skipCalculationLimits:!0,generateExtraTick:!0,minTickInterval:u});return function(g,_,f,A,T){return Gi(h,pe.ZT,_,i.isEmpty(),M=>M,i)({min:f,max:A,categories:i.categories,isSpacedMargin:i.isSpacedMargin},o,g,(0,P.$K)(g),void 0,void 0,void 0,T)}}(h,N,_,this._getScreenDelta(),ee),he=Q(Z,!0,A,T,null===(u=this._seriesData)||void 0===u?void 0:u.breaks).tickInterval;if(h.type!==U.Z.discrete){var me=e?_.min:A,ve=e?_.max:T;if((0,P.$K)(me)&&(0,P.$K)(ve)){var ge=(0,H.I9)({base:h.logarithmBase,axisType:h.type,dataType:h.dataType},!1),ae=me,ie=ve;if(!e){var De=Math.max(this.calculateInterval(ve,me),"datetime"===h.dataType?je.Z.dateToMilliseconds(he):he);ae=ge(me,De,-1),ie=ge(ve,De)}var ot=this._getScaleBreaks(h,{minVisible:ae=ae<_.min?_.min:ae,maxVisible:ie=ie>_.max?_.max:ie},this._series,this.isArgumentAxis);M=Q(he,!1,ae,ie,this._filterBreaks(ot,{minVisible:ae,maxVisible:ie},h.breakStyle)).ticks}}return this._aggregationInterval=he,{interval:he,ticks:M}},getTickInterval(){return this._tickInterval},getAggregationInterval(){return this._aggregationInterval},createTicks:function(e){var t=this,i=t._renderer,o=t._options;if(e){t._isSynchronized=!1,t.updateCanvas(e);var u=t._getViewportRange();t._initialBreaks=u.breaks=this._seriesData.breaks=t._filterBreaks(this._seriesData.userBreaks,u,o.breakStyle),t._estimatedTickInterval=t._getTicks(t.adjustViewport(this._seriesData),pe.ZT,!0).tickInterval;var h=this._calculateValueMargins();u.addRange({minVisible:h.minValue,maxVisible:h.maxValue,isSpacedMargin:h.isSpacedMargin});var g=t._createTicksAndLabelFormat(u),_=t._getBoundaryTicks(g.ticks,t._getViewportRange());o.showCustomBoundaryTicks&&_.length?(t._boundaryTicks=[_[0]].map(Hi(t,i,!0)),_.length>1&&(t._boundaryTicks=t._boundaryTicks.concat([_[1]].map(Hi(t,i,!1))))):t._boundaryTicks=[];var f=(g.minorTicks||[]).filter(function(Q){return!_.some(function(he){return(0,H.$z)(he)===(0,H.$z)(Q)})});t._tickInterval=g.tickInterval,t._minorTickInterval=g.minorTickInterval;var A=t._majorTicks||[],T=A.reduce((Q,he)=>(Q[he.value.valueOf()]=he,Q),{}),M=(0,P.dt)(g.ticks[0])===(0,P.dt)(A[0]&&A[0].value),Z=t._getSkippedCategory(g.ticks),N=g.ticks.map(Q=>{var he=T[Q.valueOf()];return he&&M?(delete T[Q.valueOf()],he.setSkippedCategory(Z),he):Ii(t,i,Z)(Q)});t._majorTicks=N;var ee=t._minorTicks||[];t._minorTicks=f.map((Q,he)=>{var me=ee[he];return me?(me.updateValue(Q),me):Zi(t,i)(Q)}),t._ticksToRemove=Object.keys(T).map(Q=>T[Q]).concat(ee.slice(t._minorTicks.length,ee.length)),t._ticksToRemove.forEach(Q=>{var he;return null===(he=Q.label)||void 0===he?void 0:he.removeTitle()}),g.breaks&&(t._seriesData.breaks=g.breaks),t._reinitTranslator(t._getViewportRange())}},_reinitTranslator:function(e){this._isSynchronized||this._translator.updateBusinessRange(e)},_getViewportRange(){return this.adjustViewport(this._seriesData)},setMarginOptions:function(e){this._marginOptions=e},getMarginOptions(){var e;return null!==(e=this._marginOptions)&&void 0!==e?e:{}},_calculateRangeInterval:function(e){var t="datetime"===this._options.dataType,i=[],o=function(u){(0,P.$K)(u)&&i.push(t?je.Z.dateToMilliseconds(u):u)};return o(this._tickInterval),o(this._estimatedTickInterval),(0,P.$K)(e)&&i.push(e),o(this._aggregationInterval),this._calculateWorkWeekInterval(Pt.apply(this,i))},_calculateWorkWeekInterval(e){var t=this._options;if("datetime"===t.dataType&&t.workdaysOnly&&e){var i=864e5*t.workWeek.length,o=6048e5-i;i!==e&&o<e?e-=o*Math.ceil(e/6048e5):o>=e&&e>864e5&&(e=864e5)}return e},_getConvertIntervalCoefficient(e,t){var i=this._translator.ratioOfCanvasRange();return i/(i*t/(e+t))},_calculateValueMargins(e){this._resetMargins();var Q,t=this.getMarginOptions(),i=(t.size||0)/2,o=this._options,u=this._getViewportRange(),h=this.getViewport(),g=this._getScreenDelta(),_=-1!==(o.type||"").indexOf(U.Z.discrete),f=o.valueMarginsEnabled&&!_&&!this.customPositionIsBoundaryOrthogonalAxis(),A=this._translator,T=o.minValueMargin,M=o.maxValueMargin,Z=0,N=0,ee=0;if(u.stubData||!g)return{startPadding:0,endPadding:0};if(this.isArgumentAxis&&t.checkInterval){Q=this._calculateRangeInterval(u.interval);var he=A.getInterval(Q);isFinite(he)?ee=Math.ceil(he/(2*this._getConvertIntervalCoefficient(he,g))):Q=0}var me,ve,ge=.8*g/2;f&&((0,P.$K)(T)?me=isFinite(T)?T:0:!this.isArgumentAxis&&t.checkInterval&&(0,H.$z)(u.minVisible)>0&&(0,H.$z)(u.minVisible)===(0,H.$z)(u.min)?Z=5:(Z=Math.max(i,ee),Z=Math.min(ge,Z)),(0,P.$K)(M)?ve=isFinite(M)?M:0:!this.isArgumentAxis&&t.checkInterval&&(0,H.$z)(u.maxVisible)<0&&(0,H.$z)(u.maxVisible)===(0,H.$z)(u.max)?N=5:(N=Math.max(i,ee),N=Math.min(ge,N))),t.percentStick&&!this.isArgumentAxis&&(1===Ve(u.max)&&(N=0),1===Ve(u.min)&&(Z=0));var ht,Kt,ie=this._getCanvasStartEnd(),ot=(g-Z-N)/(1+(me||0)+(ve||0))||g;if((void 0!==me||void 0!==ve)&&(void 0!==me&&(Z=ot*me),void 0!==ve&&(N=ot*ve)),o.type!==U.Z.discrete&&e&&e.length>1&&!o.skipViewportExtending&&!h.action&&!1!==o.endOnTick){var Ei=e.length,Si=A.translate(e[0].value),Li=A.translate(e[Ei-1].value),ki=Si>Li?-1:1,Yt=gt(ki*(ie.start-Si),0),Vt=gt(ki*(Li-ie.end),0);if(Yt>Z||Vt>N){var oi=this._getConvertIntervalCoefficient(Vt+Yt,g);Yt>=Z&&(ht=e[0].value),Vt>=N&&(Kt=e[Ei-1].value),Z=gt(Yt,Z)/oi,N=gt(Vt,N)/oi}}if(me=void 0===me?Z/ot:me,ve=void 0===ve?N/ot:ve,!_)if(this._translator.isInverted()){var ti,li;ht=null!==(ti=ht)&&void 0!==ti?ti:A.from(ie.start+g*me,-1),Kt=null!==(li=Kt)&&void 0!==li?li:A.from(ie.end-g*ve,1)}else{var Gt,ii;ht=null!==(Gt=ht)&&void 0!==Gt?Gt:A.from(ie.start-g*me,-1),Kt=null!==(ii=Kt)&&void 0!==ii?ii:A.from(ie.end+g*ve,1)}var{correctedMin:ui,correctedMax:ai,start:_i,end:pi}=this.getCorrectedValuesToZero(ht,Kt);return Z=_i??Z,N=pi??N,{startPadding:A.isInverted()?N:Z,endPadding:A.isInverted()?Z:N,minValue:ui??ht,maxValue:ai??Kt,interval:Q,isSpacedMargin:Z===N&&0!==Z}},getCorrectedValuesToZero(e,t){var f,A,T,M,i=this,o=i._translator,u=i._getCanvasStartEnd(),h=i._getViewportRange(),g=i._getScreenDelta(),Z=(N,ee)=>{var Q=Ve(u.start-N),he=Ve(u.end-ee),me=i._getConvertIntervalCoefficient(Q+he,g);f=Q/me,A=he/me};return!i.isArgumentAxis&&"datetime"!==i._options.dataType&&(e*h.min<=0&&e*h.minVisible<=0&&(Z(o.translate(0),o.translate(t)),T=0),t*h.max<=0&&t*h.maxVisible<=0&&(Z(o.translate(e),o.translate(0)),M=0)),{start:isFinite(f)?f:null,end:isFinite(A)?A:null,correctedMin:T,correctedMax:M}},applyMargins(){if(!this._isSynchronized){var e=this._calculateValueMargins(this._majorTicks),t=(0,Me.l)({},this._canvas,{startPadding:e.startPadding,endPadding:e.endPadding});if(this._translator.updateCanvas(this._processCanvas(t)),isFinite(e.interval)){var i=this._translator.getBusinessRange();i.addRange({interval:e.interval}),this._translator.updateBusinessRange(i)}}},_resetMargins:function(){this._reinitTranslator(this._getViewportRange()),this._canvas&&this._translator.updateCanvas(this._processCanvas(this._canvas))},_createConstantLines(){var e=(this._options.constantLines||[]).map(t=>function qe(e,t){var u,g,_,i=t.label||{},o=i.position||"inside",h=!1;return e._checkAlignmentConstantLineLabels(i),{options:t,labelOptions:i,labelPosition:o,label:null,line:null,getParsedValue:()=>(h||(u=e.validateUnit(t.value,"E2105","constantLine"),h=!0),u),draw(){if(!(0,P.$K)(t.value)||e._translator.getBusinessRange().isEmpty())return this;var f=e._getCanvasStartEnd(),A=this.getParsedValue();this.coord=e._getConstantLinePos(A,f.start,f.end);var T=t.displayBehindSeries?e._axisConstantLineGroups.under:e._axisConstantLineGroups.above,M=T[o];if(M||(M=T[e._isHorizontal?i.verticalAlignment:i.horizontalAlignment]),!(0,P.$K)(this.coord))return this;var N=e._createConstantLine(this.coord,{stroke:t.color,"stroke-width":t.width,dashStyle:t.dashStyle});return this.line=N.append(T.inside),this.label=i.visible?e._drawConstantLineLabels(A,i,this.coord,M):null,this.updatePosition(),this},getContentContainer(){return this.label},removeLabel(){this.label&&this.label.remove()},updatePosition(f){var A=e._getCanvasStartEnd(),T=e._getConstantLinePos(this.getParsedValue(),A.start,A.end);!(0,P.$K)(T)||(this.coord=T,f&&_?(this.label&&this.label.attr(e._getConstantLineLabelsCoords(_,this.labelOptions)),this.line&&this.line.attr(e._getConstantLineGraphicAttributes(_)),this.label&&this.label.animate(e._getConstantLineLabelsCoords(this.coord,this.labelOptions)),this.line&&this.line.animate(e._getConstantLineGraphicAttributes(this.coord))):(this.label&&this.label.attr(e._getConstantLineLabelsCoords(this.coord,this.labelOptions)),this.line&&this.line.attr(e._getConstantLineGraphicAttributes(this.coord)),e._rotateConstantLine(this.line,this.coord)))},saveCoords(){g=_,_=this.coord},resetCoordinates(){_=g}}}(this,t));this._outsideConstantLines=e.filter(t=>"outside"===t.labelPosition),this._insideConstantLines=e.filter(t=>"inside"===t.labelPosition)},draw:function(e,t){var i=this,o=this._options;i.borderOptions=t||{visible:!1},i._resetMargins(),i.createTicks(e),i.applyMargins(),i._clearAxisGroups(),si(i._majorTicks),si(i._minorTicks),si(i._boundaryTicks),i._axisGroup.append(i._axesContainerGroup),i._drawAxis(),i._drawTitle(),Ai(i._majorTicks,o.tick),Ai(i._minorTicks,o.minorTick),Ai(i._boundaryTicks,o.tick);var u=i._getGridLineDrawer();Bi(i._majorTicks,u),Bi(i._minorTicks,u),ut(i._majorTicks,"drawLabel",i._getViewportRange(),i._getTemplate(o.label.template)),i._templatesRendered&&i._templatesRendered.reject(),i._templatesRendered=new ce.BH,i._majorTicks.forEach(function(g){g.labelRotationAngle=0,g.labelAlignment=void 0,g.labelOffset=0}),ut(i._outsideConstantLines.concat(i._insideConstantLines),"draw"),ut(i._strips,"draw"),i._dateMarkers=i._drawDateMarkers()||[],i._stripLabelAxesGroup&&i._axisStripLabelGroup.append(i._stripLabelAxesGroup),i._gridContainerGroup&&i._axisGridGroup.append(i._gridContainerGroup),i._stripsGroup&&i._axisStripGroup.append(i._stripsGroup),i._labelsAxesGroup&&i._axisElementsGroup.append(i._labelsAxesGroup),i._constantLinesGroup&&(i._axisConstantLineGroups.above.inside.append(i._constantLinesGroup.above),i._axisConstantLineGroups.above.outside1.append(i._constantLinesGroup.above),i._axisConstantLineGroups.above.outside2.append(i._constantLinesGroup.above),i._axisConstantLineGroups.under.inside.append(i._constantLinesGroup.under),i._axisConstantLineGroups.under.outside1.append(i._constantLinesGroup.under),i._axisConstantLineGroups.under.outside2.append(i._constantLinesGroup.under)),i._measureTitle(),z(i._majorTicks),!o.label.template&&i._applyWordWrap(),z(i._outsideConstantLines),z(i._insideConstantLines),z(i._strips),z(i._dateMarkers),i._adjustConstantLineLabels(i._insideConstantLines),i._adjustStripLabels();var h=i._constantLabelOffset=i._adjustConstantLineLabels(i._outsideConstantLines);i._translator.getBusinessRange().isEmpty()||(i._setLabelsPlacement(),h=i._adjustLabels(h)),ce.gx.apply(this,i._majorTicks.map(g=>g.getTemplateDeferred())).done(()=>{i._templatesRendered.resolve()}),h=i._adjustDateMarkers(h),i._adjustTitle(h)},getTemplatesDef(){return this._templatesRendered},setRenderedState(e){this._drawn=e},isRendered(){return this._drawn},_applyWordWrap(){var e,t,i,o=this._options,u=this._tickInterval;(0,P.$K)(u)&&(e=this.getTranslator().getInterval("datetime"===o.dataType?je.Z.dateToMilliseconds(u):u));var h=this._validateDisplayMode(o.label.displayMode),g=this._validateOverlappingMode(o.label.overlappingBehavior,h);if(("none"!==(o.label.wordWrap||"none")||"none"!==(o.label.textOverflow||"none"))&&h!==ei&&g!==ei&&"auto"!==g){var A=(0,P.$K)(o.placeholderSize)?o.placeholderSize-o.label.indentFromAxis:void 0;this._isHorizontal?(t=e,i=A):(t=A,i=e);var T=!1,M=!1;t&&this._majorTicks.some(Z=>Z.labelBBox.width>t)&&(T=!0),i&&this._majorTicks.some(Z=>Z.labelBBox.height>i)&&(M=!0),(T||M)&&(this._majorTicks.forEach(Z=>{Z.label&&Z.label.setMaxSize(t,i,o.label)}),z(this._majorTicks))}},_measureTitle:pe.ZT,animate(){ut(this._majorTicks,"animateLabels")},updateSize(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.updateCanvas(e),i&&(this._checkTitleOverflow(),this._measureTitle(),this._updateTitleCoords()),this._reinitTranslator(this._getViewportRange()),this.applyMargins();var o=!this._firstDrawing&&t,u=this._options;si(this._majorTicks),si(this._minorTicks),si(this._boundaryTicks),this._resetApplyingAnimation&&!this._firstDrawing&&this._resetStartCoordinates(),Mi(this._majorTicks),Mi(this._minorTicks),Mi(this._boundaryTicks),this._axisElement&&this._updateAxisElementPosition(),yi(this._majorTicks,u.tick,o),yi(this._minorTicks,u.minorTick,o),yi(this._boundaryTicks,u.tick),ut(this._majorTicks,"updateLabelPosition",o),this._outsideConstantLines.concat(this._insideConstantLines||[]).forEach(h=>h.updatePosition(o)),ut(this._strips,"updatePosition",o),ji(this._majorTicks,o),ji(this._minorTicks,o),o&&ut(this._ticksToRemove||[],"fadeOutElements"),this.prepareAnimation(),this._ticksToRemove=null,this._translator.getBusinessRange().isEmpty()||(this._firstDrawing=!1),this._resetApplyingAnimation=!1,this._updateLabelsPosition()},_updateLabelsPosition:pe.ZT,prepareAnimation(){var e="saveCoords";ut(this._majorTicks,e),ut(this._minorTicks,e),ut(this._insideConstantLines,e),ut(this._outsideConstantLines,e),ut(this._strips,e)},_resetStartCoordinates(){var e="resetCoordinates";ut(this._majorTicks,e),ut(this._minorTicks,e),ut(this._insideConstantLines,e),ut(this._outsideConstantLines,e),ut(this._strips,e)},applyClipRects:function(e,t){this._axisGroup.attr({"clip-path":t}),this._axisStripGroup.attr({"clip-path":e}),this._axisElementsGroup.attr({"clip-path":t})},_validateVisualRange(e){var t=(0,H.MG)(e);return void 0!==t.startValue&&(t.startValue=this.validateUnit(t.startValue)),void 0!==t.endValue&&(t.endValue=this.validateUnit(t.endValue)),(0,H.n4)(t,!Jt(e))},_validateOptions(e){e.wholeRange=this._validateVisualRange(e.wholeRange),e.visualRange=e._customVisualRange=this._validateVisualRange(e._customVisualRange),this._setVisualRange(e._customVisualRange)},validate(){var e=this._options,t=this.isArgumentAxis?e.argumentType:e.valueType,i=t?(0,Je.M)(t):function(o){return o};this.parser=i,e.dataType=t,this._validateOptions(e)},resetVisualRange(e){this._seriesData.minVisible=this._seriesData.min,this._seriesData.maxVisible=this._seriesData.max,this.handleZooming([null,null],{start:!!e,end:!!e})},_setVisualRange(e,t){var i=this.adjustRange((0,H.MG)(e));t?((0,P.$K)(i.startValue)&&(this._viewport.startValue=i.startValue),(0,P.$K)(i.endValue)&&(this._viewport.endValue=i.endValue)):this._viewport=i},_applyZooming(e,t){this._resetVisualRangeOption(),this._setVisualRange(e,t);var i=this.getViewport();this._seriesData.userBreaks=this._getScaleBreaks(this._options,{minVisible:i.startValue,maxVisible:i.endValue},this._series,this.isArgumentAxis),this._translator.updateBusinessRange(this._getViewportRange())},getZoomStartEventArg(e,t){return{axis:this,range:this.visualRange(),cancel:!1,event:e,actionType:t}},_getZoomEndEventArg(e,t,i,o,u){var h=this.visualRange();return{axis:this,previousRange:e,range:h,cancel:!1,event:t,actionType:i,zoomFactor:o,shift:u,rangeStart:h.startValue,rangeEnd:h.endValue}},getZoomBounds(){var e=(0,H.MG)(this._options.wholeRange),t=this.getTranslator().getBusinessRange(),i={startValue:ci(this._initRange.startValue,t.min),endValue:ci(this._initRange.endValue,t.max)};return{startValue:ci(e.startValue,i.startValue),endValue:ci(e.endValue,i.endValue)}},setInitRange(){this._initRange={},0===Object.keys(this._options.wholeRange||{}).length&&(this._initRange=this.getZoomBounds())},_resetVisualRangeOption(){this._options._customVisualRange={}},getTemplatesGroups(){return this._majorTicks?this._majorTicks.map(t=>t.templateContainer).filter(t=>(0,P.$K)(t)):[]},setCustomVisualRange(e){this._options._customVisualRange=e},visualRange(){var t,e=arguments;if(0===e.length){var h,g,i=this._getAdjustedBusinessRange(),o=i.minVisible,u=i.maxVisible;return this._options.type===U.Z.discrete?{startValue:o=null!==(h=o)&&void 0!==h?h:i.categories[0],endValue:u=null!==(g=u)&&void 0!==g?g:i.categories[i.categories.length-1],categories:(0,H.Xc)(i.categories,o,u).categories}:{startValue:o,endValue:u}}t=Jt(e[0])?e[0]:(0,P.PO)(e[0])?(0,Me.l)({},e[0]):[e[0],e[1]];var _=this.handleZooming(t,e[1]);_.isPrevented||this._visualRange(this,_)},handleZooming(e,t,i,o){t=t||{},(0,P.$K)(e)&&((e=this._validateVisualRange(e)).action=o);var u=this.getZoomStartEventArg(i,o),h=u.range;!t.start&&this._eventTrigger("zoomStart",u);var g={isPrevented:u.cancel,skipEventRising:t.skipEventRising,range:e||u.range};return u.cancel||((0,P.$K)(e)&&this._applyZooming(e,t.allowPartialUpdate),(0,P.$K)(this._storedZoomEndParams)||(this._storedZoomEndParams={startRange:h,type:this.getOptions().type}),this._storedZoomEndParams.event=i,this._storedZoomEndParams.action=o,this._storedZoomEndParams.prevent=!!t.end),g},handleZoomEnd(){if((0,P.$K)(this._storedZoomEndParams)&&!this._storedZoomEndParams.prevent){var e=this._storedZoomEndParams.startRange,t=this._storedZoomEndParams.event,i=this._storedZoomEndParams.action,o={minVisible:e.startValue,maxVisible:e.endValue,categories:e.categories},u=this.getOptions().type===this._storedZoomEndParams.type,h=u?(0,Mt.zB)(this.getVisualRangeCenter()-this.getVisualRangeCenter(o,!1)):NaN,g=u?+(Math.round(this.getVisualRangeLength(o)/(this.getVisualRangeLength()||1)+"e+2")+"e-2"):NaN,_=this._getZoomEndEventArg(e,t,i,g,h);_.cancel=this.checkZoomingLowerLimitOvercome(1===g?"pan":"zoom",g).stopInteraction,this._eventTrigger("zoomEnd",_),_.cancel&&this._restorePreviousVisualRange(e),this._storedZoomEndParams=null}},_restorePreviousVisualRange(e){this._storedZoomEndParams=null,this._applyZooming(e),this._visualRange(this,e)},checkZoomingLowerLimitOvercome(e,t,i){var _,o=this._options,u=this._translator,h=o.minVisualRangeLength,g=i,f="zoom"===e&&t>=1,A=u.getBusinessRange();i&&(_={minVisible:(_=this.adjustRange((0,H.MG)(i))).startValue,maxVisible:_.endValue,categories:A.categories});var T=this.getVisualRangeLength(A),M=this.getVisualRangeLength(_);if((0,P.$K)(h)||"discrete"===o.type)h=u.convert(h),_&&h<T&&h>=M?(g=(0,H.MG)(u.getRangeByMinZoomValue(h,_)),f=!1):f&=h>M;else{var Z=this._translator.canvasLength;f&=this.getVisualRangeLength({minVisible:A.min,maxVisible:A.max,categories:A.categories})/Z>=M}return{stopInteraction:!!f,correctedRange:g}},isExtremePosition(e){var t,i;"discrete"===this._options.type?(i=this._translator.getBusinessRange(),t=e?i.categories[i.categories.length-1]:i.categories[0]):(i=this.getZoomBounds(),t=e?i.endValue:i.startValue);var o=this.getTranslator(),u=o.translate(t),h=this.visualRange(),g=o.translate(e?h.endValue:h.startValue);return Ve(g-u)<5},getViewport(){return this._viewport},getFullTicks:function(){var e=this._majorTicks||[];return this._options.type===U.Z.discrete?Ct(e):Ct(e.concat(this._minorTicks,this._boundaryTicks)).sort(function(t,i){return(0,H.$z)(t)-(0,H.$z)(i)})},measureLabels:function(e,t){var h,_,i=this,o=i._options,u=o.visible?o.width:0,g=t?o.label.indentFromAxis+.5*o.tick.length:0,f=i._getViewportRange();if(f.isEmpty()||!o.label.visible||!i._axisElementsGroup)return{height:u,width:u,x:0,y:0};i._majorTicks?h=Ct(i._majorTicks):(i.updateCanvas(e),h=i._createTicksAndLabelFormat(f,pe.ZT),_=h.tickInterval,h=h.ticks);var A=h.reduce(function(Z,N,ee){var Q=i.formatLabel(N,o.label,f,void 0,_,h);return Z.length<Q.length?Q:Z},i.formatLabel(h[0],o.label,f,void 0,_,h)),T=i._renderer.text(A,0,0).css(i._textFontStyles).attr(i._textOptions).append(i._renderer.root),M=T.getBBox();return T.remove(),{x:M.x,y:M.y,width:M.width+g,height:M.height+g}},_setLabelsPlacement:function(){if(this._options.label.visible){var h,e=this._options.label,t=this._validateDisplayMode(e.displayMode),i=this._validateOverlappingMode(e.overlappingBehavior,t),o="none"===i||"ignore"===i,u={rotationAngle:e.rotationAngle,staggeringSpacing:e.staggeringSpacing},g=this._majorTicks.map(function(f){return f.labelBBox}),_=this._getStep(g);switch(t){case ei:o&&(h=!0,_=1),this._applyLabelMode(t,_,g,e,h);break;case"stagger":o&&(_=2),this._applyLabelMode(t,gt(_,2),g,e);break;default:this._applyLabelOverlapping(g,i,_,u)}}},_applyLabelOverlapping:function(e,t,i,o){var u=this._options.label,h=this._majorTicks;"none"===t||"ignore"===t||(i>1&&e.some(function(g,_,f){return 0!==_&&U.Z.areLabelsOverlap(g,f[_-1],u.minSpacing,u.alignment)})&&this._applyLabelMode(t,i,e,o),this._checkBoundedLabelsOverlapping(h,e,t),this._checkShiftedLabels(h,e,u.minSpacing,u.alignment))},_applyLabelMode:function(e,t,i,o,u){var f,A,h=this._majorTicks,g=this._options.label,_=o.rotationAngle;switch(e){case ei:g.userAlignment||(A=_<0?_t:lt,_%90==0&&(A=Ut)),Ti(h,t=u?t:this._getStep(i,_),function(M){var Z=M.getContentContainer();!Z||(Z.rotate(_),M.labelRotationAngle=_,A&&(M.labelAlignment=A))});break;case"stagger":f=this._getMaxLabelHeight(i,o.staggeringSpacing),Ti(h,t-1,function(M,Z){Z/(t-1)%2!=0&&(M.labelOffset=f)});break;case"auto":case"_auto":2===t?this._applyLabelMode("stagger",t,i,o):this._applyLabelMode(ei,t,i,{rotationAngle:Ki(i,g)});break;default:Ti(h,t)}},getMarkerTrackers:pe.ZT,_drawDateMarkers:pe.ZT,_adjustDateMarkers:pe.ZT,coordsIn:pe.ZT,areCoordsOutsideAxis:pe.ZT,_getSkippedCategory:pe.ZT,_initAxisPositions:pe.ZT,_drawTitle:pe.ZT,_updateTitleCoords:pe.ZT,_adjustConstantLineLabels:pe.ZT,_createTranslator:function(){return new Xe.r({},{},{})},_updateTranslator:function(){var e=this._translator;e.update(e.getBusinessRange(),this._canvas||{},this._getTranslatorOptions())},_getTranslatorOptions:function(){var e,t,i,o=this._options;return{isHorizontal:this._isHorizontal,shiftZeroValue:!this.isArgumentAxis,interval:o.semiDiscreteInterval,firstDayOfWeek:null===(e=o.workWeek)||void 0===e?void 0:e[0],stick:this._getStick(),breaksSize:null!==(t=null===(i=o.breakStyle)||void 0===i?void 0:i.width)&&void 0!==t?t:0}},getVisibleArea(){var e=this._getCanvasStartEnd();return[e.start,e.end].sort((t,i)=>t-i)},_getCanvasStartEnd:function(){var e=this._isHorizontal,t=this._canvas||{},i=this._translator.getBusinessRange().invert,o=e?[t.left,t.width-t.right]:[t.height-t.bottom,t.top];return i&&o.reverse(),{start:o[0],end:o[1]}},_getScreenDelta:function(){var e=this._getCanvasStartEnd(),t=this._seriesData&&this._seriesData.breaks||[],i=t.length;return Ve(e.start-e.end)-(i?t[i-1].cumulativeWidth:0)},_getScaleBreaks:function(){return[]},_filterBreaks:function(){return[]},_adjustTitle:pe.ZT,_checkTitleOverflow:pe.ZT,getSpiderTicks:pe.ZT,setSpiderTicks:pe.ZT,_checkBoundedLabelsOverlapping:pe.ZT,_checkShiftedLabels:pe.ZT,drawScaleBreaks:pe.ZT,_visualRange:pe.ZT,_rotateConstantLine:pe.ZT,applyVisualRangeSetter(e){this._visualRange=e},getCategoriesSorter(e){return this.isArgumentAxis?e:this._options.categoriesSortingMethod??this._options.categories},_getAdjustedBusinessRange(){return this.adjustViewport(this._translator.getBusinessRange())}}},209:(ri,Et,W)=>{W.d(Et,{j:()=>vt,n:()=>C});var He=W(26372),de=W(64596),H=W(61072),P=W(92657),U=W(23500),Me=He.Z.format,{abs:Ce,floor:Je}=Math,Oe="exponential",Xe=["fixedPoint","thousands","millions","billions","trillions",Oe],_e=["millisecond","second","minute","hour","day","month","year"];function ce(s,v,d,p){var b,S,I,G,j,w=_e.length;"week"===p?p="day":"quarter"===p?p="month":"shorttime"===p?p="hour":"longtime"===p&&(p="second");var te=_e.indexOf(p);if(d){if(S=H.Z.getDatesDifferences(v,d),b=H.Z.getDatesDifferences(v,s),S[p])for(G=w-1;G>=te;G--)if(I=_e[G],G===te)Mt(S,te+(S.millisecond?2:1));else if(S[I]){We(S,G);break}}else for(b=H.Z.getDatesDifferences(s,v),G=w-1;G>=te;G--)if(b[I=_e[G]]){if(G-te>1){for(j=te+1;j>=0;j--)We(b,j);break}if(et(v,I)){for(j=G-1;j>0;j--)We(b,j);break}}return d?S:b}function et(s,v){var b,d=[s.getMilliseconds(),s.getSeconds(),s.getMinutes(),s.getHours(),s.getDate(),s.getMonth()],p=_e.indexOf(v);for(b=0;b<p;b++)if(4===b&&1!==d[b]||4!==b&&0!==d[b])return!1;return!0}function We(s,v){var d=_e[v];s[d]&&(s[d]=!1,s.count--)}function Mt(s,v){var d=_e[v];!1===s[d]&&(s[d]=!0,s.count++)}function pe(s,v){var d,p,b,S=0;for(b=Ce(v-s[0]),d=1;d<s.length;d++)(p=Ce(v-s[d]))<b&&(b=p,S=d);return S}function mt(s){return s.toString().split(".")}function yt(s){var v;return(0,de.mf)(s)&&(v=s,s=null),{type:s,formatter:v}}function vt(s,v){var p,b,S,G,te,J,Ae,Ee,Se,d=v.tickInterval,I=Ce(s).toString(),w=0,j=0,le=0,V=-1,oe=v.labelOptions.format,se=v.ticks,Le="logarithmic"===v.type;if(1===se.length&&0===se.indexOf(s)&&!(0,de.$K)(d)&&(d=Ce(s)>=1?1:(0,P.zB)(1-Ce(s),s)),Object.is(s,-0)&&(s=0),!(0,de.$K)(oe)&&"discrete"!==v.type&&s&&(10===v.logarithmBase||!Le))if("datetime"!==v.dataType&&(0,de.$K)(d)){if(se.length&&-1===se.indexOf(s)&&(V=pe(se,s),d=(0,P.zB)(Ce(s-se[V]),s)),(te=mt(d))<2&&(te=mt(s)),Le)if((Ae=(0,U.ZL)(Ce(s)))>0)G=Xe[Je(Ae/3)]||Oe;else{if(!(Ae<-4))return Me((0,P.zB)(s));G=Oe}else te.length>1&&!(0,de.Cp)(d)?(w=te[1].length,G=Xe[le]):(0,de.Cp)(d)&&(-1!==I.indexOf(".")||(0,de.Cp)(s))?(G=Oe,w=(0,de.Cp)(s)?Math.max(Ce((0,P.dG)(s)-(0,P.dG)(d)),Ce((0,P.p8)(s)-(0,P.p8)(d))):Ce(function je(s){return s.length-parseInt(s).toString().length}(I.split(".")[1])-(0,P.dG)(d)+1)):(p=Je((0,U.ZL)(d)),S=b=Je((0,U.ZL)(Ce(s))),b-p>=2&&(S=p),j=3*(le=Je(S/3)),le<5?(p-j==2&&b>=3&&(j=3*++le),G=Xe[le]):G=Xe[Xe.length-1],j>0&&(te=mt(d/Math.pow(10,j)))[1]&&(w=te[1].length));(void 0!==G||void 0!==w)&&(oe={type:G,precision:w})}else"datetime"===v.dataType&&(G=H.Z.getDateFormatByTickInterval(d),v.showTransition&&se.length&&(V=se.map(Number).indexOf(+s),1===se.length&&0===V?G=He.Z.getDateFormatByTicks(se):(-1===V?Ee=pe(se,s):(Ee=0===V?se.length-1:V-1,Se=0===V?1:-1),J=ce(se[Ee],s,se[Se],G),G=He.Z.getDateFormatByDifferences(J,G))),oe=yt(G));return Me(s,oe)}function C(s){var{startValue:v,endValue:d,tickInterval:p,argumentFormat:b,axisOptions:{dataType:S,type:I,logarithmBase:w}}=s;if("discrete"===I)return"";if("datetime"===S)return function we(s,v,d){var p=ce(s,v),b=H.Z.getDateFormatByTickInterval(d),I=yt(He.Z.getDateFormatByDifferences(p,b)),w=[];if(d in p){var G=function Zt(s,v){var d=!1;for(var p in s)d?s[p]=!1:p===v?d=!0:s[p]=!0;return yt(He.Z.getDateFormatByDifferences(s))}(ce(s,v),d),j=Me(s,G);j&&w.push(j)}else{var te=function Lt(s){var v=!1;for(var d in s)!0===s[d]||"hour"===d||v?(s[d]=!1,v=!0):!1===s[d]&&(s[d]=!0);return yt(He.Z.getDateFormatByDifferences(s))}(ce(s,v)),le=Me(s,te);le&&w.push(le),w.push("".concat(Me(s,I)," - ").concat(Me(v,I)))}return w.join(", ")}(v,d,function Tt(s){if((0,de.Kn)(s)){var v=Object.keys(s);if(1===v.reduce((b,S)=>s[S]+b,0)){var p=v.filter(b=>1===s[b])[0];return p.slice(0,p.length-1)}}return s}(p));var G={ticks:[],type:I,dataType:S,tickInterval:p,logarithmBase:w,labelOptions:{format:b}};return"".concat(vt(v,G)," - ").concat(vt(d,G))}},3241:(ri,Et,W)=>{W.d(Et,{T:()=>vi});var He=W(23500),de=W(61072),H=W(64596),P=W(92657),U=W(83684),Me=de.Z.convertDateUnitToMilliseconds,Ce=de.Z.dateToMilliseconds,Je=Math,Oe=Je.abs,Xe=Je.floor,_e=Je.ceil,ce=Je.pow,et=[1,2,2.5,5],We=[1,2,3,5],Mt={millisecond:[1,2,5,10,25,50,100,250,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2],week:[1,2],month:[1,2,3,6]},je=(0,U.l)({},Mt,{day:[1]}),pe={millisecond:[1,2,5,10,25,50,100,250,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2,3,7,14],month:[1,2,3,6]},mt=[2,4,5,8,10],we=k=>k,Tt=(k,L,z)=>B=>(0,He.RI)(B,k,L,z),d=(k,L,z)=>(B,D)=>(0,P.zB)(k(L((0,P.zB)(z(B)/D))*D));function p(k,L,z,B){return(0,H.$K)(B)?B?k:L:function(D,Y,q,Pe){var fe=k(D,Y);return D-fe==0||!(0,H.$K)(q)||z(D,fe,Y,q)||Pe?fe:L(D,Y)}}function b(k,L,z,B){var D=z-Oe(L-k),Y=Je.max(_e(B.businessDelta/z),2),q=B.screenDelta/(Y*z),Pe=Je.round(q*D),fe=(0,He.RI)(q*z/B.axisDivisionFactor,2)+1,ye=Je.round((B.isSpacedMargin?2:1)*fe*3);return B.businessDelta>B.interval&&Pe>=ye}function S(k){return function(L,z,B,D){return b((0,He.RI)(L,k),(0,He.RI)(z,k),B,D)}}function I(k,L,z,B){return b(k.valueOf(),L.valueOf(),Ce(z),B)}function w(k,L){var z=0;return L&&(z=L.reduce((B,D)=>B+(D.to-D.from),0)),Oe(k.max-k.min-z)}function j(k,L,z,B){var D=L/z-(B||0);return k/(D<1?1:D)}function te(k,L){return ce(10,Xe((0,He.RI)(k,10))+(L||0))}function le(k,L,z,B,D,Y,q,Pe,fe,ke){var ye=j(k,L,D,Pe),Qe=1,Ie=!1===q;return(!B||!z)&&((ye>=1||!Ie&&ye>0)&&(Qe=V(ye,Y,Ie)),(!z||!B&&z<Qe)&&(z=Qe)),!B&&ke&&(ke=V(ke,Y,Ie))>z&&(z=ke),z}function V(k,L,z){var B=te(k,-1),D=1;return L=L||et,k>0&&(k/=B,D=L.concat(10*L[0]).map(Y=>10*Y).reduce((Y,q)=>.1===B&&z&&25===q?Y:Y<k?q:Y,0),D=(0,P.zB)(D*B,B)),D}function J(k,L,z,B){var D=j(k,L,B);return z||mt.reduce((Y,q)=>{var Pe=k/q;return Pe>=D?Pe:Y},0)}function se(k){return function(L,z){var B=te(L);return!k&&B<1&&(B=1),(z=z||We).concat(10*z[0]).reduce((D,Y)=>D<L?Y*B:D,0)}}function Ee(k,L){return function(z,B){return!z&&k<=Me(L,B)&&((z={})[L+"s"]=B),z}}function Se(k,L){return function(z,B){var D=L*B;return!z&&k<=Me("year",D)&&2.5!==D&&(z={years:D}),z}}function Le(k,L,z,B,D,Y,q,Pe,fe,ke){if(!B||!z){var ye=Be(j(k,L,D),Y,0,fe);(!z||!B&&Ce(z)<=Ce(ye))&&(z=ye)}return!B&&ke&&(ke=Be(ke,Y,0,fe),Ce(ke)>Ce(z)&&(z=ke)),z}function Be(k,L,z,B){var D;for(var Y in L=L||function Ae(k){return k&&k>2?je:Mt}(B),L)if(D=L[Y].reduce(Ee(k,Y),D))break;if(!D)for(var q=1;!(D=et.reduce(Se(k,q),D));q*=10);return D}function Fe(k,L,z,B){return Le(k,L,z,!0,B,pe)}function Ge(k,L){return z=>z&&L(Oe((0,P.zB)(k(z[1])-k(z[0]))))||void 0}function Ke(k,L,z){return de.Z.addInterval(k,L,z)}function $e(k,L,z){return Ke(k,L,z)}function Ne(k,L,z){return L=L.filter(B=>!B.gapSize),function(B,D,Y){var q;return B=k(B,D,Y),L.every(Pe=>(B>=k(Pe.from,D)&&k(B,D)<Pe.to&&(q=Pe.to-Pe.from-2*(k(Pe.from,D)-Pe.from)),!q))||(B=z(k(B,q),D)),B}}function dt(k,L,z,B){return function(D,Y,q,Pe,fe,ke,ye,Qe,Ie){var Ct,bt=function Ye(k,L){return function(z){var B;return L.every(D=>(z>=D.from&&z<D.to&&(B=D.gapSize),!B))||(z=k(z,B)),z}}(k,Pe),zt=D.min,nt=D.max,st={screenDelta:ye,businessDelta:ke,axisDivisionFactor:Qe,isSpacedMargin:D.isSpacedMargin,interval:Y},qe=L(zt,Y,st),Ft=[];for(null!=fe&&fe.length&&(k=Ne(k,fe,L)),qe>nt&&(qe=L(zt,z(ke/2),st))>nt&&(qe=L(zt,Y,st,q=!0)),qe=bt(qe);qe<nt&&qe!==Ct||Ie&&qe<=nt;)Ft.push(qe),Ct=qe,qe=bt(k(qe,Y));return(q||qe-nt==0||!(0,H.$K)(q)&&B(nt,qe,Y,st))&&Ft.push(qe),Ft}}function it(k,L,z,B,D){return function(Y,q,Pe,fe,ke,ye,Qe){var Ie=ke/fe,bt=Pe[Pe.length-1],zt=Pe[0],nt=Qe-1;if(null!=ye&&ye.length&&(L=Ne(L,ye,z)),0===(fe=k(fe,zt,zt,Ie)))return[];var st=B(z(Y,ke,Y),fe);fe=k(fe,zt,st,Ie);for(var qe=[];st<zt&&(!nt||nt>0);)st>=Y&&qe.push(st),nt--,st=L(st,fe);var Ft=Pe.reduce((Ve,gt)=>{if(nt=Qe-1,null===Ve.prevTick)return Ve.prevTick=gt,Ve;fe=k(fe,gt,Ve.prevTick,Ie);for(var Pt=B(Ve.prevTick,fe);Pt<gt&&(!nt||nt>0);)Pt!==Ve.prevTick&&Ve.minors.push(Pt),nt--,Pt=L(Pt,fe);return Ve.prevTick=gt,Ve},{prevTick:null,minors:[]});qe=qe.concat(Ft.minors);var Ot,Ct=D(q,ke,Y);for(fe=k(fe,Ct,Ct,Ie),st=B(bt,fe);st<q&&st!==Ot;)qe.push(st),Ot=st,st=L(st,fe);return bt-q!=0&&st-q==0&&qe.push(st),qe}}function kt(k,L){if(L.length){var z=L.reduce((B,D)=>{var q,Y=[];for(q=B[1];q<k.length;q++){var Pe=k[q];if(Pe<D.from&&Y.push(Pe),Pe>=D.to)break}return[B[0].concat(Y),q]},[[],0]);return z[0].concat(k.slice(z[1]))}return k}function xt(k,L,z,B,D,Y,q,Pe,fe,ke){function ye(Qe,Ie,bt){return Qe&&Ie/q(Qe)>=bt+1&&(k.incidentOccurred("W2003"),Qe=void 0),Qe}return function(Qe,Ie,bt,zt,nt,st,qe,Ft){nt=nt||{};var Ve,Ct=L(Qe,Ft),Ot={tickInterval:D((Ve=nt).majors),ticks:Ve.majors||[],minorTickInterval:Y(Ve.minors),minorTicks:Ve.minors||[]};return isNaN(Ct)||(0!==Ct||nt.majors?(Ot=function(Ve,gt,Pt,Jt,ct,Ht,Dt,at){if(Dt.majors)return Ve.breaks=at,Ve;var _t,lt=at.filter(Ut=>Ut.gapSize);return ct=k.skipCalculationLimits?ct:ye(ct,Pt,Jt),ct=z(Pt,Jt,ct,Ht,k.axisDivisionFactor,k.numberMultipliers,k.allowDecimals,at.length,lt[0]&&lt[0].gapSize.days,k.minTickInterval),k.skipTickGeneration||(_t=kt(_t=Pe(gt,ct,k.endOnTick,lt,at,Pt,Jt,k.axisDivisionFactor,k.generateExtraTick),at=ke(at,_t,ct)),Ve.breaks=at,Ve.ticks=Ve.ticks.concat(_t)),Ve.tickInterval=ct,Ve}(Ot,Qe,Ct,Ie,bt,zt,nt,Ft||[]),!k.skipTickGeneration&&Ct>0&&(Ot=function(Ve,gt,Pt,Jt,ct,Ht,Dt){if(!k.calculateMinors||Dt.minors)return Ve;var at=q(Ve.tickInterval),lt=Jt*at/Pt,_t=Ve.breaks;return!ct&&Ht?ct=Y([at/(Ht+1),at/(Ht+1)*2]):Ht=void 0,ct=ye(ct,at,lt),ct=B(at,lt,ct,k.minorAxisDivisionFactor),Ve.minorTicks=kt(Ve.minorTicks.concat(fe(gt.min,gt.max,Ve.ticks,ct,Ve.tickInterval,_t,Ht)),_t),Ve.minorTickInterval=ct,Ve}(Ot,Qe,Ct,Ie,st,qe,nt))):Ot.ticks=[Qe.min]),Ot}}function Qt(k,L,z,B){var[D,Y]=L;return(!(0,H.$K)(D)||Oe(B(k)-B(D))/z>.25)&&((0,H.$K)(Y)&&Oe(B(Y)-B(D))/z<2?D=Y:(0,H.$K)(D)||(D=k)),D}function qt(k,L,z){return function(B,D,Y){var q=k(Y),Pe=.5*q;return B.reduce((fe,ke)=>{var ye=D.filter(bt=>bt<=ke.from),Qe=z(Qt(ke.from,[].concat(ye[ye.length-1],D[ye.length]),q,L),Pe);ye=D.filter(bt=>bt>=ke.to);var Ie=z(Qt(ke.to,[].concat(ye[0],D[D.length-ye.length-1]),q,L),-Pe);return L(Ie)-L(Qe)<q&&!ke.gapSize?fe:fe.concat(ke.gapSize?[ke]:[{from:Qe,to:Ie,cumulativeWidth:ke.cumulativeWidth}])},[])}}var ni=(k,L,z)=>(B,D)=>(0,P.Xx)(B)*(0,P.zB)(k(L(B)((0,P.zB)(z(B)/D))*D));var vi=function(k){var L;return L=k.rangeIsEmpty?function Lt(k){return function(L,z,B,D){var Y=Xe(z/k.axisDivisionFactor),q=z/(Y=Y<1?1:Y);return{ticks:q>0?Array.apply(null,new Array(Y+1)).map((Pe,fe)=>q*fe):[],tickInterval:q}}}(k):"discrete"===k.axisType?function Zt(k){return function(L,z,B,D){var Y=(0,He.Xc)(L.categories,L.min,L.max).categories;return{ticks:Y,tickInterval:_e(Y.length*k.axisDivisionFactor/z)}}}(k):"logarithmic"===k.axisType?function hi(k){var L=k.logBase,z=((k,L,z)=>B=>(0,He.p3)(B,k,L,z))(L,k.allowNegatives,k.linearThreshold),B=Tt(L,k.allowNegatives,k.linearThreshold),D=(k=>L=>0===L?0:(0,He.Bd)(Oe(L),k))(L),Y=(k=>L=>(0,He.e7)(L,k))(L),q=ni(Y,ke=>ke<0?_e:Xe,D),Pe=ni(Y,ke=>ke<0?Xe:_e,D),fe=d(we,_e,we);return xt(k,function G(k,L,z){var B=Tt(k,L,z);return function(D,Y){var q=0;return Y&&(q=Y.reduce((Pe,fe)=>Pe+Oe(B(fe.to/fe.from)),0)),_e(Oe(B(D.max)-B(D.min))-q)}}(L,k.allowNegatives,k.linearThreshold),function oe(k){return function(L,z,B,D,Y,q,Pe,fe,ke,ye){var Qe=j(L,z,Y),Ie=0,bt=se(k);return(!D||!B)&&(Qe>0&&(Ie=bt(Qe,q)),(!B||!D&&B<Ie)&&(B=Ie)),!D&&ye&&(ye=bt(ye,q))>B&&(B=ye),B}}(k.skipCalculationLimits),J,Ge(B,we),Ge(we,we),we,dt(function ft(k,L){return(z,B,D)=>L(Ke(k(z),B,D))}(B,z),p(q,Pe,S(L),k.endOnTick),se(k.skipCalculationLimits),S(L)),it((ke,ye,Qe,Ie)=>Math.max(Math.abs(ye),Math.abs(Qe))/Ie,Ke,q,fe,Pe),qt(we,B,(ke,ye)=>z(B(ke)+ye)))}(k):"datetime"===k.dataType?function Ci(k){function L(B,D){var Y=d(we,Xe,we),q=(0,H.HD)(D)?de.Z.getDateIntervalByString(D.toLowerCase()):D,Pe=Ce(D);(q.days%7==0||D.quarters)&&(q=Be(Pe));var fe=ye=>de.Z.correctDateWithUnitBeginning(ye,q,null,k.firstDayOfWeek),ke=ye=>new Date(Xe((ye.getTime()-6e4*ye.getTimezoneOffset())/Pe)*Pe+6e4*ye.getTimezoneOffset());return B=fe(B),"years"in q?B.setFullYear(Y(B.getFullYear(),q.years)):"quarters"in q?B=fe(ke(B)):"months"in q?B.setMonth(Y(B.getMonth(),q.months)):"weeks"in q||"days"in q?B=fe(ke(B)):"hours"in q?B.setHours(Y(B.getHours(),q.hours)):"minutes"in q?B.setMinutes(Y(B.getMinutes(),q.minutes)):"seconds"in q?B.setSeconds(Y(B.getSeconds(),q.seconds)):"milliseconds"in q&&(B=ke(B)),B}var z=Ge(we,de.Z.convertMillisecondsToDateUnits);return xt(k,w,Le,Fe,z,z,Ce,dt($e,p(L,function(B,D){for(var Y=L(B,D);B-Y>0;)Y=$e(Y,D);return Y},I,k.endOnTick),Be,I),it(we,$e,L,$e,we),qt(Ce,we,(B,D)=>new Date(B.getTime()+D)))}(k):function bi(k){var L=d(we,Xe,we),z=d(we,_e,we),B=Ge(we,we);return xt(k,w,le,J,B,B,we,dt(Ke,p(L,z,b,k.endOnTick),V,b),it(we,Ke,L,Ke,we),qt(we,we,(D,Y)=>D+Y))}(k),L}},77608:(ri,Et,W)=>{W.d(Et,{q:()=>Tt});var He=W(87462),de=W(83684),H=W(91553),P=W(96701),U=W(40557),Me=W(52355),Ce=W(15239),Je=W(95682),Oe=W(64596),Xe=W(56836),_e=W(23500),ce=Array.isArray,Mt="commonAxisSettings",je="default",pe="VISUAL_RANGE";function mt(C){return ce(C)?0===C.length?[{}]:C:[C]}function Lt(C,s,v,d){var p,b;if(v){p={skipEventRising:!0};var S=we(C.fullName,b=C.value);S&&(p={allowPartialUpdate:!0},b=S)}else b=((0,Oe.$K)(d)?C.value[d]:C.value).visualRange;s.visualRange(b,p)}function we(C,s){var v=C.split("."),d=v[v.length-1];if("endValue"===d||"startValue"===d)return{[d]:s}}var Tt=Ce.P.inherit({_fontFields:[Mt+".label.font",Mt+".title.font"],_partialOptionChangesMap:{visualRange:pe,_customVisualRange:pe,strips:"REFRESH_AXES",constantLines:"REFRESH_AXES"},_partialOptionChangesPath:{argumentAxis:["strips","constantLines","visualRange","_customVisualRange"],valueAxis:["strips","constantLines","visualRange","_customVisualRange"]},_initCore(){this._panesClipRects={},this.callBase()},_disposeCore(){var C=this._disposeObjectsInArray,s=this._panesClipRects;this.callBase(),C.call(s,"fixed"),C.call(s,"base"),C.call(s,"wide"),this._panesClipRects=null,this._labelsAxesGroup.linkOff(),this._labelsAxesGroup.dispose(),this._labelsAxesGroup=null},_dispose:function(){var C=this._disposeObjectsInArray;this.callBase(),this.panes=null,this._legend&&(this._legend.dispose(),this._legend=null),C.call(this,"panesBackground"),C.call(this,"seriesFamilies"),this._disposeAxes()},_createPanes:function(){this._cleanPanesClipRects("fixed"),this._cleanPanesClipRects("base"),this._cleanPanesClipRects("wide")},_cleanPanesClipRects(C){(this._panesClipRects[C]||[]).forEach(v=>v&&v.dispose()),this._panesClipRects[C]=[]},_getElementsClipRectID(C){var s=this._panesClipRects.fixed[this._getPaneIndex(C)];return s&&s.id},_getPaneIndex(C){var s,v=C||je;return(0,H.S6)(this.panes,(d,p)=>{if(p.name===v)return s=d,!1}),s},_updateSize(){this.callBase(),(0,_e.Oy)(this._canvas)},_reinitAxes:function(){this.panes=this._createPanes(),this._populateAxes(),this._axesReinitialized=!0},_populateAxes(){var S,j,C=this,s=C.panes,v=C._isRotated(),d=mt(C.option("argumentAxis")||{})[0],p=C.option("valueAxis"),b=mt(p||{}),I=[],w=[],G=0,te=C._getCrosshairMargins();j=v?"right"===d.position?s[s.length-1].name:s[0].name:"top"===d.position?s[0].name:s[s.length-1].name,S=(0,_e.UI)(s,le=>C._populateAxesOptions("argumentAxis",d,{pane:le.name,name:null,optionPath:"argumentAxis",crosshairMargin:v?te.x:te.y},v,le.name!==j)),(0,H.S6)(b,(le,V)=>{var J,oe=[],se=V.name;se&&w.includes(se)?C._incidentOccurred("E2102"):(se&&w.push(se),V.pane&&oe.push(V.pane),null!==(J=V.panes)&&void 0!==J&&J.length&&(oe=oe.concat(V.panes.slice(0))),(oe=(0,_e.Tw)(oe)).length||oe.push(void 0),(0,H.S6)(oe,(Ae,Ee)=>{var Se=ce(p)?"valueAxis[".concat(le,"]"):"valueAxis";I.push(C._populateAxesOptions("valueAxis",V,{name:se||"defaultAxisName"+G++,pane:Ee,priority:le,optionPath:Se,crosshairMargin:v?te.y:te.x},v))}))}),C._redesignAxes(S,!0,j),C._redesignAxes(I,!1)},_redesignAxes(C,s,v){var d=this,p=[],b=s?d._argumentAxes:d._valueAxes;(0,H.S6)(C,(S,I)=>{var w=b&&b.filter(G=>G.name===I.name&&(!(0,Oe.$K)(I.pane)&&d.panes.some(j=>j.name===G.pane)||G.pane===I.pane));w&&w.length>0?(0,H.S6)(w,(G,j)=>{var te=function Zt(C,s,v){if(v)return{argumentAxisType:C.argumentAxisType,argumentType:C.argumentType};var{valueAxisType:d,valueType:p}=C.groups.filter(b=>b.valueAxis===s)[0];return{valueAxisType:d,valueType:p}}(d._groupsData,j,s);j.updateOptions(I),s?j.setTypes(te.argumentAxisType,te.argumentType,"argumentType"):j.setTypes(te.valueAxisType,te.valueType,"valueType"),j.validate(),p.push({axis:j})}):p.push({options:I})}),b?(0,H.iY)(b,(S,I)=>{p.some(w=>w.axis&&w.axis===I)||d._disposeAxis(S,s)}):b=s?d._argumentAxes=[]:d._valueAxes=[],(0,H.S6)(p,(S,I)=>{var w=I.axis;I.axis&&s?I.axis.isVirtual=I.axis.pane!==v:I.options&&(w=d._createAxis(s,I.options,s?I.options.pane!==v:void 0),b.push(w)),w.applyVisualRangeSetter(d._getVisualRangeSetter())})},_disposeAxis(C,s){var v=s?this._argumentAxes:this._valueAxes,d=v[C];!d||(d.dispose(),v.splice(C,1))},_disposeAxes:function(){var C=this._disposeObjectsInArray;C.call(this,"_argumentAxes"),C.call(this,"_valueAxes")},_appendAdditionalSeriesGroups:function(){this._crosshairCursorGroup.linkAppend(),this._scrollBar&&this._scrollBarGroup.linkAppend()},_getLegendTargets:function(){return(this.series||[]).map(C=>{var s=this._getLegendOptions(C);return s.legendData.series=C,C.getOptions().showInLegend||(s.legendData.visible=!1),s})},_legendItemTextField:"name",_seriesPopulatedHandlerCore:function(){this._processSeriesFamilies(),this._processValueAxisFormat()},_renderTrackers:function(){var C;for(C=0;C<this.series.length;++C)this.series[C].drawTrackers()},_specialProcessSeries:function(){this._processSeriesFamilies()},_processSeriesFamilies:function(){var C,p,s=this,v=[],d=[],b=s._themeManager,S=b.getOptions("negativesAsZeroes"),I=b.getOptions("negativesAsZeros"),w={minBubbleSize:b.getOptions("minBubbleSize"),maxBubbleSize:b.getOptions("maxBubbleSize"),barGroupPadding:b.getOptions("barGroupPadding"),barGroupWidth:b.getOptions("barGroupWidth"),negativesAsZeroes:(0,Oe.$K)(S)?S:I};null!==(C=s.seriesFamilies)&&void 0!==C&&C.length?(0,H.S6)(s.seriesFamilies,function(G,j){j.updateOptions(w),j.adjustSeriesValues()}):((0,H.S6)(s.series,function(G,j){v.includes(j.type)||v.push(j.type)}),(0,H.S6)(s._getLayoutTargets(),function(G,j){p=s._getSeriesForPane(j.name),(0,H.S6)(v,function(te,le){var V=new Me.x({type:le,pane:j.name,minBubbleSize:w.minBubbleSize,maxBubbleSize:w.maxBubbleSize,barGroupPadding:w.barGroupPadding,barGroupWidth:w.barGroupWidth,negativesAsZeroes:w.negativesAsZeroes,rotated:s._isRotated()});V.add(p),V.adjustSeriesValues(),d.push(V)})}),s.seriesFamilies=d)},_updateSeriesDimensions:function(){var C,s=this.seriesFamilies||[];for(C=0;C<s.length;C++){var v=s[C];v.updateSeriesValues(),v.adjustSeriesDimensions()}},_getLegendCallBack:function(C){return this._legend&&this._legend.getActionCallback(C)},_appendAxesGroups:function(){this._stripsGroup.linkAppend(),this._gridGroup.linkAppend(),this._axesGroup.linkAppend(),this._labelsAxesGroup.linkAppend(),this._constantLinesGroup.linkAppend(),this._stripLabelAxesGroup.linkAppend(),this._scaleBreaksGroup.linkAppend()},_populateMarginOptions(){var C=this,s=function vt(C,s,v,d){return Math.min(d?C.width/s:C.width,d?C.height:C.height/s)*v}(C.getSize(),C.panes.length,C._themeManager.getOptions("maxBubbleSize"),C._isRotated()),v={};C._valueAxes.forEach(d=>{var p=C.series.filter(function(S){return S.getValueAxis()===d}),b={};p.forEach(S=>{if(S.isVisible()){var I=function yt(C,s){return C.processBubbleSize&&(C.size=s),C}(S.getMarginOptions(),s);b=(0,_e.Jr)(b,I),v=(0,_e.Jr)(v,I)}}),d.setMarginOptions(b)}),C._argumentAxes.forEach(d=>d.setMarginOptions(v))},_populateBusinessRange(C,s){var v=this,d=v._isRotated(),p=v._getVisibleSeries(),b={},S=new P.e({rotated:!!d}),I=G=>G.pane||je;if(v.panes.forEach(G=>b[G.name]=new P.e({rotated:!!d})),v._valueAxes.forEach(G=>{var j=new P.e({rotated:!!d,pane:G.pane,axis:G.name}),te=p.filter(le=>le.getValueAxis()===G);te.forEach(le=>{var V=le.getRangeData();j.addRange(V.val),b[I(G)].addRange(V.arg)}),(!C||C&&te.length&&G===C)&&(G.setGroupSeries(te),G.setBusinessRange(j,v._axesReinitialized||s,v._argumentAxes[0]._lastVisualRangeUpdateMode))}),!C||C&&p.length){Object.keys(b).forEach(G=>S.addRange(b[G]));var w=S.interval;v._argumentAxes.forEach(G=>{var j,te=null!==(j=b[I(G)].interval)&&void 0!==j?j:w;G.setBusinessRange(new P.e((0,He.Z)({},S,{interval:te})),v._axesReinitialized,void 0,v._groupsData.categories)})}v._populateMarginOptions()},getArgumentAxis:function(){return(this._argumentAxes||[]).filter(C=>!C.isVirtual)[0]},getValueAxis:function(C){return(this._valueAxes||[]).filter((0,Oe.$K)(C)?s=>s.name===C:s=>s.pane===this.defaultPane)[0]},_getGroupsData:function(){var C=this,s=[];return C._valueAxes.forEach(function(v){s.push({series:C.series.filter(function(d){return d.getValueAxis()===v}),valueAxis:v,valueOptions:v.getOptions()})}),{groups:s,argumentAxes:C._argumentAxes,argumentOptions:C._argumentAxes[0].getOptions()}},_groupSeries:function(){this._correctValueAxes(!1),this._groupsData=this._getGroupsData()},_processValueAxisFormat:function(){var C=[];this.series.forEach(function(s){var v=s.getValueAxis();s.isFullStackedSeries()&&(v.setPercentLabelFormat(),C.push(v))}),this._valueAxes.forEach(function(s){-1===C.indexOf(s)&&s.resetAutoLabelFormat()})},_populateAxesOptions(C,s,v,d,p){var b=this._prepareStripsAndConstantLines(C,s,d),S=(0,de.l)(!0,{},b,v,this._prepareAxisOptions(C,b,d));return p&&(S.visible=S.tick.visible=S.minorTick.visible=S.label.visible=!1,S.title={}),S},_getValFilter:C=>Je.Z.getViewPortFilter(C.getValueAxis().visualRange()||{}),_createAxis(C,s,v){var d=this,b=(0,de.l)({renderer:d._renderer,incidentOccurred:d._incidentOccurred,eventTrigger:d._eventTrigger,axisClass:C?"arg":"val",widgetClass:"dxc",stripsGroup:d._stripsGroup,stripLabelAxesGroup:d._stripLabelAxesGroup,constantLinesGroup:d._constantLinesGroup,scaleBreaksGroup:d._scaleBreaksGroup,axesContainerGroup:d._axesGroup,labelsAxesGroup:d._labelsAxesGroup,gridGroup:d._gridGroup,isArgumentAxis:C,getTemplate:I=>d._getTemplate(I)},d._getAxisRenderingOptions(C?"argumentAxis":"valueAxis")),S=new U.R(b);return S.updateOptions(s),S.isVirtual=v,S},_applyVisualRangeByVirtualAxes:(C,s)=>!1,_applyCustomVisualRangeOption(C,s){C.getOptions().optionPath&&this._parseVisualRangeOption("".concat(C.getOptions().optionPath,".visualRange"),s)},_getVisualRangeSetter(){var C=this;return function(s,v){var{skipEventRising:d,range:p}=v;C._applyCustomVisualRangeOption(s,p),s.setCustomVisualRange(p),s.skipEventRising=d,C._applyVisualRangeByVirtualAxes(s,p)||(C._applyingChanges?C._change_VISUAL_RANGE():C._requestChange([pe]))}},_getTrackerSettings:function(){return(0,de.l)(this.callBase(),{argumentAxis:this.getArgumentAxis()})},_prepareStripsAndConstantLines:function(C,s,v){return(s=this._themeManager.getOptions(C,s,v)).strips&&(0,H.S6)(s.strips,function(d){s.strips[d]=(0,de.l)(!0,{},s.stripStyle,s.strips[d])}),s.constantLines&&(0,H.S6)(s.constantLines,function(d,p){s.constantLines[d]=(0,de.l)(!0,{},s.constantLineStyle,p)}),s},refresh:function(){this._disposeAxes(),this.callBase()},_layoutAxes(C){C();var s=this.checkForMoreSpaceForPanesCanvas();if(s){var v=this._rect.slice(),d=this._layout.backward(v,v,[s.width,s.height]);s.width=Math.max(0,d[0]),s.height=Math.max(0,d[1]),this._canvas=this._createCanvasFromRect(v),C(s)}},checkForMoreSpaceForPanesCanvas(){return this.layoutManager.needMoreSpaceForPanesCanvas(this._getLayoutTargets(),this._isRotated())},_parseVisualRangeOption(C,s){var v=this,d=C.split(/[.[]/)[0],p=C.match(/\d+/g);p=(0,Oe.$K)(p)?parseInt(p[0]):p,C.indexOf("visualRange")>0?("object"!==(0,Oe.dt)(s)&&(s=we(C,s)||s),v._setCustomVisualRange(d,p,s)):("object"===(0,Oe.dt)(s)||ce(s))&&d.indexOf("Axis")>0&&JSON.stringify(s).indexOf("visualRange")>0&&((0,Oe.$K)(s.visualRange)?v._setCustomVisualRange(d,p,s.visualRange):ce(s)&&s.forEach((b,S)=>(0,Oe.$K)(b.visualRange)&&v._setCustomVisualRange(d,S,b.visualRange)))},_setCustomVisualRange(C,s,v){var d=this._options.silent(C);!d||((0,Oe.$K)(s)?d[s]._customVisualRange=v:d._customVisualRange=v,this._axesReinitialized=!0)},_raiseZoomEndHandlers(){this._valueAxes.forEach(C=>C.handleZoomEnd())},_setOptionsByReference(){this.callBase(),(0,de.l)(this._optionsByReference,{"valueAxis.visualRange":!0})},_notifyOptionChanged(C,s,v){this.callBase.apply(this,arguments),this._optionChangedLocker||this._parseVisualRangeOption(C,s)},_notifyVisualRange(){var C=this;C._valueAxes.forEach(s=>{var v=s.getOptions().optionPath;if(v){var d="".concat(v,".visualRange"),p=(0,_e.n4)(s.visualRange(),!ce(C.option(d)));s.skipEventRising&&(0,_e.db)(p,C.option(d))?s.skipEventRising=null:C.option(v)||"valueAxis"===v?C.option(d,p):C.option(v,{name:s.name,visualRange:p})}})},_notify(){this.callBase(),this._axesReinitialized=!1,!0!==this.option("disableTwoWayBinding")&&(this.skipOptionsRollBack=!0,this._notifyVisualRange(),this.skipOptionsRollBack=!1)},_getAxesForScaling(){return this._valueAxes},_getAxesByOptionPath(C,s,v){var b,d=this._getAxesForScaling(),p=[];return s?(C.fullName&&(b=C.fullName.slice(0,C.fullName.indexOf("."))),p=d.filter(S=>S.getOptions().optionPath===b)):"object"===(0,Oe.dt)(C.value)?p=d.filter(S=>S.getOptions().optionPath===C.name):ce(C.value)&&C.value.forEach((S,I)=>{var w=d.filter(G=>G.getOptions().optionPath==="".concat(C.name,"[").concat(I,"]"))[0];(0,Oe.$K)(S[v])&&(0,Oe.$K)(w)&&(p[I]=w)}),p},_optionChanged(C){if(!this._optionChangedLocker){var s,v=C.fullName.indexOf("visualRange")>0||!(this.getPartialChangeOptionsName(C).indexOf("visualRange")>-1)&&void 0;(0,Oe.$K)(v)&&(s=this._getAxesByOptionPath(C,v,"visualRange"))&&(s.length>1||ce(C.value)?s.forEach((d,p)=>Lt(C,d,v,p)):1===s.length&&Lt(C,s[0],v))}this.callBase(C)},_change_VISUAL_RANGE:function(){if(this._recreateSizeDependentObjects(!1),!this._changes.has("FULL_RENDER")){var C=this.option("resizePanesOnZoom");this._doRender({force:!0,drawTitle:!1,drawLegend:!1,adjustAxes:C??(this.option("adjustAxesOnZoom")||!1),animate:!1}),this._raiseZoomEndHandlers()}},resetVisualRange(){var C=this;C._valueAxes.forEach(s=>{s.resetVisualRange(!1),C._applyCustomVisualRangeOption(s)}),C._requestChange([pe])},_getCrosshairMargins:()=>({x:0,y:0}),_legendDataField:"series",_adjustSeriesLabels:Xe.ZT,_correctValueAxes:Xe.ZT})},52355:(ri,Et,W)=>{W.d(Et,{x:()=>le});var He=W(64596),de=W(83684),H=W(91553),P=W(92657),U=W(56836),Me=W(23500),Ce=W(61072),{round:Je,abs:Oe,pow:Xe,sqrt:_e}=Math,ce=Math.min;function mt(V){return V.getStackName()||V.getBarOverlapGroup()}function yt(V,J,oe){var se,Ae,Ge,Ee=[],Se=[],Le={},Be=J.barGroupWidth,Fe=null===(se=V[0])||void 0===se?void 0:se.getArgumentAxis();if(null!==(Ae=V[0])&&void 0!==Ae&&Ae.useAggregation()){var Ke,ft="datetime"===(null===(Ke=V[0])||void 0===Ke?void 0:Ke.argumentType),$e=Fe.getTickInterval(),Ne=Fe.getAggregationInterval();$e=ft?Ce.Z.dateToMilliseconds($e):$e,Ge=(Ne=ft?Ce.Z.dateToMilliseconds(Ne):Ne)<$e?Ne:$e}Ge=Fe?.getTranslator().getInterval(Ge);var dt=Be?Ge>Be?Be:Ge:Ge*(1-function Mt(V){return V<0||V>1?.3:V}(J.barGroupPadding));V.forEach(function(it,kt){var xt,Ye=mt(it)||kt.toString();for(xt in it.pointsByArgument)-1===Se.indexOf(xt.valueOf())&&Se.push(xt.valueOf());-1===Ee.indexOf(Ye)&&(Ee.push(Ye),Le[Ye]=[]),Le[Ye].push(it)}),Se.forEach(function(it){var kt=Ee.reduce((xt,Qt)=>(function je(V,J){return V.some(function(oe){return!oe.getOptions().ignoreEmptyPoints||oe.getPointsByArg(J,!0).some(function(se){return se.hasValue()})})}(Le[Qt],it)&&xt.push(Qt),xt),[]),Ye=vt(dt,kt.length);Ee.forEach(xt=>{!function pe(V,J,oe,se,Ae,Ee,Se){V.forEach(function(Le){var Ne,Be=Se(J.indexOf(se),J.length),Fe=Le.getPointsByArg(oe,!0),Ge=function We(V){return V<0||V>1?void 0:V}(Le.getOptions().barPadding),Ke=Le.getOptions().barWidth,ft=Lt(Be,Ae),$e=Ae.width;-1!==Be&&(((0,He.$K)(Ge)||(0,He.$K)(Ke))&&($e=(Ne=vt(Ee,J.length,1-Ge,Ke)).width,Le.getBarOverlapGroup()||(ft=Lt(Be,Ne))),function Zt(V,J,oe){(0,H.S6)(V,function(se,Ae){Ae.correctCoordinates({width:J,offset:oe})})}(Fe,$e,ft))})}(Le[xt],kt,it,xt,Ye,dt,oe)})})}function vt(V,J,oe,se){var Ae,Ee;return se?(Ee=ce(se,V/J),Ae=J>1?Je((V-Je(Ee)*J)/(J-1)):0):(0,He.$K)(oe)?(Ee=V*oe/J,Ae=J>1?Je((V-V*oe)/(J-1)):0):Ee=(V-(Ae=Je(V/J*.2))*(J-1))/J,{width:Ee>1?Je(Ee):1,spacing:Ae,middleIndex:J/2,rawWidth:Ee}}function Lt(V,J){return(V-J.middleIndex+.5)*(J.rawWidth<1?J.rawWidth:J.width)-(J.middleIndex-V-.5)*J.spacing}function Tt(V){return V.series.filter(function(J){return J.isVisible()})}function C(V,J,oe){return((V.positive[J]||{})[oe]||0)+(-(V.negative[J]||{})[oe]||0)}function v(V){return V?function(J,oe){return oe-J-1}:function(J){return J}}function d(V){return V[0]&&V[0].getArgumentAxis().getTranslator().isInverted()}function p(){var V=Tt(this);yt(V,this._options,v(d(V)))}function S(){var V=this._options.negativesAsZeroes,J=Tt(this),oe={positive:{},negative:{}},se={left:{},right:{}},Ae={},Ee={};J.forEach(function(Se){var Le=mt(Se),Be=!1,Fe=function b(V){for(var oe,J=V.getPoints(),se=0;se<J.length;se++){var Ae=J[se];if(oe=Ae.initialValue&&Ae.initialValue.valueOf(),Oe(oe)>0)break}return(0,P.Xx)(oe)}(Se)<0?Ee:Ae;Se._prevSeries=Fe[Le],Fe[Le]=Se,Se.holes=(0,de.l)(!0,{},se),Se.getPoints().forEach(function(Ge,Ke,ft){var $e=Ge.initialValue&&Ge.initialValue.valueOf(),Ne=Ge.argument.valueOf(),dt=$e>=0?oe.positive:oe.negative,it="bar"!==Se.type;V&&$e<0&&(dt=oe.positive,$e=0,Ge.resetValue()),dt[Le]=dt[Le]||{};var kt=dt[Le];if(kt[Ne]?(it&&Ge.correctValue(kt[Ne]),kt[Ne]+=$e):(kt[Ne]=$e,it&&Ge.resetCorrection()),Ge.hasValue())Be&&(Be=!1,se.left[Ne]=(se.left[Ne]||0)+(Ge.value.valueOf()-(isFinite(Ge.minValue)?Ge.minValue.valueOf():0)),Ge._skipSetLeftHole=!0);else{var Ye=ft[Ke-1];!Be&&Ye&&Ye.hasValue()&&(Ne=Ye.argument.valueOf(),Ye._skipSetRightHole=!0,se.right[Ne]=(se.right[Ne]||0)+(Ye.value.valueOf()-(isFinite(Ye.minValue)?Ye.minValue.valueOf():0))),Be=!0}})}),J.forEach(function(Se){var Le=Se.holes;Se.getPoints().forEach(function(Be){var Fe=Be.argument.valueOf();Be.resetHoles(),!Be._skipSetLeftHole&&Be.setHole(Le.left[Fe]||se.left[Fe]&&0,"left"),!Be._skipSetRightHole&&Be.setHole(Le.right[Fe]||se.right[Fe]&&0,"right"),Be._skipSetLeftHole=null,Be._skipSetRightHole=null})}),this._stackKeepers=oe,J.forEach(function(Se){Se.getPoints().forEach(function(Le){var Be=Le.argument.valueOf(),Fe=mt(Se),Ge=C(oe,Fe,Be),Ke=function s(V,J,oe){return((V.positive[J]||{})[oe]||0)+((V.negative[J]||{})[oe]||0)}(oe,Fe,Be);Le.setPercentValue(Ge,Ke,se.left[Be],se.right[Be])})})}function I(){var V=this,J=Tt(V),oe=V._stackKeepers,se={positive:{},negative:{}};(0,H.S6)(J,function(Ae,Ee){var Se=Ee.getOptions().minBarSize,Le=Ee.getValueAxis().getTranslator(),Be=Se&&Le.getMinBarSize(Se),Fe=Ee.getStackName();(0,H.S6)(Ee.getPoints(),function(Ge,Ke){if(Ke.hasValue()){var ft=Ke.initialValue&&Ke.initialValue.valueOf(),$e=Ke.argument.valueOf();V.fullStacked&&(ft=ft/C(oe,Fe,$e)||0);var Ne=Le.checkMinBarSize(ft,Be,Ke.value),dt=function we(V){return V>=0?"positive":"negative"}(Ne),it=se[dt][Fe]=se[dt][Fe]||{};it[$e]?(Ke.minValue=it[$e],it[$e]+=Ne):it[$e]=Ne,Ke.value=it[$e]}})}),V.fullStacked&&function w(V,J){(0,H.S6)(V,function(oe,se){var Ae=se.getStackName?se.getStackName():"default";(0,H.S6)(se.getPoints(),function(Ee,Se){var Le=C(J,Ae,Se.argument.valueOf());0!==Le&&(Se.value=Se.value/Le,(0,He.kE)(Se.minValue)&&(Se.minValue=Se.minValue/Le))})})}(J,se)}function G(){(0,H.S6)(this.series,function(V,J){var oe=J.getOptions().minBarSize,se=J.getValueAxis().getTranslator(),Ae=oe&&se.getMinBarSize(oe);Ae&&(0,H.S6)(J.getPoints(),function(Ee,Se){Se.hasValue()&&(Se.value=se.checkMinBarSize(Se.initialValue,Ae))})})}function j(){var V=Tt(this);yt(V,{barGroupPadding:.3},v(d(V)))}function te(){var V=Tt(this);if(V.length){var Ge,ft,J=this._options,oe=V[0].getArgumentAxis().getVisibleArea(),se=V[0].getValueAxis().getVisibleArea(),Ae=ce(oe[1]-oe[0],se[1]-se[0]),Ee=Xe(J.minBubbleSize,2),Se=Xe(Ae*J.maxBubbleSize,2),Le=(Ae*J.maxBubbleSize+J.minBubbleSize)/2,Be=1/0,Fe=-1/0;(0,H.S6)(V,function(dt,it){(0,H.S6)(it.getPoints(),function(kt,Ye){Fe=Fe>Ye.size?Fe:Ye.size,Be=Be<Ye.size?Be:Ye.size})});var $e=Fe-Be,Ne=Oe(Se-Ee);(0,H.S6)(V,function(dt,it){(0,H.S6)(it.getPoints(),function(kt,Ye){Fe===Be?Ge=Je(Le):(ft=Oe(Ye.size-Be)/$e,Ge=Je(_e(Ne*ft+Ee))),Ye.correctCoordinates(Ge)})})}}function le(V){switch(this.type=(0,Me.ps)(V.type),this.pane=V.pane,this.series=[],this.updateOptions(V),this.type){case"bar":this.adjustSeriesDimensions=p,this.updateSeriesValues=G,this.adjustSeriesValues=S;break;case"rangebar":this.adjustSeriesDimensions=p;break;case"fullstackedbar":this.fullStacked=!0,this.adjustSeriesDimensions=p,this.adjustSeriesValues=S,this.updateSeriesValues=I;break;case"stackedbar":this.adjustSeriesDimensions=p,this.adjustSeriesValues=S,this.updateSeriesValues=I;break;case"fullstackedarea":case"fullstackedline":case"fullstackedspline":case"fullstackedsplinearea":this.fullStacked=!0,this.adjustSeriesValues=S;break;case"stackedarea":case"stackedsplinearea":case"stackedline":case"stackedspline":this.adjustSeriesValues=S;break;case"candlestick":case"stock":this.adjustSeriesDimensions=j;break;case"bubble":this.adjustSeriesDimensions=te}}le.prototype={constructor:le,adjustSeriesDimensions:U.ZT,adjustSeriesValues:U.ZT,updateSeriesValues:U.ZT,updateOptions:function(V){this._options=V},dispose:function(){this.series=null},add:function(V){var J=this.type;this.series=(0,Me.UI)(V,oe=>oe.type===J?oe:null)}}},30523:(ri,Et,W)=>{W.d(Et,{r:()=>C});var He=W(83684),de=W(91553),H=W(96701),P=W(64596),U=W(92657),Me=Math.round;function Ce(s){return s}const Je={translate:function(s,v){var d=this._canvasOptions,p=this._categoriesToPoints[s?.valueOf()],b=this.translateSpecialCase(s),S=d.startPointIndex||0,I=this._options.stick?0:.5;return(0,P.$K)(b)?Me(b):p||0===p?Me(this._calculateProjection(d.interval*(p+I-S+.5*(v=v||0)))):null},getInterval:function(){return this._canvasOptions.interval},getEventScale:function(s){return 1-(1-(s.deltaScale||1))/(.75+this.visibleCategories.length/this._categories.length)},zoom:function(s,v){var le,d=this._categories,p=this._canvasOptions,b=this._options.stick,S=p.invert,I=p.interval*v,w=s/I,G=(this.visibleCategories||[]).length,j=parseInt((p.startPointIndex||0)+w+.5),te=parseInt((0,U.zB)(p.canvasLength/I)+(b?1:0))||1;S&&(j=parseInt((p.startPointIndex||0)+G-w+.5)-te),j<0&&(j=0),(le=j+te)>d.length&&(j=(le=d.length)-te)<0&&(j=0);var V=d.slice(parseInt(j),parseInt(le)),J=this._getDiscreteInterval(V.length,p);return v=J/p.interval,s=this.translate(S?V[V.length-1]:V[0])*v-(p.startPoint+(b?0:J/2)),{min:V[0],max:V[V.length-1],translate:s,scale:v}},getMinScale:function(s){var v=this._canvasOptions,d=(this.visibleCategories||this._categories).length;return d+=(parseInt(.1*d)||1)*(s?-2:2),v.canvasLength/(Math.max(d,1)*v.interval)},getScale:function(s,v){var d=this._canvasOptions,p=this.getCanvasVisibleArea(),b=!this._options.stick&&1,S=(0,P.$K)(s)?this.translate(s,-b):null,I=(0,P.$K)(v)?this.translate(v,+b):null;return null===S&&(S=d.invert?p.max:p.min),null===I&&(I=d.invert?p.min:p.max),this.canvasLength/Math.abs(I-S)},isValid:function(s){return!!(0,P.$K)(s)&&this._categoriesToPoints[s.valueOf()]>=0},getCorrectValue:Ce,to:function(s,v){var d=this._canvasOptions,p=this._categoriesToPoints[s?.valueOf()];return Me(this._calculateProjection(d.interval*(p+(this._options.stick?0:.5)-(d.startPointIndex||0)+(this._businessRange.invert?-1:1)*v*.5)))},from:function(s){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=this._canvasOptions,p=d.startPoint,b=this.visibleCategories||this._categories,S=b.length,I=this._options.stick?.5:0,w=Me((s-p)/d.interval+I-.5-.5*v);return w>=S&&(w=S-1),w<0&&(w=0),d.invert&&(w=S-w-1),b[w]},_add:function(){return NaN},toValue:Ce,isValueProlonged:!0,getRangeByMinZoomValue(s,v){var d=this._categories,p=d.indexOf(v.minVisible),b=d.indexOf(v.maxVisible),S=p+s-1;return d[S]?[v.minVisible,d[S]]:[d[b-s+1],v.maxVisible]}};var Oe=W(61072),Xe=Math.floor;const _e={_intervalize:function(s,v){if((0,P.$K)(s))return"datetime"===this._businessRange.dataType?(s=(0,P.kE)(s)?new Date(s):new Date(s.getTime()),s=Oe.Z.correctDateWithUnitBeginning(s,v,null,this._options.firstDayOfWeek)):s=(0,U.zB)(Xe((0,U.zB)(s/v))*v,v),s},translate:function(s,v,d){var p=this.translateSpecialCase(s);return(0,P.$K)(p)?Math.round(p):this.isValid(s,d=d||this._options.interval)?this.to(s,v,d):null},getInterval:function(){return Math.round(this._canvasOptions.ratioOfCanvasRange*(this._businessRange.interval||Math.abs(this._canvasOptions.rangeMax-this._canvasOptions.rangeMin)))},zoom:function(){},getMinScale:function(){},getScale:function(){},_parse:function(s){return"datetime"===this._businessRange.dataType?new Date(s):Number(s)},fromValue:function(s){return this._parse(s)},toValue:function(s){return this._parse(s)},isValid:function(s,v){var d=this._canvasOptions,p=d.rangeMin,b=d.rangeMax;return v=v||this._options.interval,!(null===s||isNaN(s)||(s="datetime"===this._businessRange.dataType&&(0,P.kE)(s)?new Date(s):s,v!==this._options.interval&&(p=this._intervalize(p,v),b=this._intervalize(b,v)),s.valueOf()<p||s.valueOf()>=Oe.Z.addInterval(b,v)))},to:function(s,v,d){var p=this._intervalize(s,d=d||this._options.interval),b=Oe.Z.addInterval(p,d),S=this._to(p),I=this._to(b);return v?v>0&&(S=I):S=Xe((S+I)/2),S},_to:function(s){var v=this._canvasOptions,d=v.rangeMinVisible,p=v.rangeMaxVisible,b=s-d;return s<d?b=0:s>p&&(b=Oe.Z.addInterval(p,this._options.interval)-d),this._conversionValue(this._calculateProjection(b*this._canvasOptions.ratioOfCanvasRange))},from:function(s,v){var w,d=this._options.interval,p=d,b=this._canvasOptions,S=b.rangeMinVisible,I=b.rangeMaxVisible;return"datetime"===this._businessRange.dataType&&(p=Oe.Z.dateToMilliseconds(d)),w=this._calculateUnProjection((s-this._canvasOptions.startPoint)/this._canvasOptions.ratioOfCanvasRange),(w=this._intervalize(Oe.Z.addInterval(w,p/2,v>0),d))<S?w=S:w>I&&(w=I),w},_add:function(){return NaN},isValueProlonged:!0};function ce(s){return null!==s?new Date(s):s}const et={fromValue:ce,toValue:ce,_add:Oe.Z.addDateInterval,convert:Oe.Z.dateToMilliseconds};var We=W(23500);const Mt={fromValue:function(s){return null!==s?(0,We.RI)(s,this._canvasOptions.base,this._businessRange.allowNegatives,this._businessRange.linearThreshold):s},toValue:function(s){return null!==s?(0,We.p3)(s,this._canvasOptions.base,this._businessRange.allowNegatives,this._businessRange.linearThreshold):s},getMinBarSize:function(s){var v=this.getCanvasVisibleArea(),d=this.from(v.min+s),p=this._canvasOptions;return Math.pow(p.base,p.rangeMinVisible+this.fromValue(this.from(v.min))-this.fromValue((0,P.$K)(d)?d:this.from(v.max)))},checkMinBarSize:function(s,v,d){var I,w,p=this._canvasOptions,b=d-s,S=this.constructor.prototype.checkMinBarSize;return(0,P.$K)(v)&&b>0?(I=S(this.fromValue(d/b),this.fromValue(v)-p.rangeMinVisible),w=Math.pow(p.base,this.fromValue(b)+I)-b):w=S(s,v),w}};var je=Math.abs,pe=["width","height","left","top","bottom","right"],mt={to(s){var v=this._canvasOptions.startPoint+(this._options.conversionValue?s:Math.round(s));return v>this._canvasOptions.endPoint?this._canvasOptions.endPoint:v},from(s){return s-this._canvasOptions.startPoint}},yt=function(s){return(0,de.S6)(pe,function(v,d){s[d]=parseInt(s[d])||0}),s};function Tt(s){return{isStartSide:s?function(v,d,p,b){return v<=d[d.length-1][b]}:function(v,d,p,b){return v<d[0][p]},isEndSide:s?function(v,d,p,b){return v>d[0][p]}:function(v,d,p,b){return v>=d[d.length-1][b]},isInBreak:s?function(v,d,p,b){return v>d[b]&&v<=d[p]}:function(v,d,p,b){return v>=d[p]&&v<d[b]},isBetweenBreaks:s?function(v,d,p,b,S){return v>=d[S]&&v<p[b]}:function(v,d,p,b,S){return v<d[b]&&v>=p[S]},getLength:s?function(v,d){return d.length-v.length}:function(v){return v.length},getBreaksSize:s?function(v,d){return d.cumulativeWidth-v.cumulativeWidth}:function(v){return v.cumulativeWidth}}}var C=function(s,v,d){this.update(s,v,d)};C.prototype={constructor:C,reinit:function(){var s=this,v=s._options,d=s._businessRange,p=d.categories||[],b={},S=s._prepareCanvasOptions(),I=(0,We.Xc)(p,d.minVisible,d.maxVisible).categories,w=I.length;if(d.isEmpty())b=mt;else switch(d.axisType){case"logarithmic":b=Mt;break;case"semidiscrete":b=_e,S.ratioOfCanvasRange=S.canvasLength/(Oe.Z.addInterval(S.rangeMaxVisible,v.interval)-S.rangeMinVisible);break;case"discrete":b=Je,s._categories=p,S.interval=s._getDiscreteInterval(v.addSpiderCategory?w+1:w,S),s._categoriesToPoints=function(s){var v={};return s.forEach(function(d,p){v[d.valueOf()]=p}),v}(p),w&&(S.startPointIndex=s._categoriesToPoints[I[0].valueOf()],s.visibleCategories=I);break;default:"datetime"===d.dataType&&(b=et)}(s._oldMethods||[]).forEach(function(G){delete s[G]}),s._oldMethods=Object.keys(b),(0,He.l)(s,b),s._conversionValue=v.conversionValue?function(G){return G}:function(G){return Math.round(G)},s.sc={},s._checkingMethodsAboutBreaks=[Tt(!1),Tt(s.isInverted())],s._translateBreaks(),s._calculateSpecialValues()},_translateBreaks:function(){var d,p,b,S,s=this._breaks,v=this._options.breaksSize;if(void 0!==s)for(d=0,S=s.length;d<S;d++)b=this.translate((p=s[d]).to),p.end=b,p.start=p.gapSize?b:this.isInverted()?b+v:b-v},_checkValueAboutBreaks:function(s,v,d,p,b){var S,I,G,j,w={length:0,breaksSize:void 0,inBreak:!1},te=s[s.length-1];if(b.isStartSide(v,s,d,p))return w;if(b.isEndSide(v,s,d,p))return{length:te.length,breaksSize:te.cumulativeWidth,inBreak:!1};for(S=0,I=s.length;S<I;S++){if(j=s[S-1],b.isInBreak(v,G=s[S],d,p)){w.inBreak=!0,w.break=G;break}if(j&&b.isBetweenBreaks(v,G,j,d,p)){w={length:b.getLength(j,te),breaksSize:b.getBreaksSize(j,te),inBreak:!1};break}}return w},isInverted:function(){return!(this._options.isHorizontal^this._businessRange.invert)},_getDiscreteInterval:function(s,v){var d=s-(this._options.stick?1:0);return d>0?v.canvasLength/d:v.canvasLength},_prepareCanvasOptions(){var b,s=this._businessRange,v=this._canvasOptions=function we(s){var v=s.min,d=s.max,p=s.minVisible,b=s.maxVisible;return"logarithmic"===s.axisType&&(b=(0,We.RI)(b,s.base,s.allowNegatives,s.linearThreshold),p=(0,We.RI)(p,s.base,s.allowNegatives,s.linearThreshold),v=(0,We.RI)(v,s.base,s.allowNegatives,s.linearThreshold),d=(0,We.RI)(d,s.base,s.allowNegatives,s.linearThreshold)),{base:s.base,rangeMin:v,rangeMax:d,rangeMinVisible:p,rangeMaxVisible:b}}(s),d=this._canvas,p=this._breaks;return v.startPadding=d.startPadding||0,v.endPadding=d.endPadding||0,this._options.isHorizontal?(v.startPoint=d.left+v.startPadding,b=d.width,v.endPoint=d.width-d.right-v.endPadding,v.invert=s.invert):(v.startPoint=d.top+v.startPadding,b=d.height,v.endPoint=d.height-d.bottom-v.endPadding,v.invert=!s.invert),this.canvasLength=v.canvasLength=v.endPoint-v.startPoint,v.rangeDoubleError=Math.pow(10,(0,We.wg)(v.rangeMax-v.rangeMin)-(0,We.wg)(b)-2),v.ratioOfCanvasRange=v.canvasLength/(v.rangeMaxVisible-v.rangeMinVisible),void 0!==p&&(v.ratioOfCanvasRange=(v.canvasLength-p[p.length-1].cumulativeWidth)/(v.rangeMaxVisible-v.rangeMinVisible-p[p.length-1].length)),v},updateCanvas:function(s){this._canvas=yt(s),this.reinit()},updateBusinessRange:function(s){var v=s.breaks||[];this._userBreaks=s.userBreaks||[],this._businessRange=function(s){function v(d,p){!(0,P.$K)(s[d])&&(0,P.$K)(s[p])&&(s[d]=s[p])}return s instanceof H.e||(s=new H.e(s)),v("minVisible","min"),v("maxVisible","max"),s}(s),this._breaks=v.length?function Zt(s,v){var b,S,I,w,d="logarithmic"===v.axisType?function(te){return(0,We.RI)(te,v.base)}:function(te){return te},p=[],G=s.length,j=0;for(w=0;w<G;w++)S=d((b=s[w]).from),I=d(b.to),p.push({trFrom:S,trTo:I,from:b.from,to:b.to,length:j+=I-S,cumulativeWidth:b.cumulativeWidth});return p}(v,this._businessRange):void 0,this.reinit()},update:function(s,v,d){this._options=(0,He.l)(this._options||{},d),this._canvas=yt(v),this.updateBusinessRange(s)},getBusinessRange:function(){return this._businessRange},getEventScale:function(s){return s.deltaScale||1},getCanvasVisibleArea:function(){return{min:this._canvasOptions.startPoint,max:this._canvasOptions.endPoint}},_calculateSpecialValues:function(){var w,s=this._canvasOptions,v=s.startPoint-s.startPadding,d=s.endPoint+s.endPadding,p=this._businessRange,b=p.minVisible,S=p.maxVisible,I=v+s.canvasLength/2;if(b<0&&S>0&&b!==S&&(w=this.translate(0,1)),!(0,P.$K)(w)){var G=p.invert^(b<0&&S<=0);w=this._options.isHorizontal?G?d:v:G?v:d}this.sc={canvas_position_default:w,canvas_position_left:v,canvas_position_top:v,canvas_position_center:I,canvas_position_middle:I,canvas_position_right:d,canvas_position_bottom:d,canvas_position_start:s.invert?d:v,canvas_position_end:s.invert?v:d}},translateSpecialCase(s){return this.sc[s]},_calculateProjection:function(s){var v=this._canvasOptions;return v.invert?v.endPoint-s:v.startPoint+s},_calculateUnProjection:function(s){var v=this._canvasOptions;return"datetime"===this._businessRange.dataType&&(s=Math.round(s)),v.invert?v.rangeMaxVisible.valueOf()-s:v.rangeMinVisible.valueOf()+s},getMinBarSize:function(s){var v=this.getCanvasVisibleArea(),d=this.from(v.min+s);return je(this.from(v.min)-((0,P.$K)(d)?d:this.from(v.max)))},checkMinBarSize:function(s,v,d){return je(s)<v?s>=0?v:-v:s},translate(s,v){var d=this.translateSpecialCase(s);return(0,P.$K)(d)?Math.round(d):isNaN(s)?null:this.to(s,v)},getInterval:function(s){var v,d=this._canvasOptions;return s=null!==(v=s)&&void 0!==v?v:this._businessRange.interval,Math.round(s?d.ratioOfCanvasRange*s:d.endPoint-d.startPoint)},zoom(s,v,d){var p=this._canvasOptions;if(p.rangeMinVisible.valueOf()===p.rangeMaxVisible.valueOf()&&0!==s)return this.zoomZeroLengthRange(s,v);var b=p.startPoint,S=p.endPoint,I=this.isInverted(),w=(b+s)/v,G=(S+s)/v;d=d||{};var le,V,j=this.to(I?d.endValue:d.startValue),te=this.to(I?d.startValue:d.endValue);return j>w&&(G-=w-j,w=j,le=I?d.endValue:d.startValue),te<G&&(w-=G-te,G=te,V=I?d.startValue:d.endValue),te-j<G-w&&(w=j,G=te),v=(b+(s=(S-b)*w/(G-w)-b))/w||1,le=(0,P.$K)(le)?le:(0,U.zB)(this.from(w,1)),V=(0,P.$K)(V)?V:(0,U.zB)(this.from(G,-1)),v<=1&&(le=this._correctValueAboutBreaks(le,1===v?s:-1),V=this._correctValueAboutBreaks(V,1===v?s:1)),le>V?(le=le>d.endValue?d.endValue:le,V=V<d.startValue?d.startValue:V):(le=le<d.startValue?d.startValue:le,V=V>d.endValue?d.endValue:V),{min:le,max:V,translate:(0,U.zB)(s),scale:(0,U.zB)(v)}},_correctValueAboutBreaks(s,v){var d=this._userBreaks.filter(p=>s>=p.from&&s<=p.to);return d.length?v>0?d[0].to:d[0].from:s},zoomZeroLengthRange(s,v){var d=this._canvasOptions,p=d.rangeMin,b=d.rangeMax,S=(b.valueOf()!==p.valueOf()?b.valueOf()-p.valueOf():je(d.rangeMinVisible.valueOf()-p.valueOf()))/d.canvasLength,I=(0,P.J_)(b)||(0,P.J_)(p),w="logarithmic"===this._businessRange.axisType,G=d.rangeMinVisible.valueOf()-S,j=d.rangeMaxVisible.valueOf()+S;return{min:G=w?(0,U.zB)((0,We.p3)(G,d.base)):I?new Date(G):G,max:j=w?(0,U.zB)((0,We.p3)(j,d.base)):I?new Date(j):j,translate:s,scale:v}},getMinScale:function(s){var{dataType:v,interval:d}=this._businessRange;return"datetime"===v&&1===d?this.getDateTimeMinScale(s):s?1.1:.9},getDateTimeMinScale(s){var v=this._canvasOptions,d=v.canvasLength/v.ratioOfCanvasRange;return d+=(parseInt(.1*d)||1)*(s?-2:2),v.canvasLength/(Math.max(d,1)*v.ratioOfCanvasRange)},getScale:function(s,v){var d=this._canvasOptions;return d.rangeMax===d.rangeMin?1:(s=(0,P.$K)(s)?this.fromValue(s):d.rangeMin,v=(0,P.$K)(v)?this.fromValue(v):d.rangeMax,(d.rangeMax-d.rangeMin)/Math.abs(s-v))},isValid:function(s){var v=this._canvasOptions;return null!==(s=this.fromValue(s))&&!isNaN(s)&&s.valueOf()+v.rangeDoubleError>=v.rangeMin&&s.valueOf()-v.rangeDoubleError<=v.rangeMax},getCorrectValue:function(s,v){var p,d=this._breaks;return s=this.fromValue(s),this._breaks&&!0===(p=this._checkValueAboutBreaks(d,s,"trFrom","trTo",this._checkingMethodsAboutBreaks[0])).inBreak?this.toValue(v>0?p.break.trTo:p.break.trFrom):this.toValue(s)},to:function(s,v){var d=this.getBusinessRange();if((0,P.$K)(d.maxVisible)&&(0,P.$K)(d.minVisible)&&d.maxVisible.valueOf()===d.minVisible.valueOf())return(0,P.$K)(s)&&d.maxVisible.valueOf()===s.valueOf()?this.translateSpecialCase(0===s&&this._options.shiftZeroValue?"canvas_position_default":"canvas_position_middle"):null;s=this.fromValue(s);var p=this._canvasOptions,b=this._breaks,S={length:0},I=0;return void 0!==b&&(S=this._checkValueAboutBreaks(b,s,"trFrom","trTo",this._checkingMethodsAboutBreaks[0]),I=(0,P.$K)(S.breaksSize)?S.breaksSize:0),!0===S.inBreak?v>0?S.break.start:v<0?S.break.end:null:this._conversionValue(this._calculateProjection((s-p.rangeMinVisible-S.length)*p.ratioOfCanvasRange+I))},from:function(s,v){var d=this._breaks,p={length:0},b=this._canvasOptions,S=b.startPoint,I=0;return void 0!==d&&(p=this._checkValueAboutBreaks(d,s,"start","end",this._checkingMethodsAboutBreaks[1]),I=(0,P.$K)(p.breaksSize)?p.breaksSize:0),!0===p.inBreak?v>0?this.toValue(p.break.trTo):v<0?this.toValue(p.break.trFrom):null:this.toValue(this._calculateUnProjection((s-S-I)/b.ratioOfCanvasRange+p.length))},isValueProlonged:!1,getRange:function(){return[this.toValue(this._canvasOptions.rangeMin),this.toValue(this._canvasOptions.rangeMax)]},getScreenRange:function(){return[this._canvasOptions.startPoint,this._canvasOptions.endPoint]},add:function(s,v,d){return this._add(s,v,(this._businessRange.invert?-1:1)*d)},_add:function(s,v,d){return this.toValue(this.fromValue(s)+v*d)},fromValue:function(s){return null!==s?Number(s):null},toValue:function(s){return null!==s?Number(s):null},ratioOfCanvasRange(){return this._canvasOptions.ratioOfCanvasRange},convert:s=>s,getRangeByMinZoomValue(s,v){return v.minVisible+s<=this._businessRange.max?[v.minVisible,v.minVisible+s]:[v.maxVisible-s,v.maxVisible]}}}}]);